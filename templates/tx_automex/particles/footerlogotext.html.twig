{% extends '@nucleus/partials/particle.html.twig' %}

{% block particle %}
    <div class="g-logotext">
        {% set class=(particle.class ? 'class="'~ particle.class ~'"') %}
        {% set url = url(particle.url)|default(gantry.siteUrl()) %}
        {% if (url == gantry.siteUrl()) %}{% set rel='rel="home"' %}{% endif %}
        {% set image = url(particle.image) %}
        {% set height = particle.height ? 'style="max-height: ' ~ particle.height ~ '"' %}

        <div {{ class|default('')|raw }}>
            {% if particle.link == true %}
                <a href="{{ url }}" target="{{ particle.target|default('_self') }}" title="{{ particle.text }}" aria-label="{{ particle.text }}" {{ rel|default('')|raw }}>
            {% else %}<div {{ class|default('')|raw }}>{% endif %}
                {% if particle.svg is not empty %}
                    {{ particle.svg|raw }}
                {% elseif image %}
                    <img src="{{ url(particle.image) }}" {{ height|default('')|raw }} alt="{{ particle.text }}" />
                {% else %}
                    <h4 class="g-title">{{ particle.title|default('Title') }}</h4>
                {% endif %}
            {% if particle.link == true %}</a>{% else %}</div>{% endif %}

            <p>{{ particle.text|default('Text') }}</p>

            <div class="g-social {{ particle.css.class }}">
                {% for item in particle.items %}
                    {% set title = (item.title is not empty) ? item.title|e : item.text|e %}
                    {% set titleAttrib = (title is not empty) ? ' title="' ~ title ~ '" aria-label="' ~ title ~ '"' : '' %}
                    <a href="{{ item.link|e }}"{{ targetAttrib|raw }}{{ titleAttrib|raw }}>
                        {% if particle.display in ['both', 'icons_only'] %}<span class="{{ item.icon|e }}"></span>{% endif %}
                        {% if particle.display in ['both', 'text_only'] %}<span class="g-social-text">{{ item.text|e }}</span>{% endif %}
                    </a>
                {% endfor %}
            </div>      
        </div>      
    </div>
{% endblock %}