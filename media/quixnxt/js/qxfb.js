/*! For license information please see qxfb.js.LICENSE.txt */
(()=>{var e,t,s,i={76551:(e,t,s)=>{"use strict";var i=s(19136),n=s(71773),a=s(87828);const o=new(s.n(a)());var l=s(97317),r=s(71667),d=s(98709),c=s(12542);const p="SET_CONTAINER_WIDTH",u="OPEN_EXPORT_IMPORT",h="OPEN_SAVE_AS_COLLECTION",m="OPEN_SEO",x="UPDATE_QID",g="SET_STATE_FROM_HISTORY",v="UPDATE_NODE_FIELD",f="FORCE_COLUMN_RESIZE",y="ADD_ROW_NODE",b="ADD_COLUMN_NODE",w="ADD_SECTION_NODE",j="ADD_ELEMENT_NODE",q="ADD_MY_ELEMENT_NODE",C="DUPLICATE_NODE",S="COPY_NODE",N="PASTE_NODE",k="INSERT_COPIED_NODES",E="DELETE_NODE",P="MOVE_NODE",T="CHANGE_ROW_LAYOUT",A="SET_NODE_VISIBILITY",O="SET_DEVICE",D="PASTE_NODE_STYLE",R="PASTE_NODE_STYLE_SPECIAL",M="RESET_NODE_STYLE",L="DUPLICATE_COLUMN_NODE",I="INSERT_NODES",F="REPLACE_NODE",K="CHANGE_COLUMN_WIDTH",U="SET_COLUMN_WIDTH",z="EMPTY_NODES",H="SET_ACTION",B="SHOW_ELEMENT_MODAL",W="SET_THEME",V="OPEN_JMEDIA",J="OPEN_TEMPLATES",G="OPEN_SAVE_SECTION_MODAL",Q="OPEN_ELEMENT_SAVE_MODAL",Y="DISPLAY_CONDITIONS_MODAL",X="SHOW_FORM_MODAL",Z="SET_FORM_NODE",ee="SET_DND_PLACEMENT",te="SET_EXTEND_KEYS",se="DELETE_EXTENDED_KEY",ie="SET_TRACK_ACTIONS",ne="SET_TRACK_GROUP_REPEATER_ACTIONS_TOGGLER";function ae(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t=>new Promise((async(s,i)=>{try{await t({type:ie,payload:e}),s()}catch(e){i(e)}}))}function oe(e){return t=>new Promise((async(s,i)=>{try{await t({type:ne,payload:e}),s()}catch(e){i(e)}}))}var le=s(67193),re=s.n(le),de=s(84582),ce=s.n(de);const pe="BEFORE",ue={0:"text-danger",1:"text-success",2:"text-mute"},he={0:"qxuicon-times-circle",1:"qxuicon-check-circle",2:"qxuicon-archive"},me={mobile:"sm",tablet:"md",desktop:"lg"},xe={sm:"mobile",md:"tablet",lg:"desktop"};function ge(){return quix.url.endsWith("/")?quix.url.slice(0,-1):quix.url}function ve(){return window.QuixLicenseStatus}function fe(){var e;return null!==(e=window.QuixCollectionList)&&void 0!==e?e:[]}function ye(){return window.QUIX_ROOT_URL}function be(){return window.QUIXNXT_URL}function we(){return window.QUIXNXT_JMEDIA_PATH_URL}function je(){return jQuery("#jform_token").attr("name")}function qe(){var e;return null===(e=rs("jform_title_hidden"))||void 0===e?void 0:e.value}function Ce(){return window.QuixBuilderType}function Se(){return"false"===window.QUIX_API_VALIDATION.success}const _e=function(e){let t=window.localStorage.getItem(e);try{return JSON.parse(t)}catch(e){return t}},Ne=function(e,t){window.localStorage.setItem(e,JSON.stringify(t))},ke=function(e){window.localStorage.removeItem(e)};var Ee=s(69207),Pe=s.n(Ee),Te=s(72573),Ae=s.n(Te),Oe=s(6728),De=s.n(Oe),Re=s(98181),Me=s.n(Re);function Le(e){return!e||"string"==typeof e&&""===(null==e?void 0:e.trim())||!(!Array.isArray(e)||0!==e.length)||"object"==typeof e&&0===Object.keys(e).length}function Ie(e){return e?e.split("_").map((e=>e.slice(0,1).toUpperCase()+e.slice(1))).join(" "):e}function Fe(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=null;const i={lg:"Desktop",md:"Tablet",sm:"Phone"};return void 0!==i[e]&&(s=i[e]),!s&&Object.values(i).includes(e)&&(s=Object.keys(i)[Object.values(i).indexOf(e)]),s?t?s.toLowerCase():s:null}function Ke(e){if(Le(e))return"";let t;return"object"==typeof e&&void 0!==e.source&&(e=e.source),Pe()(e,"data:image")||Pe()(e,"http")||Pe()(e,"//")?(t=e,(Pe()(e,"https://getquix.net")||Pe()(e,"http://getquix.net"))&&(t=e.replace("https://getquix.net","https://quix.b-cdn.net"),t=t.replace("http://getquix.net","https://quix.b-cdn.net"))):t=Pe()(e,"media")||Pe()(e,window.quix.image_path)?ge()+"/"+e:we()+e.replace(/^\//,""),t}function Ue(e){let t=new URL(e);return t.host="quix.b-cdn.net",t.protocol="https:",t.toString()}const ze=(e,t)=>{const s=[];try{let i=e;for(const e of t)i=i[e],!Me()(i)&&i&&s.push(i.id)}catch(e){console.error("Error in collectNodeIds",e)}return!!s.length&&s};var He=s(10805),Be=s.n(He);Be().config({driver:[Be().WEBSQL,Be().INDEXEDDB,Be().LOCALSTORAGE],name:"Quix@v4.x.x Cache Storage"});const We=e=>Be().getItem(e),Ve=(e,t)=>Be().setItem(e,t);let Je,Ge={};const Qe=e=>new Promise(((t,s)=>{const i=[];for(const t in e)if(e.hasOwnProperty(t))if("string"==typeof e[t]||Array.isArray(e[t]))i.push(Ve(t,e[t]));else for(const s in e[t])e[t].hasOwnProperty(s)&&e[t][s]&&i.push(Ve("".concat(t,"-").concat(s),e[t][s]));Promise.all(i).then((()=>{t()})).catch(s)})),Ye=()=>(Je||[]).map((e=>{const t=new Set(e.groups);return t.has("pro")?(t.delete("pro"),{...e,tag:"pro",groups:Array.from(t)}):{...e,tag:"free"}})),Xe=e=>Ge[e],Ze=e=>We("".concat(e,"-html")),$e=e=>We("".concat(e,"-script")),et=e=>We("".concat(e,"-schema")),tt=e=>We("".concat(e,"-default_node")),st=async()=>new Promise((async e=>{if(Ge=await We("qx-elements-svg-icons")||{},Object.keys(Ge).length)return e();(Je||[]).forEach((async(t,s)=>{let{slug:i,thumb_file:n}=t;if(await async function(e,t){try{const s=await fetch(t);if(200!==s.status)throw Error("Fetch failed for ".concat(e,": ").concat(s.status));const i=await s.text();return Ge[e]=i,i}catch(s){try{const s=await fetch(t);if(200!==s.status)throw Error("Fetch failed for ".concat(e,": ").concat(s.status));const i=await s.text();return Ge[e]=i,i}catch(e){return console.error(e),"<svg></svg>"}}}(i,n),Je.length-1===s){try{await Ve("qx-elements-svg-icons",Ge)}catch(e){console.error(e)}e()}}))}));var it=s(865),nt=s(24753),at=s.n(nt),ot=s(87857);const lt=(0,ot.jsxs)("svg",{width:"4rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ot.jsx)("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),(0,ot.jsx)("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),(0,ot.jsxs)("g",{id:"SVGRepo_iconCarrier",children:[" ",(0,ot.jsx)("path",{d:"M12.8306 3.443C12.6449 3.16613 12.3334 3 12.0001 3C11.6667 3 11.3553 3.16613 11.1696 3.443L7.38953 9.07917L2.74781 3.85213C2.44865 3.51525 1.96117 3.42002 1.55723 3.61953C1.15329 3.81904 0.932635 4.26404 1.01833 4.70634L3.70454 18.5706C3.97784 19.9812 5.21293 21 6.64977 21H17.3504C18.7872 21 20.0223 19.9812 20.2956 18.5706L22.9818 4.70634C23.0675 4.26404 22.8469 3.81904 22.4429 3.61953C22.039 3.42002 21.5515 3.51525 21.2523 3.85213L16.6106 9.07917L12.8306 3.443Z",fill:"#fff"})," "]})]}),rt={isLicenseInactive:"inactive"===ve(),goPro(){const e=this.isLicenseInactive?ye()+"administrator/index.php?option=com_quix&view=config":"https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=".concat(this.props.requestFrom||"","&utm_content=upgrade-now");window.open(e,"_blank")},log(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"qxuicon-smile",n=arguments.length>4?arguments[4]:void 0;window.Notification.open({message:e,description:t,className:s,prefixCls:"qxui-notification",icon:n?lt:(0,ot.jsx)("i",{className:"".concat(i)})})},info(e){this.log("Info",e,"qxui-notification---info","qxuicon-meh")},warning(e){this.log("Warning",e,"qxui-notification---warning","qxuicon-meh")},success(e){this.log("Success",e,"qxui-notification---success")},error(e){this.log("Error",e,"qxui-notification---error","qxuicon-frown")},upgradeToPro(e,t){const s=this.isLicenseInactive?"Activate PRO":"Upgrade To Pro",i=(0,ot.jsxs)("p",{children:[this.isLicenseInactive?"This is a pro feature. Your Pro License is missing.":"This is functionality only available in PRO version.",(0,ot.jsx)("a",{style:{color:"var(--clr-color-primary)"},target:"#",onClick:()=>this.goPro(t),children:this.isLicenseInactive?" Activate PRO":" Upgrade Now"})]});this.log(s,e||i,"qxui-notification---info","",!0)}},dt=rt;async function ct(e){let t=[],s=0,i=0;if(await async function e(n){if(at()(n)){var a=Object.entries(n);for(let n=0;n<a.length;n+=1){const[o,l]=a[n];if("image"==o||"src"==o||"poster"==o){if(""!=l&&l.base_domain!=ye()){let e={...l},n=t.findIndex((t=>t.source===e.source));""!=e.source&&null!=e.base_domain&&""!=e.base_domain&&e.base_domain!=ye()&&-1===n&&(t.push(e),s++,i++),-1!=n&&i++,l.base_domain=ye()}}else e(l)}}else Me()(n)&&n.map((t=>{e(t)}))}(e),s>0){dt.info("We are downloading remote images to your local. Please wait...");var n=0,a=t.length,o=0,l=!1;async function r(){let e=t[n],s=new FormData;if(s.set("data",JSON.stringify(e)),""!=e.base_domain&&""!=e.source){if(await De()({method:"post",url:ge()+"/index.php?option=com_quix&task=api.downloadMedia&"+quix._token+"=1",data:s,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((e=>{0==e.data.data&&o++,504==e.status?dt.warning("Failed to load resource: 504 (Gateway Time-out)"):200!=e.status&&dt.warning(e.statusText,"Something is wrong."),l=!0})).catch((e=>{e&&dt.warning(response.statusText,"Something is wrong.")})),++n>a-1)return;await r()}}await r(),o>0&&o<a?1==o?dt.warning("Remote images downloaded partially. "+i+" images are found! \n"+(i-o)+" successfully downloaded!But "+o+" is failed."):dt.warning("Remote images downloaded partially. "+i+" images are found! \n"+(i-o)+" successfully downloaded!But "+o+" are failed."):l&&!o?1==i?dt.success("Remote image downloaded successfully."):dt.success(i+" remote images are found & downloaded successfully."):dt.warning("Download process has failed. Please download your image manually.")}}const pt={};let ut;setInterval((()=>{const e=new Date;for(const t in pt)pt.hasOwnProperty(t)&&pt[t].time<e-3600&&delete pt[t]}),1e4),document.addEventListener("DOMContentLoaded",(function(){var e;const t=rs("q-store");try{ut=null==t?void 0:t.contentWindow}catch(e){ut=null==t?void 0:t.contentWindow}null===(e=ut)||void 0===e||e.postMessage({action:"init"},"*"),window.addEventListener("message",(e=>{if("https://getquix.net"!==e.origin)return;const{result:t,requestId:s}=e.data;pt[s]&&pt[s].callback(t)}))}));const ht=(e,t,s)=>new Promise((i=>{var n;const a=Math.trunc(1e6*Math.random());null===(n=ut)||void 0===n||n.postMessage({action:e,payload:{key:t,value:s,requestId:a}},"*"),pt[a]={callback:i,time:new Date}})),mt=e=>ht("get",e),xt=(e,t)=>ht("set",e,t);function gt(e){return!["section","row","column"].includes(e.slug)}function vt(e){const t=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["lg","md","sm"];ls.click();const{node:{visibility:i},path:n}=e.props,a={...i};for(const e of Object.keys(a))s.includes(e)&&(a[e]=t);e.props.setNodeVisibility(n,a)},{device:s,node:{visibility:i}}=e.props,n=Object.values(i).filter((e=>!!e)).length>2?(0,ot.jsxs)(it.q7,{onClick:()=>t(!1),children:[(0,ot.jsx)("i",{className:"qxuicon-low-vision"})," Disable for all"]},"setNodeVisibilityDisable"):(0,ot.jsxs)(it.q7,{onClick:()=>t(!0),children:[(0,ot.jsx)("i",{className:"qxif-eye"})," Enable for all"]},"setNodeVisibilityEnable"),a=e=>e?(0,ot.jsx)("i",{className:"qxif-eye"}):(0,ot.jsx)("i",{className:"qxuicon-low-vision"});return(0,ot.jsxs)(it.Qw,{label:(0,ot.jsxs)("span",{onClick:()=>t(!i[s],[s]),children:[a(i[s]),i[s]?"Disable for ".concat(Fe(s)):"Enable for ".concat(Fe(s))]}),arrow:(0,ot.jsx)("i",{className:"qxif-caret-right"}),children:[n,["lg","md","sm"].map((e=>e!==s?(0,ot.jsxs)(it.q7,{onClick:()=>t(!i[e],[e]),children:[a(i[e])," ",i[e]?"Disable":"Enable"," for ",Fe(e)]},e):null))]},"visibilitySubmenu")}function ft(e){return["section","row","column","element"].indexOf(e)}function yt(e,t){const s=ft(e),i=ft(t);return s<=i&&i-s<=1}function bt(e){let t=[];e.props.node.id&&t.push((0,ot.jsxs)(it.q7,{onClick:()=>Se()?dt.upgradeToPro():e.props.copyNode(e.props.path),children:[(0,ot.jsx)("i",{className:"qxuicon-clipboard"})," Copy"]},"copy"));const s=async function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Se())return dt.upgradeToPro(void 0,"copy-pest");const s=await mt("qx-node").then((function(e){return e}));await ct(s),e.props.pasteNode(e.props.path,t)};return t.push((0,ot.jsxs)(it.Qw,{label:(0,ot.jsxs)("span",{style:{width:"100%"},onClick:()=>{s(!0);const{hideAll:t}=(0,it.EF)({id:e.state.id});t()},children:[" ",(0,ot.jsx)("i",{className:"qxuicon-paste"})," Paste "]}),arrow:(0,ot.jsx)("i",{className:"qxif-caret-right"}),children:[(0,ot.jsxs)(it.q7,{onClick:()=>s(!1),children:[(0,ot.jsx)("i",{className:"qxuicon-paste"}),"Paste Above"]},"paste"),(0,ot.jsxs)(it.q7,{onClick:()=>Se()?dt.upgradeToPro(void 0,"copy-pest"):e.props.pasteNodeStyle(e.props.path),children:[(0,ot.jsx)("i",{className:"qxuicon-paint-brush"}),"Paste Style"]},"paste-style")]},"pasteSubmenu")),t}const wt=[],jt=[],qt=[],Ct=[[[1,1]],[[1,2],[1,2]],[[1,3],[1,3],[1,3]],[[1,4],[1,4],[1,4],[1,4]],[[2,3],[1,3]],[[1,3],[2,3]],[[1,4],[3,4]],[[3,4],[1,4]],[[1,2],[1,4],[1,4]],[[1,4],[1,4],[1,2]],[[1,4],[1,2],[1,4]],[[1,5],[1,5],[1,5],[1,5],[1,5]]];function St(e){return Jt(jt.find((t=>t.slug===e)))}function _t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=St("column"),s=Gt(t.slug);let i=Nt(e);const n=t.form;return{id:s,hash:Gt("edit-hash"),children:[],slug:t.slug,form:{...n,general:{...n.general,layout_fields_group:{...n.general.layout_fields_group,col_width:i}},advanced:{...n.advanced,identifier:{...n.advanced.identifier,id:s,label:n.name}}},visibility:{...t.visibility}}}function Nt(e){return{desktop:e=parseFloat((100*e).toFixed(5)),tablet:e,phone:100,unit:"%"}}function kt(e,t){return e.map((e=>(e.form.general.layout_fields_group.col_width={...t},e.hash=Gt("qx-edit"),e)))}function Et(e,t,s){return Kt([...e],[...t],((e,t)=>(t[e]=s,t)))}function Pt(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Kt([...e],[...t],((e,t)=>{const i=Lt(t,e+1,Rt(Jt(t[e])));return s?kt(i,Nt(1/i.length)):i}))}function Tt(e,t,s){return It(e,s,Rt(Jt(t)))}function At(e,t){const s=e.form.advanced,{id:i,class:n,acl:a}=t.form.advanced.identifier;return{...e,form:{...e.form,advanced:{...s,identifier:{...s.identifier,id:i,class:n,acl:a}}}}}function Ot(e,t,s){return Kt(e,t,((e,t)=>(t[e]=Dt(t[e],s),t)))}function Dt(e,t){return t?Array.isArray(e)?e.map(((e,s)=>Dt(e,t[s]))):(Object.keys(e).forEach((s=>{void 0!==t[s]&&("object"==typeof e[s]?e[s]=Dt(e[s],t[s]):e[s]=t[s])})),e):e}function Rt(e){const t=Array.isArray(e);return t||(e=[e]),e=[...e].map((e=>{var t;return e.id=Gt(e.slug),e.form.advanced.identifier.id=e.id,null!==(t=e.children)&&void 0!==t&&t.length&&(e.children=Rt(e.children)),e})),t?e:e[0]}function Mt(e,t){return Kt(e,t,((e,t)=>(delete t[e],Array.isArray(t)?t.filter((e=>!!e)):t)))}function Lt(e,t,s){return[...e.slice(0,+t),s,...e.slice(+t)]}function It(e,t,s){return Kt(e,t,((e,t)=>Lt(t,e,s)))}function Ft(e,t,s){return Kt(e,t,((e,t)=>(t[e]=s,t)))}function Kt(e,t,s){const i=t.shift();return e=Array.isArray(e)?[...e]:{...e},0===t.length?s(i,e):(void 0===e[i]||(e[i]=Kt(e[i],t,s)),e)}function Ut(e,t,s,i){return Kt(e,t,((e,t)=>{const n=t[e];return n.hash=Gt("edit-hash"),t[e]={...zt(n,s,i)},t}))}function zt(e,t,s){const i=t.shift();return void 0===e[i]?e:0===t.length?(e[i]=s,e):(e[i]=zt(e[i],t,s),e)}function Ht(e,t){const s=t.shift();return e&&void 0!==e[s]?t.length>0?Ht(e[s],t):e[s]:null}function Bt(e,t){return Kt(e,t,((e,t)=>{const s=t[e];if("row"!==s.slug)return t;const i=Nt(1/(s.children.length||1));return s.children=kt(s.children,i),t[e]=s,t}))}function Wt(e){if(!Array.isArray(e)&&e.label&&(!e.schema||0===node.schema.length))return Vt(e);let t={};return e.forEach(((e,s)=>{void 0===e.name?Array.isArray(e)?t[s]=Vt(e):t[s]=e:t[e.name]=Vt(e)})),0===Object.keys(t).filter((e=>!Number.isInteger(+e))).length?Object.values(t):t}function Vt(e){return"group-repeater"===e.type?e.value.map(Wt):e.value?Array.isArray(e.value)?((null===(t=e.units)||void 0===t?void 0:t.length)>0&&"object"==typeof e.value&&e.units.includes(e.suffix)&&(e.value.unit=e.value.unit||e.suffix),Wt(e.value)):"object"==typeof e.value&&e.value.label&&e.value.value?e.value.value:e.value:e.value;var t}function Jt(e){if(void 0===e)return{};try{return JSON.parse(JSON.stringify(e))}catch(e){}}function Gt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t="";for(let e=0;e<5;e++)t+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(36*Math.random()));return e?"qx-".concat(e.replace(/^qx-/,"").replace(/-\d+$/,""),"-").concat(t):t}function Qt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image";if(!e||"object"!=typeof e)return[];if(Array.isArray(e))return e.flatMap((e=>Qt(e,t)));let s=[];for(const i in e){if(!e.hasOwnProperty(i))continue;const n=e[i];n&&"object"==typeof n&&(n.type&&n.source&&n.type===t?s.push(n.source):s=[...s,...Qt(n,t)])}return s}function Yt(e){var t;let s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e.props.copiedNode)return!1;let i=!1;const n=gt(e.props.copiedNode)?"element":null===(t=e.props)||void 0===t||null===(t=t.copiedNode)||void 0===t?void 0:t.slug;if(e.props.copiedNode&&"element"===n&&s)i=!0;else if(e.props.node&&"element"===n){var a;i=yt(gt(e.props.node)?"element":null===(a=e.props)||void 0===a||null===(a=a.node)||void 0===a?void 0:a.slug,n)}return i}re().cache(!0),re().extendFilter("wrap",(function(e,t){return"<".concat(t,"> ").concat(e," </").concat(t,">")})),re().extendFilter("json_decode",(function(e){return Ae()(e)?"":JSON.parse(e)})),re().extendFilter("removeLines",(function(e){return null==e?void 0:e.replace(/(\r\n|\n|\r)/gm,"")})),re().extendFilter("link",(function(e){var t,s,i;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=null===(t=n[0])||void 0===t?void 0:t.url,o=null===(s=n[0])||void 0===s?void 0:s.target,l=null===(i=n[0])||void 0===i?void 0:i.nofollow,r="",d="";return n[1]&&(r='class="'+n[1]+'"'),n[2]&&(d=" "+n[2]),o=o?'target="_blank"':"",l=l?'rel="nofollow"':"",a?"<a ".concat(r,' href="').concat(a,'" ').concat(o," ").concat(l).concat(d,"> ").concat(e," </a>"):"".concat(e)})),re().extendFunction("inlineEditor",(function(e){const t=this.context.path,s=Gt(this.context.advanced.identifier.id);return'id="inline-editable-'.concat(s,'" data-node-path="').concat(t,'" data-value-path="').concat(e,'"')})),re().extendFunction("startTag",(function(e,t){return"<".concat(e," ").concat(t,">")})),re().extendFunction("replaceAll",(function(e,t,s){return null==e?void 0:e.replaceAll(t,s)})),re().extendFunction("loadSvg",(function(e){return Pe()(e,"<svg")||Pe()(e,"<?xml")?e:'<i class="'.concat(e,'"></i>')})),re().extendFunction("icon",(function(e){return Pe()(e,"<svg")||Pe()(e,"<?xml")?e:"svg"===e.split(".").pop()?'<img src="'+ge()+"/"+e+'" alt="icon-alt" class="qx-preserve" qx-svg="" />':'<i class="'.concat(e,'"></i>')})),re().extendFunction("prepareWidthValue",(function(e){return e.unit?e:{unit:"%",value:e}})),re().extendFunction("prepareResponsiveValue",(function(e){if("object"!=typeof e)return{value:{},unit:"px"};if(void 0!==e.desktop)return e.unit=Ae()(e.unit)?"px":e.unit,e;{let t=e.value;return t.unit=void 0===e.unit?"px":e.unit,t}})),re().extendFunction("prepareSvgSizeValue",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"object"==typeof e?e:{value:e,unit:"px"}})),re().extendFunction("visibilityClass",(function(){return""})),re().extendFunction("isGdprComplianceEnabled",(function(){return 1===window.QUIX_GDPR_COMPLIANCE})),re().extendFunction("JTranslate",(function(e){var t,s;return null!==(t=null===(s=window)||void 0===s||null===(s=s.Joomla)||void 0===s||null===(s=s.JText)||void 0===s?void 0:s._(e))&&void 0!==t?t:""})),re().extendFunction("visibilityClassNode",(function(){return""})),re().extendFunction("image",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(Ae()(e))return"";t=t.replace(/(<([^>]+)>)/gi,"");let a=Ke(e);return null!==n&&n.dimension?'<img draggable="false" data-src="'.concat(a,'" alt="').concat(t,'" class="').concat(s,'" width="').concat(n.dimension.width,'" height="').concat(n.dimension.height,'" ').concat(i," qx-img/>"):'<img data-width="100" data-height="100" draggable="false" data-src="'.concat(a,'" alt="').concat(t,'" class="').concat(s,'" ').concat(i," qx-img/>")})),re().extendFunction("imageUrl",(function(e){if(Ae()(e))return"";let t;return"object"==typeof e&&void 0!==e.source&&(e=e.source),t=Pe()(e,"data:image")||Pe()(e,"http")?e:Pe()(e,"libraries")||Pe()(e,"media")||Pe()(e,"images")?quix.url+"/"+e:we()+e.replace(/^\//,""),t})),re().extendFunction("rootUrl",(function(){return ye()})),re().extendFunction("video",(function(e,t){var s,i;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" playsInline controls ";const a=null!==(s=null==t?void 0:t.link_type)&&void 0!==s?s:"";if(["youtube","vimeo"].includes(a)){const s="youtube"===a?t.youtube_link:t.vimeo_link;return'<div id="video-'.concat(e,'" data-plyr-provider="').concat(a,'" data-plyr-embed-id="').concat(s,'"> Loading...</div>')}if("custom"===a&&null!==(i=t.custom_video)&&void 0!==i&&i.source){let s=t.custom_video.source,i=Ke(t.video_poster.source),a=Ke(s),o="video/"+s.split(".").pop();return'<video id="'.concat(e,'" poster="').concat(i,'" ').concat(n,'>\n    <source type="').concat(o,'" src="').concat(a,'" />\n    Your browser does not support the video tag.\n  </video>')}return'<p class="qx-alert qx-alert-warning qx-m-0">Please select video first!</p>'})),re().extendFunction("getJoomlaModule",(function(e,t){let s=je(),i="".concat(ge(),"/index.php?option=com_quix&task=api.getJoomlaModule&id=").concat(e,"&style=").concat(t,"&").concat(s,"=1");return new Promise((function(e,t){De().get(i).then((t=>{let s=t.data.replace(/name=/g,"xname=").replace(/<form/g,"<xform");e(s)})).catch((e=>{t(e)}))}))})),re().extendFunction("getQuixTemplate",(function(e){let t=je(),s="".concat(ge(),"/index.php?option=com_quix&task=api.getQuixTemplate&id=").concat(e,"&").concat(t,"=1");return new Promise((function(e,t){De().get(s).then((t=>{let s=t.data.replace(/name=|form/gi,(function(e){return"x"+e}));e(s)})).catch((e=>{t(e)}))}))})),re().extendFunction("ElementApiCall",(function(e,t){let s=btoa(JSON.stringify(t)),i="".concat(ge(),"/index.php?option=com_quix&task=ajax&builder=frontend&element=").concat(e,"&").concat(je(),"=1&data=").concat(s);return new Promise((function(e,t){De().get(i).then((t=>{(t=t.data).success?e(t.data):e(e.messages)})).catch((e=>{t(e)}))}))})),re().extendFunction("ajaxPostQuix",(function(e,t){let s=new FormData;for(let e in t)s.set(e,t[e]);let i="".concat(ge(),"/index.php?option=com_quix&task=ajax&builder=frontend&element=").concat(e,"&").concat(je(),"=1");return new Promise((function(e,t){De().post(i,s).then((t=>{(t=t.data).success?e(t.data):e(e.messages)})).catch((e=>{t(e)}))}))})),re().extendFunction("prepareContent",(function(e,t){if(!t||"false"===t)return e;let s=je(),i="".concat(ge(),"/index.php?option=com_quix&task=api.prepareContent&").concat(s,"=1"),n=new FormData;return n.set("content",e),new Promise((function(e,t){De()({method:"post",url:i,data:n,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((t=>{let s=t.data.replace(/name=|form/gi,(function(e){return"x"+e}));e(s)})).catch((e=>{t(e)}))}))})),re().extendFunction("startsWith",(function(e,t){return Pe()(e,t)})),re().extendFunction("validateJoomlaCaptcha",(()=>"true")),re().extendFunction("captchaPublicKey",(function(){return _e("captcha-public-key")})),re().extendFunction("classNames",(function(){return ce()(...arguments).replace("_keys","")})),re().extendFunction("getOpacity",(function(e,t){return e.state[t].opacity})),re().extendFunction("wrapper",(function(e,t){return arguments.length>3&&void 0!==arguments[3]&&arguments[3]?"</"+e+">":"<"+e+">"})),re().extendFunction("formFooter",(function(){return""})),re().extendFunction("lazyBackground",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";var s;return t||(t=null==e||null===(s=e.state)||void 0===s||null===(s=s.normal)||void 0===s||null===(s=s.properties)||void 0===s||null===(s=s.src)||void 0===s?void 0:s.source),t?"style=\"background-image:url('"+t+"');\"":""})),re().extendFunction("ifElementHasBackground",(function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!(null==t||null===(e=t.state)||void 0===e||null===(e=e.normal)||void 0===e||null===(e=e.properties)||void 0===e||null===(e=e.src)||void 0===e?void 0:e.source)})),re().extendFunction("addIconStyle",(function(e,t){let s=t.properties.size;return"object"==typeof s&&(s=s.value),'<style type="text/css">\n                    '.concat(e," i {color: ").concat(t.properties.color,";font-size: ").concat(s,"px;}\n                    ").concat(e," polygon,").concat(e," path {fill: ").concat(t.properties.color,";}\n                    ").concat(e," svg {width: ").concat(s,"px;}\n                </style>")})),re().extendFunction("allfield",(function(){return"[]"})),re().extendFunction("fieldsGroup",(function(e,t){return e[t]})),re().extendFunction("getQuixElementPath",(function(){return be()+"/app/visual-builder"})),re().extendFunction("raw",(function(e,t){let s=t||"";return'<img src="'.concat(be()+e,'" alt="').concat(s,'" />')})),re().extendFunction("mediaFile",(function(e,t){let s=t||"";return'<img src="'.concat(be()+e,'" alt="').concat(s,'" qx-svg=""/>')})),re().extendFunction("getFileContent",(function(e,t,s){let i=je(),n=btoa(t),a="".concat(ge(),"/index.php?option=com_quix&task=api.getFileContent&source=").concat(e,"&path=").concat(n,"&ext=").concat(s,"&").concat(i,"=1");return localStorage.getItem(a)||new Promise((function(e,t){De().get(a).then((t=>{(t=t.data).success?(localStorage.setItem(a,t.data),e(t.data)):(localStorage.setItem(a,t.messages),e(e.messages))})).catch((e=>{t(e)}))}))})),window.lessThan=function(e,t){return e<t},re().extendFunction("lessThan",window.lessThan),window.greaterThan=function(e,t){return e>t},re().extendFunction("greaterThan",window.greaterThan),window.greaterThanSign=function(){return">"},re().extendFunction("greaterThanSign",window.greaterThanSign),re().extendFunction("field",(function(e){const{advanced:t,general:s,styles:i}=this.context;return Zt(e,{general:s,styles:i,advanced:t})})),s.g.twig=re().twig;const Xt=re().twig;function Zt(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(null===t)return!1;if(void 0!==t[e])return t[e];if("object"!=typeof t)return!1;const i=Object.keys(t);for(const n of i){let i=Zt(e,t[n],[...s,n]);if(i)return i}}let $t={loadedElement:[]};function es(e){let t=e.ctrlKey||e.metaKey,s=e.shiftKey,i=(e.altKey,String.fromCharCode(e.which).toLowerCase());function n(){jQuery("#page-save-btn").trigger("click")}function a(){jQuery("#page-preview").trigger("click")}t&&"s"===i?(n(),e.preventDefault()):t&&s&&"p"===i?(n(),a(),e.preventDefault()):t&&"p"===i?(a(),e.preventDefault()):t&&s&&"r"===i?(window.location.reload(!0),e.preventDefault()):t&&"r"===i&&(window.location.reload(!1),e.preventDefault())}$t.prepare=()=>new Promise((e=>{if($t._prepareCalled)return void e();const t=[];$t._prepareCalled=!0;const s=Ye().map((e=>e.slug));$t.Template={html:{},styles:{},scripts:{},shared:{}};const i=(e,t,s)=>new Promise((i=>{e&&($t.Template[t][s]=Xt({id:"".concat(t,".").concat(s),allowInlineIncludes:!0,data:e})),i(!0)}));for(const e of s)t.push(new Promise((t=>{var s;Promise.all([(s=e,We("".concat(s,"-macro"))),Ze(e)]).then((s=>{let[n,a]=s;n&&(a=n+a),i(a,"html",e).then(t)}))}))),t.push((n=e,We("".concat(n,"-style"))).then((t=>i(t,"styles",e)))),t.push($e(e).then((t=>i(t,"scripts",e))));var n;t.push(We("animation.twig").then((e=>{Xt({id:"animation.twig",data:e})}))),t.push(We("global.twig").then((e=>{Xt({id:"global.twig",data:e})}))),Promise.all(t).then(e)})),$t._replaceAll=function(e,t,s){return e.replace(new RegExp(t,"g"),s)},$t.html=function(e,t,s){if(t=t||{},window.QUIX.Template.html[e])return window.QUIX.Template.html[e].renderAsync(Object.assign(t,{$,_,Assets:$t,QUIXNXT_JMEDIA_PATH_URL})).then((function(e){if(e=$t._replaceAll(e,"&lt;","<"),e=$t._replaceAll(e,"&gt;",">"),!s)return e;ms(s,e)}))},$t.style=function(e,t,s){if(t=t||{},!window.QUIX.Template.styles[e])return;const i=window.QUIX.Template.styles[e].render(...t,{$,_,Assets:$t,QUIXNXT_JMEDIA_PATH_URL}),n=document.createElement("script");n.innerHTML=i,n.id=s?s.replace("#",""):e.replace("#",""),document.querySelector("script#"+s.replace("#",""))&&document.querySelector("script#"+s.replace("#","")).remove(),document.body.appendChild(n),$t.load(e,s)},$t.script=function(e,t,s){if(t=t||{},!window.QUIX.Template.scripts[e])return;const i=window.QUIX.Template.scripts[e].render(Object.assign(t,{$,_,Assets:$t,QUIXNXT_JMEDIA_PATH_URL})),n=document.createElement("script");let a;n.innerHTML=i,s?(a=s.replace("#",""),a+="-script"):(a=e.replace("#",""),a+="-script"),n.id=a,document.querySelector("script#"+a)&&document.querySelector("script#"+a).remove(),document.body.appendChild(n),$t.loadedElement.push(e)},$t.render=function(e,t,s){if(ds(e.replace(/^#/,"").split("-").shift()),t=Object.assign(t,{$,_,Assets:$t,QUIXNXT_JMEDIA_PATH_URL}),-1===e.indexOf("#"))return Xt({allowInlineIncludes:!0,data:e}).render(t);let i=$t.html(e,t);if(null!==i&&"object"==typeof i)i.then((function(i){if(!s)return i;ms(s,i),$t.script(e,t)}));else{let n=Math.random().toFixed(4);const a="<div id='"+e+"-"+n+"'><div>"+i+"</div></div>";if(!s)return a;ms(s,a),$t.script(e,t)}};const ts={document:null,window:null,mount_node:null,onLoad:[],loaded:!1};function ss(){return new Promise((e=>{if(ts.document)return e(ts.document);ts.onLoad.push((()=>{e(ts.document)}))}))}var is,ns;window.addEventListener("message",(e=>{const{event:t}=e.data;if(!ts.loaded&&"iframe-loaded"===t){const t=document.getElementById("quix-iframe-wrapper");let s;try{s=t.contentDocument}catch(e){s=t.contentDocument}ts.document=s,ts.window=t.contentWindow,ts.mount_node=s.querySelector("#qx-fb-mount"),ts.onLoad.forEach((e=>e()))}}));const as=null===(is=window.document.getElementById("jform_token"))||void 0===is?void 0:is.getAttribute("name"),os=null===(ns=window.document.getElementById("jform_template_type"))||void 0===ns?void 0:ns.value,ls=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.document;const t=e.createElement("div");return t.width=1,t.height=1,t.style.opacity="0",e.body.appendChild(t),t}();function rs(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.document).getElementById(e)}async function ds(e){var t;window.QUIX||(window.QUIX={});const s=null===(t=window.QUIX)||void 0===t?void 0:t.elementsAssets;if(s)await cs(e,s);else{const[t,s]=await Promise.all([We("js"),We("css")]);window.QUIX.elementAssets={js:t,css:s},await cs(e,window.QUIX.elementAssets)}}async function cs(e,t){let s=t.js.find((t=>t.includes(e)));s&&await async function(e,t){const s=await ss();if(s.head.querySelector("#".concat(e,"-element-script")))return;const i=s.createElement("script");return i.src=t,i.id=e+"-element-script",s.head.append(i),"Done injecting scripts"}(e,s);let i=t.css.find((t=>t.includes(e)));return i&&await async function(e,t){const s=await ss(),i=s.createElement("link");return i.rel="stylesheet",i.href=t,i.id=e+"-element-style",s.head.append(i),"Done injecting styles"}(e,i),"Done injecting assets"}async function ps(e){const t=(await ss()).head.querySelector("#".concat(e));t&&t.remove()}const us={items:[],timer:null};let hs=0;function ms(e,t){if(e)return clearTimeout(us.timer),us.items.push({targetID:e,content:t}),us.timer=setTimeout(ms,20),void hs++;let s;if(1===us.items.length){const e=us.items[0];s=jQuery(e.targetID),s.html(e.content)}else{s=jQuery("#qx-fb-mount").detach();for(const e of us.items){const t=s.find(e.targetID);t?t.html(e.content):s.append(e.content)}jQuery(".app-mount").html(s)}hs=0,us.timer=null,us.items=[]}function xs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise((async(s,i)=>{const n=(a=e.slug,$t.Template.html[a]||null);var a;if(!n)return i("Could not render HTML");try{var o;const i=await fs(e,{path:t.join(".")}),a=await n.renderAsync(i),l=await ss();rs("".concat(e.id,"-preview"),l).innerHTML=null==a||null===(o=a.replaceAll(/&gt;/g,">"))||void 0===o?void 0:o.replaceAll(/&lt;/g,"<"),s()}catch(e){console.error("Could not render html",e),i(e)}}))}function gs(e){return new Promise((async(t,s)=>{const i=await(n=e.slug,$t.Template.styles[n]||null);var n;if(!i)return s(e.slug+" renderStyle failed!");const a=qxCss();try{var o;const s=await fs(e,{style:a});let n=await i.renderAsync(s);n=null===(o=n)||void 0===o||null===(o=o.replace(/\n+/g,"\n"))||void 0===o?void 0:o.trim(),t()}catch(e){console.error("Could not render style",e),s()}}))}function vs(e){return new Promise((async(t,s)=>{const i=await(n=e.slug,$t.Template.scripts[n]||null);var n;if(!i)return s(e.slug+" renderScript failed!");try{const s=await fs(e),n=await i.renderAsync(s);await ys(n,"".concat(e.id,"-script-preview")),t()}catch(e){console.error("Could not render script",e),s()}}))}function fs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((async(s,i)=>{try{const i=await et(e.slug);s({...Jt(e.form),...t,mode:"builder",elementUrl:i.url})}catch(e){i(e)}}))}async function ys(e,t){await ps(t);const s=await ss(),i=s.createElement("script");i.innerHTML=ws(e),i.id=t,s.head.appendChild(i)}async function bs(e,t){await ps(t);const s=await ss(),i=s.createElement("style");i.innerHTML=ws(e),i.id=t,s.head.appendChild(i)}function ws(e){const t=document.createElement("textarea");return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue}async function js(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=rs(e,await ss());t?(t=s?t-1:t,i.setAttribute("style","flex: 0 0 ".concat(t,"px;max-width: ").concat(t,"px;"))):setTimeout((()=>{i.removeAttribute("style")}),200)}function qs(e,t){return"%"===e.unit?{unit:"px",desktop:t*e.desktop/100,tablet:t*e.tablet/100,phone:t*e.phone/100}:{unit:"%",desktop:+(100*e.desktop/t).toFixed(5),tablet:+(100*e.tablet/t).toFixed(5),phone:+(100*e.phone/t).toFixed(5)}}const Cs=new Set;async function Ss(e){let{id:t,onlyRemove:s,elementType:i,callingFromLayer:n}=e;async function a(e,t){const s="show-settings",n=await ss(),a=n.querySelector("#"+t);if(a){const t={get element(){return a.closest(".qx-fb-element")},get column(){return a.closest(".qx-fb-column.qx-column")},get row(){return a.closest(".qx-fb-row.qx-fb-no-column")},get section(){return a.closest(".qx-section")}};var o;if("remove"===e)n.querySelectorAll("."+s).forEach((e=>e.classList.remove(s))),null===(o=n.querySelector('[data-show-settings="true"]'))||void 0===o||o.setAttribute("data-show-settings","false");else if(t[i])return"section"===i?t.section.setAttribute("data-show-settings","true"):(t[i]||t.element).classList.add(s),t[i]}}return new Promise((e=>{setTimeout((async()=>{if(!Cs)return e(),!1;for(const s of Cs){if(s===t)return e();const i=document.querySelector(".".concat(s));i&&i.closest(".qxui-tree-treenode").setAttribute("data-selected","false"),await a("remove",s),i&&!n&&setTimeout((()=>{i.scrollIntoView({behavior:"smooth",block:"start"})}),100)}if(Cs.clear(),s||!t)return e();const i=document.querySelector(".".concat(t));Cs.add(t),i&&i.closest(".qxui-tree-treenode").setAttribute("data-selected","true");const o=await a("add",t);e(o)}),5)}))}async function _s(e,t){const s=rs("qx-right-side-bar"),i=getComputedStyle(s),n=s.getBoundingClientRect();"maxWidth"===e&&n.width>=500||(s.style.width=t||i[e],s.style.setProperty("--_transition-time","0.3s"))}function Ns(e){const t=rs("qx-right-side-bar");return(!e||"1"!==t.style.opacity)&&!(!e&&"0"===t.style.opacity)&&(t.style.opacity=e?"1":"0",t.style.setProperty("--_transition-time","0.3s"),void setTimeout((()=>t.style.setProperty("--_transition-time","0s")),350))}function ks(e){let{deleteElementManually:t}=e;const s=document.querySelector("[data-selected='true']");s?s.querySelector(".qx-tree-delete-btn").click():ks&&t&&t()}const Es={};async function Ps(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"100%";Es.iframe||(Es.iframe=rs("quix-iframe-wrapper")),Es.documentElement||(Es.documentElement=document.documentElement);let s=0;const i=null===(e=Es.documentElement)||void 0===e?void 0:e.getAttribute("dir");return t=getComputedStyle(Es.iframe).width,(await ss()).querySelectorAll(".qx-section--stretch").forEach((e=>{e.style.marginLeft="0",e.style.width=t,s=e.getBoundingClientRect().left,"rtl"===i?e.style.marginRight="".concat(s,"px"):e.style.marginLeft="-".concat(s,"px")})),"Done adjusting width"}const Ts=e=>{const{target:t}=e;return!(t.hasAttribute("aria-expanded")||t.classList.contains("react-resizable-handle")||t.classList.contains("qx-fb-button--add")||t.closest(".qx-fb-button--add")||t.closest(".qx-fb-new-section-btns")||t.closest(".qx-fb-blank-page__section")||t.classList.contains("qxui-space-item")||("svg"===t.nodeName||"SPAN"===t.nodeName)&&(t.parentElement.hasAttribute("aria-expanded")||t.parentElement.hasAttribute("qx-slideshow-item"))||t.closest(".qx-fb-area-blank"))},As=(e,t)=>{window.INSET_BTN_CONTEXT={name:e,element:t}},Os=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",Ds={key:"",value:""},Rs=e=>{let{key:t,label:s,absoluteKey:i}=e;if(i)t=Ms(i);else{var n;const e="advanced"===(null===(n=window)||void 0===n||null===(n=n.QUIX)||void 0===n?void 0:n.formTab)?"advanced":window.slug;t=Ms("".concat(e,"_").concat(t))}return Ds.key===t?Ds.value:(Ds.key=t,Ds.value=Joomla.Text._(t),Ds.key===Ds.value?(Ds.value=s,s):Ds.value)},Ms=e=>"COM_QUIX_"+e.toUpperCase().replace(/[-\s]/g,"_"),Ls={};function Is(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s=>new Promise((async(i,n)=>{try{await _s("minWidth"),e&&await s(ae(B)),await s({type:B,payload:{showElementPicker:e?B:null,elementPath:e,elementIndex:t,addFirstSection:"function"==typeof e?e:null}}),i()}catch(e){n()}}))}function Fs(e){return{type:H,payload:{action:e?G:null,path:e}}}function Ks(e){return{type:H,payload:{action:e?Q:null,path:e}}}function Us(e){return{type:H,payload:{action:e?Y:null}}}function zs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:H,payload:{action:e?J:null,path:e}}}function Hs(){return{type:H,payload:{action:arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?null:m}}}function Bs(){return{type:W,payload:{theme:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto"}}}var Ws=s(42138),Vs=s(96078);const Js={lastAction:{},states:[]},Gs=[z,v,N,D,R,M,C,L,E,w,y,b,j,P,g,I,A],Qs=e=>{let{getState:t}=e;return e=>s=>{var i,n,a;const o=e(s);if(Gs.includes(s.type)){const{nodes:{nodes:e,clipboard:o},form:{node:d}}=t();let c,p,u,h,m=!1;switch(s.type){case z:c="Clear Page Content",u="Deleted",h="qxuicon-trash";break;case j:c="".concat(s.payload.element.name),u="Added",h="qxuicon-plus-square";break;case b:c="Column",u="Added ",h="qxuicon-plus-square";break;case y:c="Row",u="Added",h="qxuicon-plus-square";break;case w:c="Section",u="Added",h="qxuicon-plus-square";break;case I:c="Template",u="Imported";break;case E:c="".concat(Ie(s.payload.name)),u="Deleted",h="qxuicon-trash";break;case L:c="Column",u="Duplicated",h="qxuicon-clone";break;case A:c="".concat(Ie(s.payload.name)),u="Visibility Changed",h="qxuicon-eye";break;case C:c="".concat(Ie(s.payload.name)),u="Duplicated",h="qxuicon-clone";break;case N:c="".concat(Ie(null===(i=o.node)||void 0===i?void 0:i.slug)),u="Pasted",h="qxuicon-clone";break;case D:c="".concat(Ie(null===(n=o.node)||void 0===n?void 0:n.slug)),u="Pasted Style",h="qxuicon-crosshairs";break;case M:c="".concat(Ie(s.payload.name)),u="Reset Style",h="qxuicon-undo";break;case P:c="Element",u="Moved",h="qxuicon-expand-arrows";break;case g:c="History",u="State Updated",h="qxuicon-history",m=Js.states[Js.states.length-1].act===u;break;case v:r=s,m=(l=Js.lastAction).type===r.type&&l.payload.nodePath.join()===r.payload.nodePath.join()&&l.payload.valuePath.join()===r.payload.valuePath.join(),Js.lastAction=Jt(s);const e=Ie([...s.payload.valuePath].pop());c="".concat(Ie(null!==(a=null==d?void 0:d.slug)&&void 0!==a?a:"Element")),p="".concat(e),u="Updated",h="qxuicon-edit"}const x={state:Jt(e),element:c,field:p,act:u,icon:h,id:Gt("history")};m?Js.states[Js.states.length-1]=x:Js.states.push(x),Js.states.length>50&&Js.states.shift()}var l,r;return s.type===X&&(Js.lastAction={}),0===Js.states.length&&Js.states.push({state:Jt(t().nodes.nodes),element:"Editing Started",icon:"qxuicon-history",id:Gt("history")}),o}};function Ys(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Xs extends d.Component{constructor(){super(...arguments),Ys(this,"isLicenseInactive","inactive"===ve()),Ys(this,"goPro",(e=>{const t=this.isLicenseInactive?ye()+"administrator/index.php?option=com_quix&view=config":"https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=".concat(this.props.requestFrom||"","&utm_content=upgrade-now");return window.open(t,"_blank"),e}))}render(){return(0,ot.jsx)("div",{children:(0,ot.jsxs)("div",{style:this.props.style||{},className:"qx-fb-field-code qx-fb-gopro",children:[(0,ot.jsxs)("div",{className:"qx-fb-gopro__icon",children:[(0,ot.jsx)("img",{style:{maxWidth:150},src:ye()+"/media/quixnxt/images/go-pro.png",alt:"Pro Icon"}),(0,ot.jsx)("sup",{style:{left:this.isLicenseInactive?"auto":"1.7rem",right:"auto",scale:this.isLicenseInactive?"1":"1.2"},onClick:this.goPro,className:"qx-label qx-label-".concat(this.isLicenseInactive?"danger":"success"," qx-fb-gopro__label"),children:this.isLicenseInactive?"License Missing":"Go PRO"})]}),(0,ot.jsx)("h4",{children:this.props.title}),(0,ot.jsx)("p",{children:this.props.message}),(0,ot.jsx)("button",{className:"qxui-btn-success",onClick:this.goPro,type:"button",children:this.isLicenseInactive?"Activate PRO":"Upgrade Now"})]})})}}var Zs;function $s(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const{Step:ei}=Vs.A,ti="OPEN_HISTORY_PANEL",si=function(){return{type:H,payload:{action:arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?null:ti}}},ii={openHistoryPanel:si,setNodes:Bi};let ni=(0,c.Ng)((e=>{let{action:t}=e;return{visible:t.action===ti}}),ii)(Zs=class extends d.Component{constructor(){super(...arguments),$s(this,"state",{histories:[],activeHistory:null}),$s(this,"setStateTo",(async e=>{await this.props.setNodes(e.state),this.setActiveHistory(e)})),$s(this,"setActiveHistory",(e=>{this.setState({activeHistory:e.id})})),$s(this,"setHistories",(()=>{var e;const t=Js.states.slice().reverse();let s=null===(e=[...t].shift())||void 0===e?void 0:e.id;this.setState({histories:t,activeHistory:s})})),$s(this,"getHistoriesView",(()=>{const{histories:e,activeHistory:t}=this.state;return(0,ot.jsx)(ot.Fragment,{children:e.map((e=>(0,ot.jsx)(ei,{title:Rs({absoluteKey:"".concat(e.element,"_").concat(e.element),label:e.element}),description:e.field?e.field+" "+e.act:e.act,icon:(0,ot.jsx)("span",{className:e.icon}),onClick:t=>{this.setStateTo(e)}},e.id)))})})),$s(this,"onClose",(()=>{this.props.openHistoryPanel(!1)}))}componentDidMount(){this.setHistories()}componentDidUpdate(e){this.props.visible&&!e.visible&&this.setHistories(),this.props.visible?Ns(!1):Ns(!0)}render(){return(0,ot.jsx)(Ws.A,{title:Rs({absoluteKey:"History",label:"History"}),width:Se()?290:320,onClose:this.onClose,open:this.props.visible,style:{background:"var(--clr-plain-background-primary)"},rootClassName:"qx-history-panel",children:Se()?(0,ot.jsx)(Xs,{requestFrom:"history",imageStyle:{width:220},title:"Edit History with Pro!",message:"Never Lose a Step: Upgrade to Pro and Rewind Your Edits with Full History Access!"}):(0,ot.jsx)(Vs.A,{current:this.state.activeHistory,direction:"vertical",children:this.getHistoriesView()})})}})||Zs;var ai=s(84530),oi=s(89415),li=s(86317),ri=s(53952),di=s(84395),ci=s.n(di),pi=s(58208),ui=s.n(pi);function hi(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class mi extends d.Component{constructor(e){super(e),hi(this,"onChange",(e=>{const t=e.target.value;this.setState({value:t});let{onChange:s,setGroupRepeaterActionToggler:i}=this.props;s&&s(t,e),i&&i()})),hi(this,"isFreeUser",Se()),hi(this,"getLabelMarkup",(()=>{let{label:e,name:t,absoluteKey:s,absoluteName:i}=this.props;if(this.props.onlyBaseText||!e)return null;const n=s?"absoluteKey":"key";return(0,ot.jsxs)("span",{children:[Rs({[n]:null!=i?i:t,label:e})," "]})})),this.state={value:e.value||""}}getHelpMarkup(){let{help:e,name:t,label:s}=this.props;return this.props.onlyBaseText?null:e?(0,ot.jsx)(ri.default,{content:Rs({key:"".concat(t||s,"_help"),label:e}),placement:"right",rootClassName:"qxui-popover-help",popupStyle:{width:"300px"},children:(0,ot.jsx)(ci(),{size:"small",type:"text",children:(0,ot.jsx)("i",{className:"qxuicon-question-circle"})})}):void 0}getResetMarkup(){return this.props.onlyBaseText||ui()(this.props.default,this.state.value)?null:(0,ot.jsx)(ai.default,{title:"Reset to default",children:(0,ot.jsx)(ci(),{size:"small",type:"text",children:(0,ot.jsx)("i",{className:"qxuicon-undo",onClick:this.props.onReset})})})}render(){let{placeholder:e,onClick:t,style:s,id:i,addonBefore:n,addonAfter:a,readOnly:o,allowClear:d,inputFullWidth:c,proField:p}=this.props;i=i||"_"+Math.random().toString(36).substr(2,9);const u=this.isFreeUser&&p;return(0,ot.jsx)(ot.Fragment,{children:this.props.onlyBaseText?(0,ot.jsx)(li.default,{ref:i,id:i,placeholder:u?"This is a pro field":e||"",value:u?"":this.state.value,style:{fontSize:"0.75rem"},onChange:this.onChange,onClick:t||function(){},addonBefore:n,addonAfter:a,disabled:u||o,allowClear:d||!1}):(0,ot.jsxs)(l.A,{align:"middle",style:s,children:[(0,ot.jsx)(r.A,{style:{marginBottom:c?5:0},span:c?24:10,children:this.props.onlyBaseText?null:(0,ot.jsxs)("div",{className:"qx-fb-field__label qx-flex qx-flex-middle",children:[this.getLabelMarkup(),this.getHelpMarkup()]})}),(0,ot.jsx)(r.A,{span:c?24:14,children:(0,ot.jsx)(li.default,{ref:i,id:i,placeholder:u?"This is a pro field":e||"",value:u?"":this.state.value,style:{fontSize:"0.75rem"},onChange:this.onChange,onClick:t||function(){},addonBefore:n,addonAfter:a,disabled:u||o,allowClear:d||!1})})]})})}}hi(mi,"propTypes",{}),hi(mi,"defaultProps",{}),mi.Group=oi.default.Compact,mi.Search=li.default.Search;const xi=mi;var gi;function vi(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s.e(577).then(s.bind(s,4228));const fi="OPEN_SEO_PANEL",yi=function(){return{type:H,payload:{action:arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?null:fi}}},bi={openSEOPanel:yi,setNodes:Bi};let wi=(0,c.Ng)((e=>{let{action:t}=e;return{visible:t.action===fi}}),bi)(gi=class extends d.Component{constructor(e){super(e),vi(this,"presentSeoResult",(()=>{this.setState({visibleSeoModal:!0}),ss().then((e=>{var t;let s=null===(t=e.querySelector("#qx-fb-mount .frontend-blocks"))||void 0===t?void 0:t.innerHTML,i={title:rs("jform_metadata_title").value,description:rs("jform_metadata_desc").value,keyword:this.state.focusKeyword||rs("jform_metadata_focus_keywords").value,content:s};this.loadAndRenderSEOResult(i)}))})),vi(this,"loadAndRenderSEOResult",(e=>{this.setState({loadingSeoResult:!0}),new Promise(((e,t)=>{if(window.qxSEO)return e(window.qxSEO);const s=document.createElement("script");s.onload=()=>{e(window.qxSEO)},s.onerror=()=>{t()},s.src=pkg_quix_public_path+"/builder/seo/seo.js",document.head.appendChild(s)})).then((t=>{this.renderSEOResult(t,e)}))})),vi(this,"renderSEOResult",((e,t)=>{const s={...this.state},i={title:t.title||"Quix SEO title of this page.",metaDesc:t.description||"Your Quix SEO meta description will show here.",urlPath:window.QuixPageAlias||"quix-seo-page"},n=()=>({keyword:t.keyword,text:t.content,titleWidth:t.title.length,...i});s.app?(s.app.snippetPreview.data={...n()},s.app.callbacks={getData:n}):(s.i18n=new e.Jed({domain:"js-text-analysis",locale_data:{"js-text-analysis":{"":{}}}}),s.snippetPreview=new e.SnippetPreview({i18n:s.i18n,data:i,baseURL:ye(),previewMode:"desktop",targetElement:rs("snippet")}),s.app=new e.App({snippetPreview:s.snippetPreview,targets:{output:"output"},callbacks:{getData:n}})),s.app.refresh();let a=s.app.seoAssessor.calculateOverallScore();const o=Math.max(0,a);rs("jform_metadata_seo_score").value=o,this.setSeoScore(o),this.setState({...s,loadingSeoResult:!1})})),vi(this,"setSeoScore",(e=>{this.props.onChangeSeoScore&&this.props.onChangeSeoScore(e)})),vi(this,"seoToolbar",(()=>(0,ot.jsxs)("div",{children:[(0,ot.jsx)("p",{className:"qx-fb-field__label",children:"Preview"}),(0,ot.jsx)("div",{id:"snippet"}),(0,ot.jsx)("p",{className:"qx-fb-field__label",children:"SEO Assessment"}),(0,ot.jsx)("p",{id:"output"}),(0,ot.jsx)("div",{className:this.state.loadingSeoResult?"preloader":"preloader hide",children:(0,ot.jsxs)("div",{className:"wrap",children:[(0,ot.jsx)("div",{className:"ball"}),(0,ot.jsx)("div",{className:"ball"}),(0,ot.jsx)("div",{className:"ball"}),(0,ot.jsx)("div",{className:"ball"})]})})]}))),vi(this,"seoRankTitle",(()=>(0,ot.jsxs)("div",{className:"qx-flex qx-flex-between",children:[(0,ot.jsx)(xi,{label:"SEO Focus Keyword",placeholder:Rs({absoluteKey:"seo_input_placeholder",label:"Write your keyword & Re-Check"}),value:this.state.focusKeyword,onlyBaseText:!0,block:!0,onChange:e=>this.setState({focusKeyword:e}),onReset:()=>this.setState({focusKeyword:""})}),(0,ot.jsx)("button",{className:"seo-snippet qxui-drawer-close seo-snippet-reload",onClick:this.presentSeoResult,children:(0,ot.jsx)("span",{className:"seo-snippet qxui-drawer-close-x seo-snippet-icon",children:(0,ot.jsx)(ai.default,{title:"Re-Check",getTooltipContainer:()=>window.document.body,children:(0,ot.jsx)("i",{className:"qxuicon-undo"})})})})]}))),vi(this,"onClose",(()=>{this.props.openSEOPanel(!1)}));const t=(null===(s=rs("jform_metadata_seo_score"))||void 0===s?void 0:s.value)||0;var s,i;this.state={is_pro_user:Se(),loadingSeoResult:!1,focusKeyword:(null===(i=rs("jform_metadata_focus_keywords"))||void 0===i?void 0:i.value)||"",seoScore:t,i18n:"",visibleSeoModal:!1},!Se()&&this.setSeoScore(t)}componentDidUpdate(e,t,s){!Se()&&e.visible!==this.props.visible&&this.props.visible&&this.presentSeoResult(),this.props.visible?Ns():Ns(!0)}render(){return(0,ot.jsx)(Ws.A,{title:this.state.is_pro_user?null:this.seoRankTitle(),id:"quix-seo-snippet",placement:"right",closable:!0,width:this.state.is_pro_user?290:480,onClose:this.onClose,open:this.props.visible,maskClosable:!1,prefixCls:"seo-snippet qxui-drawer",style:this.props.visible?{overflow:"auto",height:"100vh",paddingBottom:"55px"}:null,children:this.state.is_pro_user?(0,ot.jsx)(Xs,{requestFrom:"seo-score",imageStyle:{width:250},title:"Boost Your SEO Game",message:"With our Pro plan, you can access advanced SEO features that give you a competitive edge! Track your SEO score in real-time and many more"}):(0,ot.jsx)(ot.Fragment,{children:this.seoToolbar()})})}})||gi;var ji=s(42667),qi=s(2219);let Ci=quix.api;const Si=e=>(e.preventDefault(),e.returnValue="Are you sure you want to exit?");s(1092);let _i=null;function Ni(e){return t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=function(e){return rs("jform_data").value=JSON.stringify(e),rs("jform_metadata_icons").value=JSON.stringify(Qt(e,"svg")),jQuery("#adminForm").serializeArray()}(e=Jt(e)),new Promise((function(e,i){let n=t?"".concat(Ci,"&id=").concat(t):Ci;jQuery.ajax({data:s,url:n,type:"POST",success:function(t){try{return(t=JSON.parse(t)).success?e(t):i(t)}catch(e){return i(t)}},error:function(e,t,s){return i(s)}})}));var t,s}function ki(){if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]||null!==_i)return 0===parseInt(document.getElementById("jform_id").value)?(dt.warning("Please save the page first! then see the preview."),!1):void(null===_i||null===_i.parent?_i=window.open(atob(document.getElementById("return_url").value)):_i&&(_i.location.href=atob(document.getElementById("return_url").value)))}function Ei(){window.PageChanged=!1,removeEventListener("beforeunload",Si,{capture:!0})}function Pi(){window.PageChanged=!0,addEventListener("beforeunload",Si,{capture:!0})}const Ti=Ce(),Ai=jQuery;function Oi(e){return new Promise(((t,s)=>{var i;let n=e.state.title||qe();n||(n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"New Page",t=new Date;return"".concat(e,"-").concat(t.getDate(),"-").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]," ").concat(t.getHours(),":").concat(t.getSeconds())}()),rs("jform_title_hidden").value=n;let a=null===(i=rs("jform_template_type"))||void 0===i?void 0:i.value;var o;if(!Le(a)&&["article","header","footer","mainbody"].includes(a)&&Le(null===(o=rs("jform_conditions"))||void 0===o?void 0:o.value))return e.props.invokeDisplayConditionModal(!0),t();let l="page"===Ti?"page.apply":"collection.apply";if(Ai('input[name="task"]').val(l),"page"===Ti){let{nodes:i,qid:n}=e.props;return Ni(i,n).then((t=>{if(!1===t.data){var s;dt.error((null==t||null===(s=t.messages)||void 0===s?void 0:s.warning)||t)}else{const s=+t.data.id;dt.success("Settings saved successfully"),0==+n&&(function(e,t,s,i){document.getElementById("jform_id").value=e,document.getElementById("return_url").value=t,history&&history.pushState?window.history.pushState(null,null,s):window.location.href=s}(s,t.data.view,t.data.url,t.data.edit),e.props.updateQid(s)),setTimeout((function(){ki(!1)}),1e3),Ei()}})).then((function(){Ai(".savePage span.save-text").html(Rs({absoluteKey:"Save",label:"Save"})),t()})).catch((e=>{Ai(".savePage").removeClass("qxui-btn-success").addClass("qxui-btn-danger"),Ai(".savePage span.save-text").html("!".concat(Rs({absoluteKey:"Save",label:"Save"}))),dt.error((null==e?void 0:e.message)||"Something went wrong!!!"),s()}))}return"collection"===Ti?Di(e,n,Ai("#jform_template_type").val(),!0,t):void 0}))}function Di(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,{nodes:a,qid:o}=e.props,l=s?o:0;s=s||"layout";const r={type:s,data:a};i&&(rs("jform_data").value=JSON.stringify(r));let d=rs("jform_token").getAttribute("name"),c=new FormData;c.set("jform[data]",JSON.stringify(r)),c.set("jform[title]",t),c.set("jform[builder]","frontend"),c.set("jform[type]",s),c.set("jform[state]","1"),c.set("jform[id]",l),c.set("id",l),c.set("type","collection"),i&&(c.set("jform[conditions]",rs("jform_conditions").value),c.set("jform[params][image_optimized]",rs("jform_params_image_optimized").value),c.set("jform[params][enabled_image_optimization]",rs("jform_params_enabled_image_optimization").value),c.set("jform[params][enabled_webp_support]",rs("jform_params_enabled_webp_support").value),c.set("jform[params][codecss]",rs("jform_params_codecss").value),c.set("jform[params][codejs]",rs("jform_params_codejs").value),c.set("jform[params][style]",rs("jform_params_style").value),c.set("jform[metadata][title]",rs("jform_metadata_title").value),c.set("jform[metadata][desc]",rs("jform_metadata_desc").value),c.set("jform[metadata][seo_score]",rs("jform_metadata_seo_score").value),c.set("jform[metadata][focus_keywords]",rs("jform_metadata_focus_keywords").value),c.set("jform[state]",rs("jform_state").value),c.set("jform[access]",rs("jform_access").value),c.set("jform[language]",rs("jform_language").value)),c.set(d,"1"),De()({method:"post",url:"".concat(ge(),"/index.php?option=com_quix&task=collection.save"),data:c,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((e=>{Ai(".savePage span.save-text").html("Save");let t=e.data;"object"==typeof t?t.success?(Ei(),dt.success("Template saved"),setTimeout((function(){ki(!1)}),1e3)):dt.warning(t.message):dt.error(t),n&&n()}))}function Ri(e){return{type:x,payload:e}}var Mi;function Li(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Ii="OPEN_PAGE_MANAGER",Fi=function(){return{type:H,payload:{action:arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?null:Ii}}},Ki={openPageManager:Fi,updateQid:Ri};let Ui=(0,c.Ng)((e=>{let{nodes:{nodes:t},meta:{qid:s}}=e;return{nodes:t,qid:s}}),Ki)(Mi=class extends d.Component{constructor(){var e;super(...arguments),e=this,Li(this,"nodes",""),Li(this,"timer",void 0),Li(this,"offset",1e4),Li(this,"state",{title:qe(),type:Ce()}),Li(this,"getQuixPages",(()=>{let e=function(){var e,t;const s=null!==(e=window.QuixPageList)&&void 0!==e?e:[];return(null===(t=s[0])||void 0===t?void 0:t.modified)&&s.sort(((e,t)=>new Date(t.modified)-new Date(e.modified))),s}();return(0,ot.jsx)(qi.A,{children:e.length?e.map((e=>{let t=ge()+"/index.php?option=com_quix&task=page.edit&id="+e.id;return(0,ot.jsx)(qi.A.Item,{children:(0,ot.jsx)(qi.A.Item.Meta,{className:"qx-flex-row-reverse",avatar:(0,ot.jsx)("i",{className:[he[e.state],ue[e.state]].join(" ")}),title:(0,ot.jsxs)("a",{href:t,className:"qxui-text-ellipsis",target:"_blank",children:[e.title," "]})})},e.id)})):(0,ot.jsx)("div",{className:"qx-alert qx-alert-primary",children:Rs({absoluteKey:"page_not_found",label:"No Page Found!"})})})})),Li(this,"getQuixCollectionList",(()=>{let e=fe();return(0,ot.jsx)(qi.A,{children:e.length?e.map((e=>{if("element"===e.type)return null;let t=ge()+"/index.php?option=com_quix&task=collection.edit&id="+e.id;return(0,ot.jsx)(qi.A.Item,{children:(0,ot.jsx)(qi.A.Item.Meta,{className:"qx-flex-row-reverse",avatar:(0,ot.jsx)("i",{className:"qx-label",children:e.type}),title:(0,ot.jsx)("a",{href:t,target:"_blank",children:e.title})})},e.id)})):(0,ot.jsx)("div",{className:"qx-alert qx-alert-primary",children:Rs({absoluteKey:"template_not_found",label:"No Template Found!"})})})})),Li(this,"saveDraft",(()=>{})),Li(this,"savePageAjax",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==t||t.preventDefault(),e.props.onSaveStateChange&&e.props.onSaveStateChange(!0),Oi(e).then((()=>{e.props.onSaveStateChange&&e.props.onSaveStateChange(!1)}))})),Li(this,"addPage",(e=>{e.preventDefault(),qxUIkit.modal.prompt("Page Name:","New Page").then((function(e){if(!e.length)return void alert("Page name is required!");let t={title:e};t[Joomla.getOptions("csrf.token")]=1,jQuery.ajax({url:ge()+"/index.php?option=com_quix&task=page.pageCreateAjax",type:"POST",data:t,success:function(e){let t=JSON.parse(e);t.success||alert(t.message),window.location=t.data}})}))})),Li(this,"addCollection",(e=>{e.preventDefault(),confirm("Save this page before creating new page. Ready to proceed?")&&(window.location=ge()+"/index.php?option=com_quix&task=collection.add")})),Li(this,"onTitleChange",(e=>{this.setState({title:e.target.value})})),Li(this,"onClose",(()=>{this.props.openPageManager(!1)}))}componentDidMount(){this.nodes=JSON.stringify(this.props.nodes)}componentWillUnmount(){clearTimeout(this.timer)}componentDidUpdate(e,t,s){const i=JSON.stringify(this.props.nodes);this.nodes!==i&&(clearTimeout(this.timer),this.nodes=i,this.timer=setTimeout((()=>this.saveDraft()),this.offset))}render(){const e=this.getQuixPages(),t=this.getQuixCollectionList(),{title:s,type:i}=this.state,n=[{key:"1",label:Rs({absoluteKey:"Pages",label:"Pages"}),children:(0,ot.jsxs)(ot.Fragment,{children:[(0,ot.jsx)(ci(),{className:"qx-margin-small-bottom",block:!0,type:"primary",onClick:this.addPage,children:Rs({absoluteKey:"Create Page",label:"Create Page"})}),(0,ot.jsx)("span",{className:"qx-text-truncate",children:e})]})},{key:"2",label:Rs({absoluteKey:"Templates",label:"Templates"}),children:(0,ot.jsx)(ot.Fragment,{children:t})}];return(0,ot.jsx)(Ws.A,{title:Rs({absoluteKey:"Manage Pages",label:"Manage Pages"}),placement:"left",width:320,onClose:this.onClose,open:this.props.visible,rootClassName:"qx-manage-page-panel",className:"manage-pages",children:(0,ot.jsx)(ji.default,{defaultActiveKey:"collection"===i?"2":"1",items:n})})}})||Mi;function zi(e,t,s){return(i,n)=>new Promise((async(a,o)=>{var l;const{action:{action:r,showElementPicker:d},form:c}=n(),p=(null==c||null===(l=c.node)||void 0===l?void 0:l.id)===t.id;window.slug=(null==t?void 0:t.slug)||"";try{switch(p||(await i(ae(X)),!window.skipShowingFormModal&&await i({type:X,payload:{node:t,path:e}}),a(),s&&window.dispatchCloseContextMenuEvent()),r){case"OPEN_HISTORY_PANEL":await i(si(!1));break;case"OPEN_PAGE_MANAGER":await i(Fi(!1));break;case"OPEN_SEO_PANEL":await i(yi(!1))}if(d&&await i(Is()),p)return o("FORM MODAL IS ALREADY OPEN")}catch(e){o(e),console.error("COULD NOT SHOW FORM",e)}}))}function Hi(){return e=>new Promise((async(t,s)=>{try{await(()=>{const e=function(e){const t=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.document).getElementsByClassName(e)}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.document);return t.length>0?t[0]:null}("qx-form-settings");return e&&e.classList.add("slide-in-to-right"),new Promise((t=>e?setTimeout(t,200):t()))})(),await e({type:X,payload:{node:null,path:null}}),window.QUIX={...window.QUIX||{},formTab:null},await Ss({onlyRemove:!0}),await _s("minWidth"),t()}catch(e){s()}}))}function Bi(e){return(t,s)=>new Promise((async(i,n)=>{try{const n=s().form.path;try{const s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=e;for(const e of t)s=s[e];return s}(e,n);(null==n?void 0:n.length)&&await t(function(e,t){return s=>new Promise((async i=>{await s({type:Z,payload:{path:e,node:t}}),i()}))}(n,s))}catch(e){await t(Hi()),console.error("Error setting form node",e)}await t({type:g,payload:e}),await t(ae("SET_STATE_FROM_HISTORY")),i()}catch(e){i(),console.error("COULD NOT SET NODES FROM HISTORY",e)}}))}function Wi(e,t,s){return i=>new Promise((async(n,a)=>{try{await i({type:v,payload:{nodePath:e,valuePath:t,value:s}}),await i(ae("UPDATE_NODE_FIELD")),n()}catch(e){console.error("Error updating node field",e),a()}}))}function Vi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return s=>new Promise((async(i,n)=>{try{await s({type:I,payload:{index:e,newNodes:t}}),await s(ae(I)),i()}catch(e){console.error("Error inserting nodes",e),n()}}))}function Ji(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t=>new Promise((async(s,i)=>{try{await t({type:w,payload:{index:e}}),await t(ae(w)),s()}catch(e){console.error("Error adding section node",e),i()}}))}function Gi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return s=>new Promise((async(i,n)=>{try{await s({type:y,payload:{path:e,index:t}}),await s(ae(y)),i()}catch(e){console.error("Error adding row node",e),n()}}))}function Qi(e,t){return s=>new Promise((async(i,n)=>{try{await s({type:T,payload:{path:e,layout:t}}),await s(ae(T)),i()}catch(e){n()}}))}function Yi(e,t){return s=>new Promise((async(i,n)=>{try{await s({type:P,payload:{from:e,to:t}}),await s(ae(P)),i()}catch(e){n()}}))}function Xi(e,t){return s=>new Promise((async(i,n)=>{try{await s({type:C,payload:{path:e,name:t}}),await s(ae(C)),i()}catch(e){n()}}))}function Zi(e){return t=>new Promise((async(s,i)=>{try{await t({type:L,payload:{path:e}}),await t(ae(L)),s()}catch(e){i()}}))}function $i(e,t){return{type:S,payload:{path:e,node:t}}}function en(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return s=>new Promise((async(i,n)=>{try{await s({type:N,payload:{path:e,bellow:t}}),await s(ae(N)),i()}catch(e){n()}}))}function tn(e){return t=>new Promise((async(s,i)=>{try{await t({type:D,payload:{path:e}}),await t(ae(D)),s()}catch(e){i()}}))}function sn(e,t){return s=>new Promise((async(i,n)=>{try{await s({type:R,payload:{nodePath:e,stylePath:t}}),await s(ae(R)),i()}catch(e){n()}}))}function nn(e,t){return s=>new Promise((async(i,n)=>{try{await s({type:M,payload:{path:e,name:t}}),await s(ae(M)),i()}catch(e){console.error("COULD NOT RESET STYLE",e),n()}}))}function an(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s=>new Promise((async(i,n)=>{try{await s({type:b,payload:{path:e,index:t}}),await s(ae(b)),i()}catch(e){n()}}))}function on(e,t){return s=>new Promise((async(i,n)=>{try{await s({type:E,payload:{path:e,name:t}}),await s(ae(E)),i()}catch(e){n(e)}}))}function ln(e,t){return s=>new Promise((async(i,n)=>{try{await s({type:f,payload:{path:e,size:t}}),await s(ae(f)),i()}catch(e){n()}}))}function rn(e,t){return s=>new Promise((async(i,n)=>{try{await s({type:A,payload:{path:e,visibility:t}}),await s(ae(A)),i()}catch(e){n()}}))}function dn(e){return t=>new Promise(((s,i)=>{try{t({type:O,payload:{device:e}}),t(ae(O)),s()}catch(e){i()}}))}function cn(){return(e,t)=>new Promise((async e=>{const{nodes:{nodes:s}}=t();e(s)}))}function pn(){return(e,t)=>new Promise((async e=>{const{meta:s}=t();e(s.qid)}))}var un=s(40766);function hn(e,t){let s=e.name.split(".").pop(),i=-1!==t.indexOf(s);return new Promise((function(t,s){if(i){const s=new FileReader;s.onload=e=>{t(s.result)},s.readAsText(e)}else s("invalid file type!!")}))}var mn,xn=s(1400),gn=s(8772),vn=s(66986),fn=s.n(vn);function yn(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class bn extends d.Component{constructor(){super(...arguments),yn(this,"shouldComponentUpdate",fn()),yn(this,"state",{id:Math.random()}),yn(this,"elRef",d.createRef()),yn(this,"registerDragHandler",(()=>{!this.dragHandlerRegistered&&this.elRef.current&&(this.modalHeader=this.elRef.current.closest(".qxui-modal-header"),this.modalHeader.removeEventListener("mousedown",this.startDrag),this.modalHeader.addEventListener("mousedown",this.startDrag),this.dragHandlerRegistered=!0)})),yn(this,"unregisterDragHandler",(()=>{var e;this.modalHeader=null===(e=this.elRef.current)||void 0===e?void 0:e.closest(".qxui-modal-header"),this.modalHeader&&(this.modalHeader.removeEventListener("mousedown",this.startDrag),this.modalHeader.removeEventListener("mousedown",this.startDrag)),this.dragHandlerRegistered=!1})),yn(this,"startDrag",(e=>{this.modal=e.target.closest(".qxui-modal"),this.qxIframeWrapper=document.querySelector(".qx-fb-frame"),this.lastPosition={x:e.screenX,y:e.screenY},ss().then((e=>{e.addEventListener("mousemove",this.onDrag),e.addEventListener("mouseup",this.stopDrag)})),e.target.ownerDocument.addEventListener("mousemove",this.onDrag),e.target.ownerDocument.addEventListener("mouseup",this.stopDrag)})),yn(this,"onDrag",(e=>{const{modal:t,qxIframeWrapper:s,lastPosition:i}=this,n=t.offsetLeft-(i.x-e.screenX),a=t.offsetTop-(i.y-e.screenY);n>=-250&&n<=s.clientWidth-250?t.style.left="".concat(n,"px"):this.stopDrag(e),a>=0&&a<=s.clientHeight-100?t.style.top="".concat(a,"px"):this.stopDrag(e),this.lastPosition={x:e.screenX,y:e.screenY}})),yn(this,"stopDrag",(e=>{var t,s;ss().then((e=>{e.removeEventListener("mousemove",this.onDrag),e.removeEventListener("mouseup",this.stopDrag)})),null===(t=e.target.ownerDocument)||void 0===t||t.removeEventListener("mousemove",this.onDrag),null===(s=e.target.ownerDocument)||void 0===s||s.removeEventListener("mouseup",this.stopDrag),delete this.qxIframeWrapper,delete this.modal,delete this.lastPosition})),yn(this,"handelCancel",(e=>{this.unregisterDragHandler(),this.props.close?this.props.close(e):this.props.onCancel&&this.props.onCancel()}))}componentDidMount(){this.registerDragHandler()}componentDidUpdate(e,t,s){this.registerDragHandler()}componentWillUnmount(){this.modalHeader&&this.modalHeader.removeEventListener("mousedown",this.startDrag)}render(){var e,t;let{container:s,title:i,bodyStyle:n,children:a,className:o,classes:l,destroyOnClose:r,show:d,style:c,width:p,closable:u,footer:h}=this.props;l=ce()(o,l);const m=(0,ot.jsxs)("div",{ref:this.elRef,children:[(0,ot.jsxs)("div",{className:"qx-flex qx-flex-between qx-flex-middle",children:[(0,ot.jsx)("span",{children:i}),(0,ot.jsx)(ci(),{id:"mdl-close",type:"link",size:"small",onClick:this.handelCancel,children:(0,ot.jsx)("i",{className:"qxio-close"})},"close")]}),(0,ot.jsx)(gn.default,{})]});return(0,ot.jsx)(xn.A,{width:p||450,open:!!d,wrapClassName:l,title:m,style:c,footer:null!=h?h:null,onCancel:this.handelCancel,closable:!0===u,rootClassName:null!==(e=this.props.rootClassName)&&void 0!==e?e:"",destroyOnClose:r||!1,getContainer:s||(()=>window.document.body),zIndex:5,mask:null!==(t=this.props.mask)&&void 0!==t&&t,maskClosable:!1,styles:{body:n||null},children:d?a:null})}}function wn(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}yn(bn,"propTypes",{}),yn(bn,"defaultProps",{style:{},className:"",show:!1,bottom:!1,dismissible:!0});const{Dragger:jn}=un.A,qn="OPEN_NODE_IMPORTER",Cn=function(){return{type:H,payload:{action:arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?null:qn}}},Sn={openNodeImporter:Cn};let _n=(0,c.Ng)((e=>{let{action:t}=e;return{visible:t.action===qn}}),Sn)(mn=class extends d.Component{constructor(){super(...arguments),wn(this,"state",{process:!1}),wn(this,"onClose",(()=>{this.props.openNodeImporter(!1)})),wn(this,"onFileUploadDone",(e=>{hn(e,["json"]).then((e=>{const t=JSON.parse(e),s={type:t.type,data:t.data};let i=je(),n=new FormData;n.set("jform[data]",JSON.stringify(s)),n.set("jform[title]",t.title),n.set("jform[builder]","frontend"),n.set("jform[type]",t.type),n.set("jform[state]","1"),n.set("jform[id]","0"),n.set("id","0"),n.set("type","collection"),n.set(i,"1"),De()({method:"post",url:"".concat(ge(),"/index.php?option=com_quix&task=collection.save"),data:n,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((e=>{let t=e.data;"object"==typeof t?(t.success?dt.success('Uploaded successfully to your collection! Visit "My Templates" to import.'):dt.warning(t.message),this.onClose()):dt.error(t)})).catch((()=>this.setState({process:!1})))}))}))}render(){const e={data:this.onFileUploadDone};return(0,ot.jsx)(bn,{width:550,classes:"quix-library-importer",show:this.props.visible,close:this.onClose,title:"Import To Library",expandable:!1,style:{left:"calc(50vw - 225px)"},onCancel:this.onClose,closeModal:this.onClose,children:(0,ot.jsxs)(jn,{...e,children:[(0,ot.jsx)("p",{style:{color:"var(--qx-text-color-dark-mode, #333)"},children:(0,ot.jsx)("i",{className:"qxuicon-box-full qx-text-primary qx-text-large"})}),(0,ot.jsx)("h5",{style:{color:"var(--qx-text-color-dark-mode, #333)"},className:"qx-margin-small-top qx-margin-small-bottom",children:"Import Template To Library"}),(0,ot.jsxs)("p",{style:{color:"var(--qx-text-color-dark-mode, #333)"},children:["Click or drag ",(0,ot.jsx)("em",{children:".json"})," file to this area to upload"]})]})})}})||mn;var Nn;function kn(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const En=oi.default.Compact,Pn="OPEN_TEMPLATE_SAVER",Tn=function(){return{type:H,payload:{action:arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?null:Pn}}},An={openTemplateSaver:Tn};const On=(0,c.Ng)((e=>{let{nodes:{nodes:t}}=e;return{nodes:t}}),An)(Nn=class extends d.Component{constructor(){super(...arguments),kn(this,"state",{title:"",waiting:!1}),kn(this,"titleChanged",(e=>{this.setState({title:e.target.value})})),kn(this,"saveTemplate",(()=>{this.state.title?(Di(this,this.state.title),this.onClose()):dt.error("Title can't be empty")})),kn(this,"onClose",(()=>{this.props.openTemplateSaver(!1)}))}render(){return(0,ot.jsx)(bn,{width:550,className:"modal--export-import",title:Rs({absoluteKey:"Save To Library",label:"Save To Library"}),show:this.props.visible,close:()=>this.onClose(),expandable:!1,style:{left:"calc(50vw - 225px)"},children:(0,ot.jsxs)("div",{className:"qx-fb-infobox sections-save-box",children:[(0,ot.jsxs)("div",{className:"qx-margin-medium-bottom qx-text-center",children:[(0,ot.jsx)("i",{className:"qxuicon-cubes qx-fb-title-icon"}),(0,ot.jsx)("h2",{className:"qx-margin-small-top",children:Rs({absoluteKey:"Save To Library",label:"Save To Library"})}),(0,ot.jsx)("p",{className:"qx-text-meta",children:Rs({absoluteKey:"save_as_temp_desc",label:"You can reuse this template anywhere you want"})})]}),(0,ot.jsxs)(En,{className:"qx-width-2-3 qx-margin-auto",block:!0,children:[(0,ot.jsx)(li.default,{placeholder:Rs({absoluteKey:"Name",label:"Name"}),id:"export",value:this.state.title,onChange:this.titleChanged}),(0,ot.jsxs)(ci(),{disabled:this.state.waiting,type:"primary",onClick:this.saveTemplate,children:[(0,ot.jsx)("i",{className:"qx-margin-small-right qxuicon-save"})," ",Rs({absoluteKey:"Save",label:"Save"})]})]})]})})}})||Nn;class Dn extends d.Component{constructor(e){super(e),this.state={hasError:!1,message:null}}static getDerivedStateFromError(e){return console.error("Error occurred",e),{hasError:!0,message:e.message}}componentDidCatch(e,t){console.error("Error occurred",e,t)}render(){return this.state.hasError?(0,ot.jsxs)("p",{style:{background:"red",color:"#fff",padding:"10px 20px"},children:["This component had an error and crashed ",(0,ot.jsxs)("i",{children:['"',this.state.message,'"']})]}):(0,ot.jsx)(ot.Fragment,{children:this.props.children})}}var Rn=s(15719),Mn=s(24908),Ln=s.n(Mn),In=s(210);const Fn=(e,t,s)=>{const{node:i,nodePath:n,type:a,device:o,deleteButton:l}=t,{visibility:r}=i,d=!o||r[o],c={copyNodeAction:async()=>await e($i(n)),pastNodeAction:async t=>await e(en(n,t)),pasteStyleAction:async()=>await e(tn(n))},p={setNodeVisibilityAction:async t=>await e(rn(n,t))};return[d?{key:"name",label:Ln()(a),disabled:!0,style:{cursor:"default"}}:null,d&&s?{key:"settings",label:(0,ot.jsxs)("span",{className:"qxui-dropdown-context-menu-item",children:[(0,ot.jsx)("i",{className:"qxuicon-".concat("element"!==a?"cog":"pencil")})," ","element"!==a?"Settings":"Element"]}),onClick:async()=>await e(zi(n,i))}:null,"section"===a&&d?{key:"add",label:(0,ot.jsxs)("span",{className:"qxui-dropdown-context-menu-item",children:[(0,ot.jsx)("i",{className:"qxuicon-plus"})," Add"]}),onClick:async()=>await e(Ji(n[0]+1))}:null,"row"===a&&d?{key:"add column",label:(0,ot.jsxs)("span",{className:"qxui-dropdown-context-menu-item",children:[(0,ot.jsx)("i",{className:"qxuicon-plus"})," Add Column"]}),onClick:async()=>{var t;return await e(an([...n,"children"],(null==i||null===(t=i.children)||void 0===t?void 0:t.length)||0))}}:null,d?{key:"duplicate",label:(0,ot.jsxs)("span",{className:"qxui-dropdown-context-menu-item",children:[(0,ot.jsx)("i",{className:"qxuicon-clone"})," Duplicate"]}),onClick:"column"===a?async()=>await e(Zi(n)):async()=>await e(Xi(n,Ln()(a)))}:null,...Kn(c,t),d&&"element"===a?{key:"reset style",label:(0,ot.jsxs)("span",{className:"qxui-dropdown-context-menu-item",children:[(0,ot.jsx)("i",{className:"qxuicon-redo"})," Reset Style"]}),onClick:async()=>await e(nn(n,i.slug))}:null,d?{type:"divider"}:null,!d||"section"!==a&&"element"!==a?null:{key:"save",label:(0,ot.jsxs)("span",{className:"qxui-dropdown-context-menu-item",children:[(0,ot.jsx)("i",{className:"qxuicon-save"})," Save to Library"]}),onClick:async()=>{"section"===a?await e(Fs(n)):await e(Ks(n))}},d?{type:"divider"}:null,d&&"row"===a?{key:"reset grid",label:(0,ot.jsxs)("span",{className:"qxui-dropdown-context-menu-item",children:[(0,ot.jsx)("i",{className:"qxuicon-columns"})," Grid Reset"]}),onClick:async()=>await e(ln(n))}:null,...Un(p,t),d?{type:"divider"}:null,{key:"delete",label:(0,ot.jsxs)("span",{className:"qxui-dropdown-context-menu-item",children:[(0,ot.jsx)("i",{className:"qxuicon-trash-alt"})," Delete"]}),onClick:async()=>{l?l.click():await e(on(n))}}]},Kn=(e,t)=>{const{copyNodeAction:s,pastNodeAction:i,pasteStyleAction:n}=e,{device:a,node:{visibility:o},clipboard:l}=t,r=!a||o[a],d=async function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=await mt("qx-node").then((function(e){return e}));await ct(t),i(e)};return r?[{type:"divider"},{key:"copy",label:(0,ot.jsxs)("span",{className:"qxui-dropdown-context-menu-item",children:[(0,ot.jsx)("i",{className:"qxuicon-clipboard"})," Copy"]}),onClick:()=>Se()?dt.upgradeToPro(void 0,"copy-pest"):s()},l.node?{key:"paste",label:(0,ot.jsxs)("span",{onClick:()=>Se()?dt.upgradeToPro(void 0,"copy-pest"):d(),style:{width:"100%",justifyContent:"start"},className:"qxui-dropdown-context-menu-item",children:[(0,ot.jsx)("i",{className:"qxuicon-paste"})," Paste"]}),children:[{key:"paste above",label:(0,ot.jsxs)("span",{className:"qxui-dropdown-context-menu-item",children:[(0,ot.jsx)("i",{className:"qxuicon-paste"}),"Paste Above"]}),onClick:()=>Se()?dt.upgradeToPro(void 0,"copy-pest"):d(!1)},{key:"paste style",label:(0,ot.jsxs)("span",{className:"qxui-dropdown-context-menu-item",children:[(0,ot.jsx)("i",{className:"qxuicon-paint-brush"}),"Paste Style"]}),onClick:n}]}:null]:[]},Un=(e,t)=>{const{setNodeVisibilityAction:s}=e,i=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["lg","md","sm"];const{visibility:n}=t.node,a={...n};for(const t of Object.keys(a))i.includes(t)&&(a[t]=e);s(a)},{device:n,node:{visibility:a}}=t,o=e=>e?(0,ot.jsx)("i",{className:"qxif-eye"}):(0,ot.jsx)("i",{className:"qxuicon-low-vision"});return[{key:"visibilitySubmenu",label:(0,ot.jsxs)("span",{onClick:()=>i(!a[n],[n]),className:"qxui-dropdown-context-menu-item","data-visibility":!a[n],children:[o(a[n]),a[n]?"Disable for ".concat(Fe(n)):"Enable for ".concat(Fe(n))]}),children:[Object.values(a).filter((e=>!!e)).length>2?{key:"setNodeVisibilityDisable",onClick:()=>i(!1),label:(0,ot.jsxs)("span",{className:"qxui-dropdown-context-menu-item",children:[(0,ot.jsx)("i",{className:"qxuicon-low-vision"})," Disable for all"]})}:{key:"setNodeVisibilityDisable",onClick:()=>i(!0),label:(0,ot.jsxs)("span",{className:"qxui-dropdown-context-menu-item",children:[(0,ot.jsx)("i",{className:"qxif-eye"})," Enable for all"]})},...["lg","md","sm"].map((e=>e!==n?{key:e,onClick:()=>i(!a[e],[e]),label:(0,ot.jsxs)("span",{className:"qxui-dropdown-context-menu-item",children:[o(a[e])," ",a[e]?"Disable":"Enable"," ","for ",Fe(e)]})}:null))]}]},zn=e=>{let{openContextMenu:t,showSettings:s,nodeDetails:i,triggerAction:n="click",id:a="",onContextMenu:o,setIsContextMenuOpen:l,children:r}=e;const p=(0,c.d4)((e=>{let{nodes:t}=e;return t.device}),((e,t)=>e===t)),u=(0,c.d4)((e=>{let{nodes:t}=e;return t.clipboard})),h=(0,d.useMemo)((()=>u),[u]),m=(0,c.wA)(),x=gt(i.node)?"element":i.node.slug;i.device=p,i.type=x,i.clipboard=h;const g={trigger:[n],menu:{items:Fn(m,i,s),className:"qxui-dropdown-context-menu"},onContextMenu:o,open:t,onOpenChange:e=>{l(e),e&&(window.openedContextMenuId=i.node.id)}};return(0,ot.jsx)(In.default,{rootClassName:"qx-context-dropdown",...g,children:(0,ot.jsx)("div",{className:"qx-context-menu",children:r})})},Hn=e=>{let{child:t,nodePath:s,type:i}=e;const[n,a]=(0,d.useState)(!1),[o,l]=(0,d.useState)(!1),r=(0,d.useRef)(null),p=(0,d.useRef)(null),u=(0,c.wA)(),h=t.form.advanced.identifier.label||t.name||t.slug;(0,d.useEffect)((()=>{const e=r.current,t=()=>{l(!1)};return e.addEventListener("closeContextMenu",t),()=>{e.removeEventListener("closeContextMenu",t)}}),[]);const m=async e=>{if(e&&e.stopPropagation&&e.stopPropagation(),!o)try{var n;await u(zi(s,t));const{id:e}=t,a=null===(n=rs(e,await ss()))||void 0===n?void 0:n.parentNode,o=await Ss({id:e,elementType:i,callingFromLayer:!0});As(i,o),a&&a.scrollIntoView({behavior:"smooth",block:"center"})}catch(e){}};return(0,ot.jsx)(zn,{nodeDetails:{node:t,nodePath:s,deleteButton:p.current},openContextMenu:o,onContextMenu:m,setIsContextMenuOpen:l,triggerAction:"contextMenu",children:(0,ot.jsx)("div",{ref:r,onClick:m,className:"qxui-navigator-section ".concat(t.id),children:(0,ot.jsxs)("div",{className:"qxui-navigator-section-title section-type-".concat(i),children:[n?(0,ot.jsxs)("form",{style:{marginBottom:0},onSubmit:async e=>{e.preventDefault(),e.currentTarget.classList.remove("focused");const i=e.currentTarget[t.id].value.trim();a(!1),await u(Wi(s,["advanced","identifier","label"],i))},children:[(0,ot.jsx)("input",{name:t.id,defaultValue:h,type:"text",autoComplete:"off"}),"section"===i?(0,ot.jsx)("button",{style:{right:"-1.5rem"},type:"submit",className:"qxui-navigator-section-title-edit-btn",children:(0,ot.jsx)("i",{className:"qxuicon-check"})}):null]}):(0,ot.jsxs)(ot.Fragment,{children:[(0,ot.jsx)("span",{style:{fontSize:12},children:"section"===i&&t.form.advanced.identifier.label||Rs({absoluteKey:"".concat(t.slug,"_").concat(t.slug),label:h})}),"section"===i?(0,ot.jsx)("button",{onClick:e=>{if("section"!==i)return!1;e.stopPropagation(),e.currentTarget.classList.add("focused"),a(!0)},type:"button",className:"qxui-navigator-section-title-edit-btn",children:(0,ot.jsx)("i",{"qx-tooltip":"Edit",className:"qxuicon-pencil"})}):null]}),(0,ot.jsxs)("div",{className:"qxui-navigator-section-title-action-btns",children:[(0,ot.jsx)("i",{onClick:async e=>{e.stopPropagation(),"column"===i?await u(Zi(s)):await u(Xi(s,Ln()(i)))},"qx-tooltip":"Duplicate",className:"qxuicon-clone"}),(0,ot.jsx)("i",{ref:p,onClick:async e=>{var t,n;e.stopPropagation();const a=null===(t=r.current.closest(".qxui-tree-treenode"))||void 0===t?void 0:t.previousElementSibling;null==a||null===(n=a.querySelector(".qxui-navigator-section"))||void 0===n||n.click(),a||setTimeout((()=>{var e;return null===(e=document.querySelector(".qxui-tree-title"))||void 0===e||null===(e=e.querySelector(".qxui-navigator-section"))||void 0===e?void 0:e.click()}),100);try{await u(on(s,Ln()(i)))}catch(e){console.error(e)}},"qx-tooltip":"Delete",className:"qx-tree-delete-btn qxuicon-trash-alt"})]})]})})})},Bn=(e,t)=>(s,i)=>new Promise(((n,a)=>{if(e){const{tree:{extendKeys:t}}=i();if(e.every((e=>t.has(e))))return n()}try{s({type:te,payload:{value:e,extendAllKeys:t}}),n()}catch(e){console.error("COULD NOT SET EXTENDED KEYS",e),a(e)}}));var Wn,Vn=s(63150);function Jn(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Gn={section:["section","row"],row:["row","column"],column:["column","element"],element:["element"]},Qn=(e,t)=>{const s={children:[]};e.children&&e.children.length>0&&(s.children=e.children.map(((e,s)=>Qn(e,[...t,"children",s]))));const i=gt(e)?"element":e.slug;return{...s,key:e.id,path:t,title:(0,ot.jsx)(Hn,{child:e,nodePath:t,type:i}),type:i,slug:e.slug,dropTypes:Gn[i]}};let Yn=[];const Xn=e=>e.trackActions,Zn=(0,Vn.Mz)([e=>e.nodes.nodes,Xn],((e,t)=>{let{action:s}=t;return"ADD_ROW_NODE"!==s&&"UPDATE_NODE_FIELD"===s||(Yn=e.map(((e,t)=>Qn(e,[t])))),Yn})),$n=(0,Vn.Mz)([Zn,e=>e.tree,Xn],((e,t,s)=>({treeData:e,tree:t,trackActions:s.action}))),ea={moveNode:Yi,deleteExtendedKey:e=>({type:se,payload:e})};let ta=(0,c.Ng)($n,ea)(Wn=class extends d.Component{constructor(){super(...arguments),Jn(this,"state",{selectedKeys:[]}),Jn(this,"onDragStart",(e=>{let{node:t}=e;this.node=t})),Jn(this,"allowDrop",(e=>{let{dropNode:t}=e;return t.dropTypes.includes(this.node.type)})),Jn(this,"onDrop",(e=>{let{dragNode:t,node:s,dropPosition:i}=e;if(delete this.node,("element"===t.type&&"column"===s.type||"row"===t.type&&"section"===s.type||"column"===t.type&&"row"===s.type)&&(i=0),0===s.dropTypes.indexOf(t.type)){const e=[...s.path],n=e.pop();-1===i?i=0:n===i&&(i+=1),this.props.moveNode(t.path,[...e,i])}else this.props.moveNode(t.path,[...s.path,"children",0===i?i:s.children.length])})),Jn(this,"getIcon",(e=>{let{slug:t}=e;return(0,ot.jsx)("span",{className:"qx-element-icon",dangerouslySetInnerHTML:{__html:Xe(t)}})})),Jn(this,"onChange",(e=>{e.stopPropagation();const{value:t}=e.target,s=this.props.treeData.map((e=>e.title.indexOf(t)>-1?getParentKey(e.key,gData):null)).filter(((e,t,s)=>e&&s.indexOf(e)===t));this.setState({expandedKeys:s,searchValue:t,autoExpandParent:!0})}))}shouldComponentUpdate(e,t,s){return"MOVE_NODE"===e.trackActions||"MOVE_NODE"===this.props.trackActions||"ADD_ELEMENT_NODE"===e.trackActions||"ADD_ELEMENT_NODE"===this.props.trackActions||"DELETE_NODE"===e.trackActions||"DELETE_NODE"===this.props.trackActions||"DUPLICATE_NODE"===e.trackActions||"DUPLICATE_NODE"===this.props.trackActions||"DUPLICATE_COLUMN_NODE"===e.trackActions||"DUPLICATE_COLUMN_NODE"===this.props.trackActions||e.treeData.length!==this.props.treeData.length||e.tree.isExtendUpdating!==this.props.tree.isExtendUpdating}componentDidMount(){this.props.setTreeData(this.props.treeData);const e=[...Cs.values()].at(-1);if(!e)return;const t=document.querySelector(".".concat(e));var s;t&&(null===(s=t.closest(".qxui-tree-treenode"))||void 0===s||s.setAttribute("data-selected","true"))}componentDidUpdate(e){e.treeData.length!==this.props.treeData.length&&this.props.setTreeData(this.props.treeData)}render(){const{treeData:e,expandedKeys:t,handleNodeExpand:s,deleteExtendedKey:i}=this.props;return(0,ot.jsx)("div",{className:"navigator",children:(0,ot.jsx)(Rn.default,{showIcon:!0,draggable:!0,blockNode:!0,selectable:!0,className:"draggable-navigator",onDragStart:this.onDragStart,allowDrop:this.allowDrop,onDrop:this.onDrop,icon:this.getIcon,treeData:e,expandedKeys:t,onExpand:(e,t)=>{let{expanded:n,node:a}=t;n?s(e):i(a.key)}})})}})||Wn;var sa,ia;const na=function(){return{type:H,payload:{action:arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?null:"OPEN_NAVIGATOR_MODAL"}}},aa={setExtendedKeys:Bn,openNavigatorModal:na};let oa=(sa=(0,c.Ng)((e=>{let{tree:t}=e;return{tree:t}}),aa),sa(ia=class extends d.Component{constructor(){var e,t,s,i;super(...arguments),e=this,s={isExpended:!1,treeData:[]},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t="state"))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}setTreeData(e){this.setState((t=>({...t,treeData:e})))}handelExtend(){const e=this.getAllKeys(this.state.treeData),t=this.state.isExpended?[]:e;this.props.setExtendedKeys(!1,t),this.setState((e=>({isExpended:!e.isExpended})))}getAllKeys(){let e=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((t=>{e.push(t.key),t.children&&(e=[...e,...this.getAllKeys(t.children)])})),e}handleNodeExpand(e){this.props.setExtendedKeys(e)}navigatorTitleComponent(){const{isExpended:e}=this.state;return(0,ot.jsxs)("div",{className:"qxui-modal-title qxui-modal-tree-controller",children:[(0,ot.jsx)("h4",{className:"qx-modal-tree-title",children:Rs(e?{absoluteKey:"Collapse All",label:"Collapse All"}:{absoluteKey:"Expand All",label:"Expand All"})}),(0,ot.jsx)("button",{type:"button",className:"qx-expand-btn",onClick:this.handelExtend.bind(this),children:(0,ot.jsx)("svg",{style:{transform:"rotate(".concat(e?0:"-90","deg)")},viewBox:"0 0 1024 1024",focusable:"false","data-icon":"caret-down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,ot.jsx)("path",{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"})})})]})}render(){return(0,ot.jsxs)("div",{children:[this.navigatorTitleComponent(),(0,ot.jsx)(ta,{expandedKeys:Array.from(this.props.tree.extendKeys||[]),handleNodeExpand:this.handleNodeExpand.bind(this),setTreeData:this.setTreeData.bind(this)})]})}})||ia);const la=oa;var ra=s(93876),da=s(95907);function ca(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const{TextArea:pa}=li.default;class ua extends d.Component{constructor(e){super(e),ca(this,"getHelpMarkup",(()=>{let{help:e}=this.props;if(e)return(0,ot.jsx)(ri.default,{content:e,placement:"right",rootClassName:"qxui-popover-help",popupStyle:{width:"300px"},children:(0,ot.jsx)("i",{className:"qx-help-circle qxuicon-question-circle"})})})),ca(this,"getResetMarkup",(()=>{let{onlyBaseText:e}=this.props;return e||ui()(this.props.default,this.props.value)?null:(0,ot.jsx)(ai.default,{title:"Reset to default",children:(0,ot.jsx)(ci(),{size:"small",type:"text",children:(0,ot.jsx)("i",{className:"qxuicon-undo",onClick:()=>this.onCodeChange("")})})})})),this.state={code:"",modes:[{value:"javascript",label:Rs({absoluteKey:"JavaScript",label:"JavaScript"})},{value:"css",label:Rs({absoluteKey:"CSS",label:"CSS"})},{value:"html",label:Rs({absoluteKey:"HTML",label:"HTML"})}]},this.onCodeChange=this.onCodeChange.bind(this)}onCodeChange(e){this.setState({code:e}),this.props.onChange({code:e,mode:this.props.value.mode?this.props.value.mode:"css"})}getLabelMarkup(){let{label:e,name:t,absoluteKey:s,absoluteName:i}=this.props;const n=s?"absoluteKey":"key";return(0,ot.jsx)("span",{children:Rs({[n]:null!=i?i:t,label:e})})}render(){if(Se()){const{proMessage:e}=this.props;return(0,ot.jsx)(Xs,{requestFrom:"custom-css",style:{marginBottom:10},title:e?e.title:"Meet Our Custom CSS",message:e?e.message:"Custom CSS lets you add CSS code to any element, and see it render live right in the editor."})}return(0,ot.jsxs)(l.A,{className:"qx-fb-field-code",children:[(0,ot.jsxs)(r.A,{className:"qx-fb-field__label qx-flex qx-flex-middle",children:[this.getLabelMarkup(),this.getHelpMarkup(),this.getResetMarkup()]}),(0,ot.jsx)(pa,{rows:4,style:{fontFamily:"monospace",fontSize:"12px",lineHeight:"1.5",resize:"vertical",fontWeight:400,color:"#333",background:"#f2f2f2",border:"1px dashed #555",borderRadius:"0px",padding:"10px"},className:"field-type-code",value:this.props.value.code,mode:this.props.value.mode,onChange:e=>this.onCodeChange(e.target.value),prefixCls:"qxui-input"})]})}}ua.propTypes={},ua.defaultProps={};const ha=ua;var ma,xa;function ga(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const va=da.default.Option,fa="OPEN_PAGE_MODAL",ya=function(){return{type:H,payload:{action:arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?null:fa,tab:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}}},ba={openPageSettings:ya};let wa=(0,c.Ng)((e=>{let{action:{action:t,tab:s}}=e;return{visible:t===fa,tab:s}}),ba)((xa=class extends d.Component{constructor(e){super(e),ga(this,"state",{CSS_Code:"",JS_Code:"",color:"",accessListArray:[],LanguageListArray:[],globalStyles:"",enabledImageOptimization:!0,enable_amp:!0,enabledWebpSupport:!0})}componentDidMount(){this.setState({CSS_Code:{code:rs("jform_params_codecss").value,mode:"css"}}),this.setState({JS_Code:{code:rs("jform_params_codejs").value,mode:"javascript"}});let e=rs("jform_access").options,t=[],s=e.length,i=0;for(;i<s;i++)""!==e[i].value&&t.push({text:Rs({absoluteKey:e[i].text,label:e[i].text}),value:e[i].value});this.setState({accessListArray:t});let n=rs("jform_language").options,a=[],o=n.length,l=0;for(;l<o;l++)a.push({text:n[l].text,value:n[l].value});this.setState({LanguageListArray:a}),rs("jform_access").value=rs("jform_access").value?rs("jform_access").value:rs("jform_access").options[0].value,rs("jform_language").value=rs("jform_language").value?rs("jform_language").value:rs("jform_language").options[0].value,setTimeout((async()=>{this.setState({enabledImageOptimization:!!Le(rs("jform_params_enabled_image_optimization").value)||JSON.parse(rs("jform_params_enabled_image_optimization").value),enabledWebpSupport:!!Le(rs("jform_params_enabled_webp_support").value)||JSON.parse(rs("jform_params_enabled_webp_support").value),enable_amp:!!Le(rs("jform_metadata_enable_amp").value)||JSON.parse(rs("jform_metadata_enable_amp").value)}),await bs(this.state.CSS_Code.code,"page-custom-code-style"),await ys(this.state.JS_Code.code,"page-custom-code-script")}),100)}onGlobalStylesChange(e){this.setState({globalStyles:e})}saveGlobalStyles(){"function"==typeof this.state.globalStyles.toJS&&jQuery("#jform_params_style").val(JSON.stringify(this.state.globalStyles.toJS()))}onChange(e){Pi()}render(){let e=rs("jform_type").value;const t=[{key:"general",label:Rs({absoluteKey:"General",label:"General"}),children:(0,ot.jsx)(ra.default,{defaultActiveKey:["1"],accordion:!0,ghost:!0,expandIconPosition:"end",items:[{key:"1",label:Rs({absoluteKey:"General Options",label:"General Options"}),children:(0,ot.jsxs)("div",{children:[(0,ot.jsxs)(l.A,{style:{marginBottom:15},align:"middle",children:[(0,ot.jsx)(r.A,{span:10,children:(0,ot.jsx)("p",{className:"qx-fb-field__label",children:Rs({absoluteKey:"Status",label:"Status"})})}),(0,ot.jsx)(r.A,{span:14,children:(0,ot.jsxs)(da.default,{label:"Page status",defaultValue:rs("jform_state").value,onChange:e=>{rs("jform_state").value=e,Pi()},children:[(0,ot.jsx)(va,{value:"1",children:Rs({absoluteKey:"Published",label:"Published"})}),(0,ot.jsx)(va,{value:"0",children:Rs({absoluteKey:"Unpublished",label:"Unpublished"})}),(0,ot.jsx)(va,{value:"2",children:Rs({absoluteKey:"Archived",label:"Archived"})}),(0,ot.jsx)(va,{value:"-2",children:Rs({absoluteKey:"Trashed",label:"Trashed"})})]})})]}),(0,ot.jsxs)(l.A,{style:{marginBottom:15},align:"middle",children:[(0,ot.jsx)(r.A,{span:10,children:(0,ot.jsx)("p",{className:"qx-fb-field__label",children:Rs({absoluteKey:"Access",label:"Access"})})}),(0,ot.jsx)(r.A,{span:14,children:(0,ot.jsx)(da.default,{label:"Page Access",defaultValue:rs("jform_access").value,style:{width:"100%"},onChange:e=>{rs("jform_access").value=e,Pi()},children:this.state.accessListArray.map((e=>(0,ot.jsx)(va,{value:e.value,children:e.text},e.value)))})})]}),(0,ot.jsxs)(l.A,{style:{marginBottom:15},align:"middle",children:[(0,ot.jsx)(r.A,{span:10,children:(0,ot.jsx)("p",{className:"qx-fb-field__label",children:Rs({absoluteKey:"Language",label:"Language"})})}),(0,ot.jsx)(r.A,{span:14,children:(0,ot.jsx)(da.default,{label:"Language",defaultValue:rs("jform_language").value,style:{width:"100%"},onChange:e=>{rs("jform_language").value=e,Pi()},children:this.state.LanguageListArray.map((e=>(0,ot.jsx)(va,{value:e.value,children:e.text},e.value)))})})]})]})}]})},{key:"advanced",label:Rs({absoluteKey:"Advanced",label:"Advanced"}),children:(0,ot.jsx)(ra.default,{defaultActiveKey:["1"],accordion:!0,ghost:!0,expandIconPosition:"end",items:[{key:"1",label:Rs({absoluteKey:"CSS",label:"CSS"}),children:(0,ot.jsx)("div",{className:"qx-fb-field",children:(0,ot.jsx)(ha,{label:"Custom CSS",name:"jform[params][codecss]",absoluteKey:!0,absoluteName:"Custom CSS",value:this.state.CSS_Code,onChange:e=>{this.setState({CSS_Code:{code:e.code}}),rs("jform_params_codecss").value=e.code,bs(e.code,"page-custom-code-style"),Pi()}})})},{key:"2",label:Rs({absoluteKey:"Javascript",label:"JS"}),children:(0,ot.jsx)("div",{className:"qx-fb-field",children:(0,ot.jsx)(ha,{proMessage:{title:"Meet Our Custom JS",message:"Custom JS lets you add JS code to the page, you can write any JS code here."},label:"Custom JS",mode:"javascript",name:"jform[params][codejs]",absoluteKey:!0,absoluteName:"Custom JS",value:this.state.JS_Code,onChange:e=>{this.setState({JS_Code:{code:e.code}}),rs("jform_params_codejs").value=e.code,ys(e.code,"page-custom-code-script"),Pi()}})})}]})}];return(0,ot.jsx)(bn,{className:"qxui-modal--with-tab page-options",title:Rs("collection"===e?{absoluteKey:"Settings",label:"Settings"}:{absoluteKey:"Page Settings",label:"Page Settings"}),show:!0,close:()=>this.props.openPageSettings(!1),expandable:!1,bodyStyle:{paddingTop:0},style:{left:"calc(50vw - 250px)",display:this.props.visible?"block":"none"},footer:(0,ot.jsxs)(ci(),{type:"primary",block:!0,style:{paddingBlock:"1.5rem"},onClick:()=>{Pi(),this.saveGlobalStyles(),this.props.openPageSettings(!1)},children:[(0,ot.jsx)("i",{className:"qxuicon-check"})," Apply"]},"save"),children:(0,ot.jsx)(ji.default,{defaultActiveKey:this.state.tab,onChange:e=>{Ne("qx-page-tab",e),this.setState({tab:e})},items:t})})}},ga(xa,"propTypes",{}),ga(xa,"defaultProps",{}),ma=xa))||ma;const ja=wa;var qa=s(60313),Ca=s(17928),Sa=s(23422),_a=s(78874),Na=s(99390);const ka=e=>{let{hideCopy:t,handelDelete:s,itemKey:i,prefix:n,handelDuplicate:a,title:o,description:l,style:r={}}=e;return(0,ot.jsxs)(ot.Fragment,{children:[!t&&(0,ot.jsx)("i",{style:{right:"3rem"},onClick:e=>{e.stopPropagation();const t=(i.split(n)[1]+"-cp").split("");a("".concat(n).concat((0,Na.shuffle)(t).join("")))},className:"qxuicon-clone qxui-global-styles--delete"}),(0,ot.jsx)(Sa.A,{title:(0,ot.jsx)("div",{style:{paddingLeft:"0.5rem",paddingTop:"0.5rem"},children:o||"Delete typography"}),description:(0,ot.jsx)("div",{style:{fontSize:12,paddingInline:"0.6rem"},children:l||"Are you sure to delete this typography style?"}),onConfirm:e=>{var t;e.stopPropagation(),_a.Ay.success("Style Deleted"),null===(t=document.getElementById(i))||void 0===t||t.classList.add("slideLeft"),setTimeout(s,302)},onCancel:e=>e.stopPropagation(),okText:(0,ot.jsx)("span",{style:{fontSize:12},children:"Yes"}),cancelText:(0,ot.jsx)("span",{style:{fontSize:12},children:"No"}),icon:null,rootClassName:"qx-delete-confirmation-popover",popupStyle:{width:"16rem"},overlayStyle:{padding:"1rem"},children:(0,ot.jsx)("i",{style:r,onClick:e=>e.stopPropagation(),className:"qxuicon-trash-alt qxui-global-styles--delete"})})]})};function Ea(e){let{pageTitle:t,setPageTitle:s,handleOpenChange:i,open:n,THIS:a}=e;const[o,l]=(0,d.useState)(!1),r=(0,c.wA)(),p=(0,ot.jsxs)("div",{style:{padding:"0.5rem",paddingBottom:"1rem"},children:[(0,ot.jsx)("p",{style:{fontWeight:500,marginBottom:15},children:"Page Title"}),(0,ot.jsxs)(oi.default.Compact,{block:!0,children:[(0,ot.jsx)(li.default,{name:"jform[title]",placeholder:"Page name",defaultValue:t,id:"jform_title",autoComplete:"off",onChange:e=>{let{target:{value:t}}=e;return s(null==t?void 0:t.trim())}}),(0,ot.jsx)(ci(),{type:"success",onClick:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==e||e.preventDefault();const n=await r(cn()),o=await r(pn());l(!0);try{const e={state:{title:t},props:{nodes:n,qid:o,invokeDisplayConditionModal:a.props.invokeDisplayConditionModal,updateQid:a.props.updateQid}};await Oi(e),a.setPageTitle(t),l(!1),i(!1)}catch(e){console.error("Could not save page title",e),l(!1),s(qe()),a.setPageTitle(qe())}},disabled:o,style:{borderTopRightRadius:4,borderBottomRightRadius:4},children:o?(0,ot.jsx)("div",{"qx-spinner":"ratio:0.5",className:"qx-icon qx-spinner"}):(0,ot.jsx)("i",{className:"qxuicon-check"})})]})]});return(0,ot.jsx)(ci(),{type:"text",className:"qx-responsive-btn",children:(0,ot.jsx)(ri.default,{trigger:"click",content:p,open:n,placement:"bottom",onOpenChange:i,rootClassName:"qxui-custom-popover",popupStyle:{width:"17rem"},children:(0,ot.jsx)("span",{className:"qxui-text-ellipsis",style:{maxWidth:150,fontWeight:500},children:t||"Page Title"})})})}const Pa=e=>{let{THIS:t}=e;const s=()=>{var e;return null!==(e=JSON.parse(localStorage.getItem("custom-breakpoints")))&&void 0!==e?e:{}},[i,n]=(0,d.useState)(qe()||""),[a,o]=(0,d.useState)(!1),[p,u]=(0,d.useState)(Object.values(s())),h=(0,d.useRef)(s()),[{name:m,breakpoint:x},g]=(0,d.useState)({name:"",breakpoint:0}),[v,f]=(0,d.useState)(!1),{device:y}=(0,c.d4)((e=>{let{nodes:{device:t}}=e;return{device:t}}),c.bN),b=xe[y],w=(0,c.wA)();async function j(e){let{key:t}=e;document.querySelector("body").setAttribute("data-device",t);const s=await updateBodyDeviceClass(t,Object.keys(h.current));await Ps(s)}(0,d.useEffect)((async function(){const e=xe[y];document.querySelector("body").setAttribute("data-device",e),document.querySelectorAll("div[data-".concat(e,"]")).forEach((t=>{let s=t.attributes["data-".concat(e)].value;t.style.maxWidth=s,t.style.flex="0 0 ".concat(s)}));const t=await updateBodyDeviceClass(e);await Ps(t)}),[y]);const q=e=>{w(dn(me[e]))};return Ca.default,p.map((e=>{const t={...e};return t.label=(0,ot.jsxs)("div",{className:"qxui-global-styles--text-item",children:[e.label,!v&&(0,ot.jsx)("button",{onClick:t=>{t.stopPropagation(),f(!0),g({name:e.value.name,breakpoint:e.value.breakpoint})},className:"qx-custom-b-edit-btn",type:"button",children:(0,ot.jsx)("i",{className:"qxuicon-pencil"})}),(0,ot.jsx)(ka,{hideCopy:!0,style:{bottom:"-0.7rem"},handelDelete:()=>{return e=t.key,delete h.current[e],void u(Object.values(h.current));var e},title:"Delete Break Point",description:"Are you sure you want to delete this breakpoint"})]}),t.onClick=j,t})),0!==p.length&&gn.default,l.A,r.A,r.A,li.default,!v&&(l.A,r.A,r.A,qa.default),ci(),(0,ot.jsxs)(l.A,{style:{gap:"0.3rem"},align:"middle",id:"qx-toolbar-middle-btns",children:[a?(0,ot.jsx)(Ea,{THIS:t,open:a,pageTitle:i,setPageTitle:n,handleOpenChange:e=>{o(e)}}):(0,ot.jsx)(ci(),{type:"text",className:"qx-responsive-btn",onClick:()=>o(!a),children:(0,ot.jsx)("span",{className:"qxui-text-ellipsis",style:{maxWidth:150,fontWeight:500},children:i||"Page Title"})}),(0,ot.jsx)(ci(),{type:"text",className:"".concat("desktop"===b?"qx-responsive-active":""," qx-responsive-btn"),value:"desktop",onClick:()=>q("desktop"),children:(0,ot.jsx)("i",{className:"qxuicon-desktop"})}),(0,ot.jsx)(ci(),{type:"text",className:"".concat("tablet"===b?"qx-responsive-active":""," qx-responsive-btn"),value:"tablet",onClick:()=>q("tablet"),children:(0,ot.jsx)("i",{className:"qxuicon-tablet"})}),(0,ot.jsx)(ci(),{type:"text",className:"".concat("mobile"===b?"qx-responsive-active":""," qx-responsive-btn"),value:"mobile",onClick:()=>q("mobile"),children:(0,ot.jsx)("i",{className:"qxuicon-mobile"})}),null]})};var Ta=s(95023),Aa=s.n(Ta);function Oa(e,t,s){const i=new Blob([e],{type:s||"application/octet-stream"});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(i,t);else{const e=window.URL.createObjectURL(i),s=window.document.createElement("a");s.style.display="none",s.href=e,s.setAttribute("download",t),void 0===s.download&&s.setAttribute("target","_blank"),window.document.body.appendChild(s),s.click(),window.document.body.removeChild(s),window.URL.revokeObjectURL(e)}}var Da=s(55434);let Ra=ge();var Ma,La;function Ia(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Fa=da.default.Option,Ka="OPEN_LINK_PAGE_MODAL",Ua=function(){return{type:H,payload:{action:arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?null:Ka}}},za={openLinkMenuPicker:Ua};let Ha=(0,c.Ng)((e=>{let{action:{action:t}}=e;return{visible:t===Ka}}),za)((La=class extends d.Component{constructor(e){super(e),Ia(this,"state",{MenuList:[],ParentList:[],mainmenu:"",parentmenu:"1",noMenu:!0,pageLink:"",Itemid:""}),Ia(this,"onChange",(()=>{Pi()})),Ia(this,"makeMenuLink",(()=>{if(!this.state.title)return void dt.warning("Title is required");if(!this.state.alias)return void dt.warning("Alias is required");if(!this.state.mainmenu)return void dt.warning("Please select menu group");this.state.parentmenu||this.setState({parentmenu:"1"});let e=function(e,t,s,i){return new Promise((function(n,a){let o=document.getElementById("jform_token").name,l="".concat(Ra,"/index.php?option=com_quix&task=api.createMenu&").concat(o,"=1"),r=document.getElementById("jform_id").value,d={title:e,link:"index.php?option=com_quix&view=page&id="+r,alias:t,menu:s,parentid:i};jQuery.ajax({data:d,url:l,type:"POST",success:function(e){return(e=JSON.parse(e)).success?n(e):a(e)}})}))}(this.state.title,this.state.alias,this.state.mainmenu,this.state.parentmenu);return e.then((e=>{if(!1===e.success)dt.error(e.message);else{let t=e.data;dt.success("Menu created successfully."),this.setState({noMenu:!1}),this.setState({Itemid:t.Itemid}),this.setState({pageLink:t.link}),rs("return_url").value=btoa(t.link)}}),(e=>{dt.error(e.message)})),e})),Ia(this,"updateParentItem",(e=>{this.setState({ParentList:e})})),Ia(this,"handleChange",((e,t)=>{this.setState({mainmenu:e}),jQuery.ajax({url:ge()+"/index.php?option=com_quix&task=api.getParentItem&menutype="+e,dataType:"json"}).done((function(e){let s=[],i=e.length,n=0,a=[];for(a.value="1",a.text="Menu Item Root",s.push(a);n<i;n++){let t=[];t.value=e[n].id,t.text=e[n].title,s.push(t)}return t(s)}))}))}componentDidMount(){let e=rs("jform_menutype").options,t=[],s=e.length,i=0;for(;i<s;i++){let s=[];s.value=e[i].value,s.text=e[i].text,t.push(s)}this.setState({MenuList:t});let n=[],a=[];a.value="1",a.text="Menu Item Root",n.push(a),this.setState({ParentList:n}),!0==!!+window.QuixPageHasMenu&&(this.setState({noMenu:!1}),this.setState({pageLink:atob(rs("return_url").value)})),this.setState({Itemid:rs("jform_Itemid").value})}render(){let{visible:e}=this.props;return(0,ot.jsxs)(bn,{className:"modal--small",title:"Add To Menu",show:e,close:()=>this.props.openLinkMenuPicker(!1),dismisible:!0,expandable:!1,bodyStyle:{minHeight:"fit-content"},style:{left:"calc(50vw - 250px)"},footer:(0,ot.jsxs)(ci(),{type:"primary",style:{display:this.state.noMenu?"initial":"none"},size:"large",onClick:this.makeMenuLink,children:[(0,ot.jsx)("i",{className:"qxuicon-link"})," Create Menu"]},Math.random()),children:[(0,ot.jsxs)("div",{style:{display:this.state.noMenu?"initial":"none"},children:[(0,ot.jsx)("div",{className:"qx-fb-field",children:(0,ot.jsx)(xi,{label:"Menu Title",placeholder:"Home",value:this.state.title,onChange:e=>{this.setState({title:e})},onReset:()=>{this.setState({title:""})}})}),(0,ot.jsx)("div",{className:"qx-fb-field",children:(0,ot.jsx)(xi,{label:"Menu alias",placeholder:"menu-alias",value:this.state.alias,onChange:e=>{this.setState({alias:e})},onReset:()=>{this.setState({alias:""})}})}),(0,ot.jsx)("div",{className:"mb-15px",children:(0,ot.jsxs)(l.A,{align:"middle",children:[(0,ot.jsx)(r.A,{span:10,children:(0,ot.jsx)("p",{className:"qx-fb-field__label",children:"Select Menu"})}),(0,ot.jsx)(r.A,{span:14,children:(0,ot.jsx)(da.default,{label:"Select Menu",defaultValue:this.state.mainmenu,style:{width:"100%"},onChange:e=>{this.handleChange(e,this.updateParentItem)},prefixCls:"qxui-select",getPopupContainer:()=>window.document.body,children:this.state.MenuList.map(((e,t)=>(0,ot.jsxs)(Fa,{value:e.value.toString(),children:[" ",e.text," "]},t)))})})]})}),(0,ot.jsxs)(l.A,{align:"middle",children:[(0,ot.jsx)(r.A,{span:10,children:(0,ot.jsx)("p",{className:"qx-fb-field__label",children:"Select Parent Item"})}),(0,ot.jsx)(r.A,{span:14,children:(0,ot.jsx)(da.default,{label:"Parent Item",defaultValue:this.state.parentmenu,style:{width:"100%"},onChange:e=>{this.setState({parentmenu:e})},prefixCls:"qxui-select",getPopupContainer:()=>window.document.body,children:this.state.ParentList.map(((e,t)=>(0,ot.jsxs)(Fa,{value:e.value.toString(),children:[" ",e.text," "]},t)))})})]})]}),(0,ot.jsx)(Da.Ay,{status:"success",title:"Page Linked To Menu",subTitle:"This page is already linked to a menu item",style:{display:this.state.noMenu?"none":"block"},extra:[(0,ot.jsx)("a",{className:"qx-button qx-button-primary",target:"_blank",href:"".concat(quix.url,"/administrator/index.php?option=com_menus&task=item.edit&id=").concat(this.state.Itemid),children:"Update Menu"},"1"),(0,ot.jsxs)("a",{className:"qx-button qx-button-default qx-margin-small-left",target:"_blank",href:this.state.pageLink,children:[(0,ot.jsx)("i",{className:"qxuicon-external-link"})," Visit Page"]},"2")]})]})}},Ia(La,"propTypes",{}),Ia(La,"defaultProps",{}),Ma=La))||Ma;const Ba=Ha,Wa=e=>{let{THIS:t}=e;const s=Ce(),i=(0,c.wA)(),n=()=>!(Aa()(rs("jform_template_type"))||!["article","header","footer","mainbody"].includes(rs("jform_template_type").value)),a=e=>{let{key:t="auto"}=e;if("auto"===t){localStorage.setItem("qx-system-theme","true");const e=Os();i(Bs(e))}else localStorage.setItem("qx-system-theme","false"),i(Bs(t))};return(0,ot.jsxs)(l.A,{align:"middle",children:[(0,ot.jsx)(In.default,{arrow:!0,menu:{items:[{key:"distraction Free",label:(0,ot.jsxs)("span",{children:[" ",(0,ot.jsx)("i",{className:"qx-margin-small-right",children:Ga.safeMode()})," ",Rs({absoluteKey:"Safe Mode",label:"Safe Mode"})]}),onClick:e=>{const t=confirm("This will reload the builder, make sure you have saved the changes"),s=new URL(window.location.href).searchParams.get("output");let i="component";if(!0!==t)return!1;{"html"===s?i="component":"component"===s&&(i="html");const e=new URL(window.location.href);e.searchParams.set("output",i),window.location.href=e.href}}},{key:"theme",label:(0,ot.jsxs)("span",{children:[(0,ot.jsx)("i",{className:"qxuicon-paint-brush qx-margin-small-right"})," ",Rs({absoluteKey:"Theme",label:"Theme"})]}),children:[{key:"light",label:(0,ot.jsxs)("div",{children:[(0,ot.jsx)("span",{style:{scale:"0.8",marginLeft:-3},className:"qx-margin-small-right qx-display-inline-block",children:Ja.lightMode}),Rs({absoluteKey:"Light Mode",label:"Light Mode"})]}),onClick:a},{key:"dark",label:(0,ot.jsxs)("div",{children:[(0,ot.jsx)("span",{style:{scale:"0.8",marginLeft:-3},className:"qx-margin-small-right qx-display-inline-block",children:Ja.darkMode}),Rs({absoluteKey:"Dark Mode",label:"Dark Mode"})]}),onClick:a},{key:"auto",label:(0,ot.jsxs)("div",{className:"qx-flex",children:[(0,ot.jsx)("i",{style:{fontSize:18},className:"qx-d-inline-block qxio-gear-a qx-margin-small-right"}),Rs({absoluteKey:"System Theme",label:"System Theme"})]}),onClick:a}]},...Va(t),{type:"divider"},{key:"close",onClick:()=>{let e="page"===rs("jform_type").value?"page.cancel":"collection.cancel";window.Joomla.submitform(e)},label:(0,ot.jsxs)("div",{children:[(0,ot.jsx)("i",{className:"qxuicon-times qx-margin-small-right"})," ",Rs({absoluteKey:"Close Builder",label:"Close Builder"})]})},{key:"back2Admin",onClick:()=>{window.location=ge()+"/administrator/index.php?option=com_quix"},label:(0,ot.jsxs)("div",{children:[(0,ot.jsx)("i",{className:"qxuicon-arrow-left qx-margin-small-right"})," ",Rs({absoluteKey:"Back To Admin",label:"Back To Admin"})]})}],style:{minWidth:"13rem"}},trigger:["click"],children:(0,ot.jsxs)("div",{style:{cursor:"pointer"},className:"qxui-logo",children:["dark"===t.props.theme?Ja.darkModeLogo():(0,ot.jsx)("img",{alt:"qx-logo",src:ye()+"/media/quixnxt/images/quix5-logo.png"}),Ga.arrow()]})}),(0,ot.jsxs)("div",{onClick:"page"===s?()=>{0===rs("jform_id").value?dt.warning("Please save the page first! then create menu link."):i(Ua(!0))}:n?t.props.invokeDisplayConditionModal:()=>{},className:"toolbar-btn",children:[Ga.cms(),"page"===s?Rs({absoluteKey:"Menu",label:"Menu"}):n&&Rs({absoluteKey:"Condition",label:"Condition"})]}),(0,ot.jsxs)("div",{onClick:t.props.openPageManager,className:"toolbar-btn",children:[Ga.layout()," ",Rs({absoluteKey:"Pages",label:"Pages"})]}),(0,ot.jsx)(In.default,{arrow:!0,menu:{items:[{key:"video",label:Rs({absoluteKey:"Video Tutorial",label:"Video Tutorial"}),onClick:()=>window.open("https://www.themexpert.com/video-tutorials","_blank")},{key:"Document",label:Rs({absoluteKey:"Documentation",label:"Documentation"}),onClick:()=>window.open("https://www.themexpert.com/docs","_blank")},{key:"Facebook Group",label:Rs({absoluteKey:"Facebook Group",label:"Facebook Group"}),onClick:()=>window.open("https://www.facebook.com/groups/QuixUserGroup","_blank")},{key:"Template Cloud",label:Rs({absoluteKey:"Template Cloud",label:"Template Cloud"}),onClick:()=>window.open("https://www.themexpert.com/quix/layouts","_blank")}],style:{minWidth:"13rem"}},trigger:["click"],children:(0,ot.jsxs)("div",{className:"toolbar-btn",children:[(0,ot.jsx)("i",{style:{fontSize:22},className:"qxio-help-circled"})," ",Rs({absoluteKey:"Help",label:"Help"})]})}),(0,ot.jsxs)("div",{onClick:()=>{const{element:e,name:t}=window.INSET_BTN_CONTEXT||{name:"",element:null};if("element"!==t)if(e){const t=e.querySelector(".qx-element-inset-btn");t?t.click():dt.warning("Please insert a column first or select a non-empty row.")}else dt.warning("Please insert a column first or select a non-empty row.");else if(e){var s;null===(s=e.parentNode.querySelector(".qx-element-inset-btn"))||void 0===s||s.click()}},className:"toolbar-btn",children:[Ga.plus(),(0,ot.jsx)("span",{children:Rs({absoluteKey:"Insert",label:"Insert"})})]})]})};function Va(e){const t=Ce(),s=e.props;return["collection"===t?{key:"page",onClick:s.openPageSettings,label:(0,ot.jsxs)("div",{children:[(0,ot.jsx)("i",{className:"qxuicon-window-alt qx-margin-small-right"})," ",Rs({absoluteKey:"Template Options",label:"Template Options"})]})}:null,"page"===t?{key:"page",onClick:s.openPageSettings,label:(0,ot.jsxs)("div",{children:[(0,ot.jsx)("i",{className:"qxuicon-window-alt qx-margin-small-right"})," ",Rs({absoluteKey:"Page Settings",label:"Page Settings"})]})}:null,{key:"seo",onClick:()=>Se()?dt.upgradeToPro(void 0,"seo-settings"):s.invokeSEORankModal(),label:(0,ot.jsxs)("div",{children:[(0,ot.jsx)("i",{className:"qxuicon-binoculars qx-margin-small-right"})," ",Rs({absoluteKey:"SEO Settings",label:"SEO Settings"})]})},{key:"saveTemplate",onClick:e.props.openTemplateSaver,label:(0,ot.jsxs)("div",{children:[(0,ot.jsx)("i",{className:"qxuicon-save qx-margin-small-right"})," ",Rs({absoluteKey:"Save Template",label:"Save As Template"})]})},{key:"importJson",onClick:()=>Se()?dt.upgradeToPro(void 0,"import-json"):e.props.openNodeImporter(),label:(0,ot.jsxs)("div",{children:[(0,ot.jsx)("i",{className:"qxuicon-upload qx-margin-small-right"},"import-json")," ",Rs({absoluteKey:"Import",label:"Import"})," JSON"]})},{key:"exportJson",onClick:()=>Se()?dt.upgradeToPro(void 0,"export-json"):void("0"===rs("jform_id").value?dt.warning("Please save the page first!"):function(){let e="".concat(ge(),"/index.php?option=com_quix&task=api.exportCollection&type=").concat(quix.type,"&").concat(quix._token,"=1"),t="0"!==quix.id?quix.id:jQuery("#jform_id").val();De().get(e+"&id=".concat(t)).then((e=>{var t,s;let i="".concat(QuixPageAlias,".json"),n=e.data.data.config,a={groups:[],title:QuixPageAlias,type:"section"!==n.type?"layout":"section",data:null!==(t=n.data)&&void 0!==t?t:n,builder_version:null!==(s=n.builder_version)&&void 0!==s?s:"2.0.0"};Oa(JSON.stringify(a),i,"application/json")}))}()),label:(0,ot.jsxs)("div",{children:[(0,ot.jsx)("i",{className:"qxuicon-parachute-box qx-margin-small-right"},"export-page")," ",Rs({absoluteKey:"Export",label:"Export"})," JSON"]})},{key:"empty cash and heard reload",onClick:()=>{window.location.reload(!0),Be().clear()},label:(0,ot.jsxs)("div",{className:"qx-flex qx-flex-middle qx-flex-between",children:[(0,ot.jsxs)("span",{children:[(0,ot.jsx)("i",{className:"qxuicon-redo qx-margin-small-right"},"qxuicon-redo")," ",Rs({absoluteKey:"Empty cash reload",label:"Empty Cash & Reload"})]}),(0,ot.jsx)(ri.default,{content:(0,ot.jsx)("p",{children:Rs({absoluteKey:"reload desc",label:"You can use this to clean your page cash or if there is any Icon missing."})}),trigger:"hover",popupStyle:{width:"280px",zIndex:"calc(var(--z-index-first) + 100)"},rootClassName:"qxui-popover-help",children:(0,ot.jsx)("i",{className:"qx-help-circle qxuicon-question-circle qx-fb-field__help"})})]})},{key:"emptyNode",onClick:e.props.emptyNodes,label:(0,ot.jsxs)("div",{children:[(0,ot.jsx)("i",{className:"qxuicon-trash-alt qx-margin-small-right"},"empty-node")," ",Rs({absoluteKey:"Clear Page Content",label:"Clear Page Content"})]})}]}const Ja={darkMode:(0,ot.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",children:(0,ot.jsx)("path",{d:"M 17.969 11.679 C 17.883 11.402 17.625 11.213 17.335 11.216 L 17.156 11.248 C 14.784 11.903 12.243 11.232 10.504 9.491 C 8.765 7.75 8.096 5.208 8.753 2.836 C 8.769 2.789 8.777 2.74 8.777 2.69 C 8.793 2.477 8.702 2.27 8.534 2.138 C 8.366 2.005 8.143 1.965 7.939 2.031 C 4.16 3.09 1.676 6.698 2.034 10.607 C 2.392 14.516 5.49 17.611 9.399 17.966 C 13.308 18.321 16.913 15.834 17.969 12.054 C 18.01 11.932 18.01 11.801 17.969 11.679 Z",fill:"currentColor"})}),lightMode:(0,ot.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",children:[(0,ot.jsxs)("g",{children:[(0,ot.jsxs)("g",{transform:"translate(9 0)",children:[(0,ot.jsx)("path",{d:"M 0 1 C 0 0.448 0.448 0 1 0 L 1 0 C 1.552 0 2 0.448 2 1 L 2 3 C 2 3.552 1.552 4 1 4 L 1 4 C 0.448 4 0 3.552 0 3 Z",fill:"currentColor"}),(0,ot.jsx)("path",{d:"M 0 17 C 0 16.448 0.448 16 1 16 L 1 16 C 1.552 16 2 16.448 2 17 L 2 19 C 2 19.552 1.552 20 1 20 L 1 20 C 0.448 20 0 19.552 0 19 Z",fill:"currentColor"})]}),(0,ot.jsxs)("g",{transform:"translate(9 0) rotate(-90 1 10)",children:[(0,ot.jsx)("path",{d:"M 0 1 C 0 0.448 0.448 0 1 0 L 1 0 C 1.552 0 2 0.448 2 1 L 2 3 C 2 3.552 1.552 4 1 4 L 1 4 C 0.448 4 0 3.552 0 3 Z",fill:"currentColor"}),(0,ot.jsx)("path",{d:"M 0 17 C 0 16.448 0.448 16 1 16 L 1 16 C 1.552 16 2 16.448 2 17 L 2 19 C 2 19.552 1.552 20 1 20 L 1 20 C 0.448 20 0 19.552 0 19 Z",fill:"currentColor"})]})]}),(0,ot.jsxs)("g",{transform:"rotate(45 10 10)",children:[(0,ot.jsxs)("g",{transform:"translate(9 0)",children:[(0,ot.jsx)("path",{d:"M 0 1 C 0 0.448 0.448 0 1 0 L 1 0 C 1.552 0 2 0.448 2 1 L 2 3 C 2 3.552 1.552 4 1 4 L 1 4 C 0.448 4 0 3.552 0 3 Z",fill:"currentColor"}),(0,ot.jsx)("path",{d:"M 0 17 C 0 16.448 0.448 16 1 16 L 1 16 C 1.552 16 2 16.448 2 17 L 2 19 C 2 19.552 1.552 20 1 20 L 1 20 C 0.448 20 0 19.552 0 19 Z",fill:"currentColor"})]}),(0,ot.jsxs)("g",{transform:"translate(9 0) rotate(-90 1 10)",children:[(0,ot.jsx)("path",{d:"M 0 1 C 0 0.448 0.448 0 1 0 L 1 0 C 1.552 0 2 0.448 2 1 L 2 3 C 2 3.552 1.552 4 1 4 L 1 4 C 0.448 4 0 3.552 0 3 Z",fill:"currentColor"}),(0,ot.jsx)("path",{d:"M 0 17 C 0 16.448 0.448 16 1 16 L 1 16 C 1.552 16 2 16.448 2 17 L 2 19 C 2 19.552 1.552 20 1 20 L 1 20 C 0.448 20 0 19.552 0 19 Z",fill:"currentColor"})]})]}),(0,ot.jsx)("path",{d:"M 10 6 C 12.209 6 14 7.791 14 10 C 14 12.209 12.209 14 10 14 C 7.791 14 6 12.209 6 10 C 6 7.791 7.791 6 10 6 Z",fill:"currentColor"})]}),darkModeLogo:()=>(0,ot.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 71 72",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ot.jsx)("path",{d:"M3.88364 67.025C6.56202 69.9886 10.4903 71.4705 15.6685 71.4705C18.8825 71.4705 21.5609 70.7069 23.7036 69.1804C25.9356 67.5639 27.5872 65.5432 28.6586 63.1185C29.7299 60.6037 30.2656 57.9995 30.2656 55.3053C30.2656 53.5989 29.9978 51.9824 29.4621 50.4557C29.0157 48.8392 28.5693 47.3574 28.1229 46.0103C27.7658 44.5734 27.7212 43.3161 27.989 42.2385C28.4244 40.4869 30.5335 39.2748 30.5335 39.2748C30.5335 39.2748 28.5732 38.0323 26.5528 37.4516C24.5325 36.871 23.1679 36.5806 23.1679 36.5806C20.9359 37.0297 18.3915 37.6134 15.5346 38.3319C12.7669 38.9605 10.4903 39.8586 8.70471 41.0261C5.57995 43.0018 3.34797 45.3817 2.00878 48.1657C0.669594 50.9497 0 53.6439 0 56.2483C0 60.3795 1.29455 63.9714 3.88364 67.025Z",fill:"#22d3ee"}),(0,ot.jsx)("path",{d:"M11.484 30.9903C14.2517 33.0558 18.1791 35.054 23.0894 36.5806C23.0894 36.5806 28.1622 37.6669 30.3049 39.1935C32.4476 40.7202 34.1163 42.6202 35.1877 45.1348C36.3483 47.5596 37.375 50.2538 38.2678 53.2174C39.1606 56.0912 40.4105 59.0098 42.0175 61.9734C43.6245 64.937 45.7672 67.2271 48.4456 68.8436C51.2133 70.3707 54.1149 71.089 57.1503 70.999C60.1861 70.9095 62.9533 69.8766 65.4533 67.9006C67.8639 65.9253 69.4264 63.5005 70.1405 60.6263C70.944 57.7527 70.944 54.8788 70.1405 52.005C69.4264 49.0414 68.0422 46.5268 65.989 44.4613C63.2212 41.5875 60.1861 39.3872 56.8825 37.8605C53.5792 36.3338 49.6729 35.7862 46.7561 34.8387C43.5813 33.6774 43.5681 33.1169 42.1382 31.9355C40.7083 30.754 37.8214 27.5327 36.6608 25.4672C35.5894 23.4017 34.6074 21.1116 33.7146 18.597C32.911 15.9927 31.5272 12.9392 29.5631 9.43676C27.8668 6.29355 25.6794 3.91367 23.0011 2.29715C20.3227 0.680638 17.5104 -0.0827153 14.5642 0.00708979C11.7073 0.0968951 9.07351 1.17457 6.66297 3.24012C3.27039 6.1139 1.44016 9.57147 1.17232 13.6128C0.993768 17.5642 2.1544 21.2463 4.65421 24.659C6.43981 26.8143 8.71643 28.9248 11.484 30.9903Z",fill:"#22d3ee"}),(0,ot.jsx)("path",{d:"M45.2784 30.4444C44.4749 31.0731 43.2096 31.5762 42.1382 31.9355C42.1382 31.9355 43.2927 33.0968 44.1585 33.6774C45.0244 34.2581 46.7561 34.8387 46.7561 34.8387C49.0773 34.2999 51.2601 33.857 53.3135 33.1386C55.3669 32.3303 57.1078 31.3874 58.5363 30.3097C61.3042 28.5136 63.4913 26.4031 65.0983 23.9783C66.7948 21.4637 67.6428 18.096 67.6428 13.8751C67.6428 9.92363 66.3931 6.64566 63.8931 4.0413C61.3931 1.3471 58.1346 0 54.117 0C49.2066 0 45.5016 1.25729 43.0018 3.77187C40.5019 6.19665 39.252 9.47456 39.252 13.6057C39.252 17.4674 40.1448 20.4759 41.9304 22.6312C43.716 24.7866 45.7248 26.1337 47.9567 26.6725C46.9747 28.5585 46.0819 29.8157 45.2784 30.4444Z",fill:"white"})]})},Ga={plus:()=>(0,ot.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",children:(0,ot.jsx)("path",{d:"M 0 4 C 0 1.791 1.791 0 4 0 L 14 0 C 16.209 0 18 1.791 18 4 L 18 14 C 18 16.209 16.209 18 14 18 L 4 18 C 1.791 18 0 16.209 0 14 Z M 8 8 L 5 8 C 4.448 8 4 8.448 4 9 C 4 9.552 4.448 10 5 10 L 8 10 L 8 13 C 8 13.552 8.448 14 9 14 C 9.552 14 10 13.552 10 13 L 10 10 L 13 10 C 13.552 10 14 9.552 14 9 C 14 8.448 13.552 8 13 8 L 10 8 L 10 5 C 10 4.448 9.552 4 9 4 C 8.448 4 8 4.448 8 5 Z",fill:"currentColor"})}),layout:()=>(0,ot.jsx)("svg",{width:"18",height:"18",children:(0,ot.jsx)("path",{d:"M 0 10.5 C 0 9.948 0.448 9.5 1 9.5 L 7.5 9.5 C 8.052 9.5 8.5 9.948 8.5 10.5 L 8.5 17 C 8.5 17.552 8.052 18 7.5 18 L 4 18 C 1.791 18 0 16.209 0 14 Z M 9.5 10.5 C 9.5 9.948 9.948 9.5 10.5 9.5 L 17 9.5 C 17.552 9.5 18 9.948 18 10.5 L 18 14 C 18 16.209 16.209 18 14 18 L 10.5 18 C 9.948 18 9.5 17.552 9.5 17 Z M 0 4 C 0 1.791 1.791 0 4 0 L 14 0 C 16.209 0 18 1.791 18 4 L 18 7.5 C 18 8.052 17.552 8.5 17 8.5 L 1 8.5 C 0.448 8.5 0 8.052 0 7.5 Z",transform:"rotate(-90 9 9)",fill:"currentColor"})}),setting:()=>(0,ot.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",children:(0,ot.jsx)("path",{d:"M 13.938 8 C 13.938 8.558 14.132 9.098 14.486 9.529 L 14.805 9.916 C 15.07 10.238 15.107 10.69 14.899 11.051 L 14.092 12.449 C 13.883 12.81 13.473 13.004 13.062 12.935 L 12.567 12.853 C 12.016 12.761 11.452 12.864 10.969 13.143 L 10.969 13.143 C 10.486 13.423 10.115 13.861 9.919 14.383 L 9.743 14.851 C 9.597 15.241 9.224 15.5 8.807 15.5 L 7.193 15.5 C 6.776 15.5 6.403 15.241 6.257 14.851 L 6.081 14.383 C 5.885 13.861 5.514 13.423 5.031 13.143 L 5.031 13.143 C 4.548 12.864 3.984 12.761 3.433 12.853 L 2.938 12.935 C 2.527 13.004 2.117 12.81 1.908 12.449 L 1.101 11.051 C 0.893 10.69 0.93 10.238 1.195 9.916 L 1.514 9.529 C 1.868 9.098 2.062 8.558 2.062 8 L 2.062 8 C 2.062 7.442 1.868 6.902 1.514 6.471 L 1.195 6.084 C 0.93 5.762 0.893 5.31 1.101 4.949 L 1.908 3.551 C 2.117 3.19 2.527 2.996 2.938 3.065 L 3.433 3.147 C 3.984 3.239 4.548 3.136 5.031 2.857 L 5.031 2.857 C 5.514 2.577 5.885 2.139 6.081 1.617 L 6.257 1.149 C 6.403 0.759 6.776 0.5 7.193 0.5 L 8.807 0.5 C 9.224 0.5 9.597 0.759 9.743 1.149 L 9.919 1.617 C 10.115 2.139 10.486 2.577 10.969 2.857 L 10.969 2.857 C 11.452 3.136 12.016 3.239 12.567 3.147 L 13.062 3.065 C 13.473 2.996 13.883 3.19 14.092 3.551 L 14.899 4.949 C 15.107 5.31 15.07 5.762 14.805 6.084 L 14.486 6.471 C 14.132 6.902 13.938 7.442 13.938 8 Z M 5 8 C 5 9.657 6.343 11 8 11 C 9.657 11 11 9.657 11 8 C 11 6.343 9.657 5 8 5 C 6.343 5 5 6.343 5 8 Z",fill:"currentColor"})}),cms:()=>(0,ot.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",children:(0,ot.jsx)("path",{fill:"currentColor",d:"M0 4a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4v10a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4Zm4.5 1.75C4.5 6.993 6.515 8 9 8s4.5-1.007 4.5-2.25S11.485 3.5 9 3.5 4.5 4.507 4.5 5.75Zm9 1.35c0 1.243-2.015 2.25-4.5 2.25S4.5 8.343 4.5 7.1v1.8c0 1.243 2.015 2.25 4.5 2.25s4.5-1.007 4.5-2.25V7.1Zm0 3.15c0 1.243-2.015 2.25-4.5 2.25s-4.5-1.007-4.5-2.25v1.8c0 1.243 2.015 2.25 4.5 2.25s4.5-1.007 4.5-2.25v-1.8Z"})}),actions:()=>(0,ot.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",children:(0,ot.jsx)("path",{d:"M 0 4 C 0 1.791 1.791 0 4 0 L 14 0 C 16.209 0 18 1.791 18 4 L 18 14 C 18 16.209 16.209 18 14 18 L 4 18 C 1.791 18 0 16.209 0 14 Z M 4.545 10.091 C 4.305 10.491 4.593 11 5.06 11 L 8.41 11 C 8.719 11 8.954 11.277 8.903 11.582 L 8.52 13.883 C 8.411 14.536 9.285 14.858 9.626 14.29 L 13.455 7.909 C 13.695 7.509 13.407 7 12.94 7 L 9.59 7 C 9.281 7 9.046 6.723 9.097 6.418 L 9.48 4.117 C 9.589 3.464 8.715 3.142 8.374 3.71 Z",fill:"currentColor"})}),arrow:()=>(0,ot.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",children:(0,ot.jsx)("path",{d:"M 8.5 3 L 5 6.5 L 1.5 3",fill:"transparent",strokeWidth:"2",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),safeMode:()=>(0,ot.jsxs)("svg",{width:"15",height:"15",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:[(0,ot.jsx)("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),(0,ot.jsx)("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),(0,ot.jsxs)("g",{id:"SVGRepo_iconCarrier",children:[(0,ot.jsx)("defs",{children:(0,ot.jsx)("style",{children:".cls-1,.cls-2{fill:none;stroke: currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:1.5px;}.cls-1{fill - rule:evenodd;}"})}),(0,ot.jsxs)("g",{id:"ic-security-safety",children:[(0,ot.jsx)("path",{className:"cls-1",d:"M18.79,4.47a7.35,7.35,0,0,1-2-.16,7.46,7.46,0,0,1-2.19-1.19A14.91,14.91,0,0,1,13,1.81a1.15,1.15,0,0,0-1.57,0A18.08,18.08,0,0,1,9.89,3.1a7.77,7.77,0,0,1-2.2,1.22,8,8,0,0,1-2.28.18,17.22,17.22,0,0,1-1.87-.18,1.14,1.14,0,0,0-1.3,1C2.19,5.8,2.06,7.05,2,8.44a16.94,16.94,0,0,0,.26,4.15,13,13,0,0,0,3.85,5.85,32.09,32.09,0,0,0,4.62,3.62,2.65,2.65,0,0,0,3,0,31.88,31.88,0,0,0,4.36-3.67,13.3,13.3,0,0,0,3.63-5.76"}),(0,ot.jsx)("path",{className:"cls-2",d:"M11,11l2.86,2.86a.19.19,0,0,0,.28,0L22,6"})]})]})]})};var Qa=s(65952);function Ya(e){let{THIS:t}=e;const[s,i]=(0,d.useState)(!1),n=(0,c.wA)(),{setPageTitle:a}=t;return(0,ot.jsx)(ci(),{type:"success",id:"page-save-btn",className:s?"savePage qxui-btn-loading":"savePage",onClick:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==e||e.preventDefault();const s=await n(cn()),o=await n(pn());i(!0);try{const e={state:t.state,props:{nodes:s,qid:o,invokeDisplayConditionModal:t.props.invokeDisplayConditionModal,updateQid:t.props.updateQid}};await Oi(e),i(!1)}catch(e){console.error("Could not save page title",e),i(!1),a(qe())}},style:{paddingInline:"20px",borderRadius:"7px"},children:(0,ot.jsxs)("div",{className:"qx-flex qx-flex-middle",children:[(0,ot.jsx)("span",{className:"qx-margin-small-right qx-icon cloud-upload",children:s?(0,ot.jsx)("div",{"qx-spinner":"ratio:0.5",className:"qx-icon qx-spinner"}):Za.save()}),(0,ot.jsx)("span",{style:{fontWeight:700},className:"save-text",children:Rs({absoluteKey:"Save",label:"Save"})})]})},"save")}const Xa=e=>{var t;let{THIS:s}=e;const i=null!==(t=window.ENABLE_SEO)&&void 0!==t?t:0;return(0,ot.jsxs)("div",{className:"qx-flex qx-flex-middle",children:[i?(0,ot.jsxs)("div",{onClick:s.props.openSEOPanel,className:"toolbar-btn",children:[(0,ot.jsx)(Qa.default,{status:"active",type:"circle",size:28,strokeColor:{"0%":"#fdf260","100%":"#87d068"},percent:parseInt(s.state.seoScore)}),Rs({absoluteKey:"SEO Score",label:"SEO Score"})]}):null,(0,ot.jsxs)("div",{onClick:s.props.openHistoryPanel,className:"toolbar-btn",children:[Za.history()," ",Rs({absoluteKey:"History",label:"History"})]}),(0,ot.jsxs)("div",{id:"page-preview",className:"toolbar-btn qx-margin-small-right",onClick:()=>ki(!0),children:[Za.preview(),(0,ot.jsx)("span",{children:Rs({absoluteKey:"Preview",label:"Preview"})})]}),(0,ot.jsx)(Ya,{THIS:s})]})},Za={history:()=>(0,ot.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ot.jsx)("g",{clipPath:"url(#clip0_2054_22)",children:(0,ot.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 0C2.01472 0 0 2.01472 0 4.5V13.5C0 15.9853 2.01472 18 4.5 18H13.5C15.9853 18 18 15.9853 18 13.5V4.5C18 2.01472 15.9853 0 13.5 0H4.5ZM12.2601 5.64741C10.409 3.79632 7.40776 3.79632 5.55668 5.6474C4.78809 6.416 4.33854 7.38379 4.20825 8.38411C3.98154 8.30765 3.72102 8.35974 3.54038 8.54038C3.28654 8.79422 3.28654 9.20578 3.54038 9.45962L4.20532 10.1246C4.29453 10.3771 4.53532 10.558 4.81835 10.558C5.1016 10.558 5.34253 10.3768 5.43159 10.124L6.09598 9.45962C6.34982 9.20578 6.34982 8.79422 6.09598 8.54038C5.9414 8.3858 5.72833 8.32535 5.52801 8.35904C5.65165 7.70211 5.96757 7.075 6.47592 6.56664C7.81932 5.22324 9.99742 5.22324 11.3408 6.56664C12.6842 7.91005 12.6842 10.0881 11.3408 11.4315C9.99742 12.7749 7.81932 12.7749 6.47592 11.4315C6.22208 11.1777 5.81052 11.1777 5.55668 11.4315C5.30284 11.6854 5.30284 12.0969 5.55668 12.3508C7.40776 14.2019 10.409 14.2019 12.2601 12.3508C14.1111 10.4997 14.1111 7.49849 12.2601 5.64741ZM9.21836 7.63638C9.21836 7.2774 8.92734 6.98638 8.56836 6.98638C8.20937 6.98638 7.91836 7.2774 7.91836 7.63638V9.34091C7.91836 9.6999 8.20937 9.99091 8.56836 9.99091H10.2729C10.6319 9.99091 10.9229 9.6999 10.9229 9.34091C10.9229 8.98193 10.6319 8.69091 10.2729 8.69091H9.21836V7.63638Z",fill:"currentColor"})}),(0,ot.jsx)("defs",{children:(0,ot.jsx)("clipPath",{id:"clip0_2054_22",children:(0,ot.jsx)("rect",{width:"18",height:"18",rx:"4.5",fill:"white"})})})]}),preview:()=>(0,ot.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ot.jsx)("g",{clipPath:"url(#clip0_2052_4)",children:(0,ot.jsx)("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M4 0C1.79086 0 0 1.79086 0 4V14C0 16.2091 1.79086 18 4 18H14C16.2091 18 18 16.2091 18 14V4C18 1.79086 16.2091 0 14 0H4ZM12.92 9.74354C13.4 9.46641 13.4 8.77359 12.92 8.49646L7.4 5.30949C6.92 5.03236 6.32 5.37877 6.32 5.93303L6.32 12.307C6.32 12.8612 6.92 13.2076 7.4 12.9305L12.92 9.74354Z"})}),(0,ot.jsx)("defs",{children:(0,ot.jsx)("clipPath",{id:"clip0_2052_4",children:(0,ot.jsx)("rect",{width:"18",height:"18",rx:"4.5",fill:"white"})})})]}),save:()=>(0,ot.jsxs)("svg",{width:"18",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",viewBox:"0 0 24 24",children:[(0,ot.jsx)("path",{d:"M20 7.828a2 2 0 0 0-.586-1.414l-1.828-1.828A2 2 0 0 0 16.172 4H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.828z"}),(0,ot.jsx)("path",{d:"M14 4v4H8V4m0 16v-8h8v8"})]})};var $a;function eo(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const to={openNodeImporter:Cn,openHistoryPanel:si,openPageManager:Fi,openSEOPanel:yi,openNavigatorPanel:na,openExportImportModal:function(){return{type:u,payload:!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}},openSaveAsCollectionModal:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e&&!t)throw new Error("Data is required when state is true for openSaveAsCollectionModal");return{type:h,payload:{visible:e,data:t}}},invokeSEORankModal:Hs,openPageSettings:ya,openTemplateSaver:Tn,invokeDisplayConditionModal:Us,emptyNodes:function(){return e=>new Promise((async(t,s)=>{try{await e({type:z}),await e(Hi()),await Ss({onlyRemove:!0}),t()}catch(e){console.error("Error emptying nodes",e),s()}}))},invokeOptimizationModal:function(){return{type:H,payload:{action:arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?null:"DISPLAY_OPTIMIZATION_MODAL"}}},updateQid:Ri};const so=(0,c.Ng)((e=>{let{action:{action:t}}=e;return{isPageManagerVisible:t===Ii,isTemplateSaverVisible:t===Pn}}),to)($a=class extends d.Component{constructor(){super(...arguments),eo(this,"state",{title:"",loading:!1,iconLoading:!1,visibleSeoModal:!1,showSaveModal:!1,showImportModal:!1,isSaving:!1}),eo(this,"onChange",(e=>{this.setState({title:e}),rs("jform_title_hidden").value=e,Pi()})),eo(this,"showTemplateSaveModal",(()=>{this.setState({showSaveModal:!0})})),eo(this,"showImportModal",(()=>{this.setState({showImportModal:!0})})),eo(this,"onSaveStateChange",(e=>{this.setState({isSaving:e})})),eo(this,"setPageTitle",(e=>{this.setState({title:e})}))}componentDidMount(){new URL(window.location.href).searchParams.get("output")}render(){var e;const t=null!==(e=window.ENABLE_SEO)&&void 0!==e?e:0;return(0,ot.jsxs)(l.A,{unselectable:"on",className:"qxui-toolbar",align:"middle",justify:"space-between",children:[(0,ot.jsx)(r.A,{children:(0,ot.jsx)(Wa,{THIS:this})}),(0,ot.jsx)(r.A,{children:(0,ot.jsx)(Pa,{THIS:this})}),(0,ot.jsx)(r.A,{children:(0,ot.jsx)(Xa,{THIS:this})}),t?(0,ot.jsx)(Dn,{name:"SEOPanel",children:(0,ot.jsx)(wi,{onChangeSeoScore:e=>this.setState({seoScore:e})})}):null,(0,ot.jsx)(Dn,{name:"ManagePages",children:this.props.isPageManagerVisible&&(0,ot.jsx)(Ui,{visible:this.props.isPageManagerVisible,onSaveStateChange:this.onSaveStateChange,setPageTitle:this.setPageTitle})}),(0,ot.jsx)(Dn,{name:"HistoryPanel",children:(0,ot.jsx)(ni,{})}),(0,ot.jsx)(Dn,{name:"SaveTemplate",children:this.props.isTemplateSaverVisible&&(0,ot.jsx)(On,{visible:this.props.isTemplateSaverVisible})}),(0,ot.jsx)(Dn,{name:"TemplateImportModal",children:(0,ot.jsx)(_n,{})})]})}})||$a,io=JSON.parse(window.QUIX_SHAPES);function no(e){let t=null;try{t=window.atob(io[e])}catch(e){t=null}return t}var ao=s(78900),oo=s.n(ao);function lo(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class ro extends d.Component{constructor(){super(...arguments),lo(this,"state",{width:0,mousePosition:0}),lo(this,"onResize",(e=>{const{min:t,max:s}=this.props,i=this.state.width+(e.screenX-this.state.mousePosition);i<=t&&i<this.props.width||i>=s&&i>this.props.width||(this.setState({width:i,mousePosition:e.screenX}),this.props.onResize(i))})),lo(this,"onResizeStart",(e=>{this.setState({mousePosition:e.screenX}),this.props.onResizeStart(e),ss().then((e=>{e.addEventListener("mousemove",this.onResize,!1),e.addEventListener("mouseup",this.onResizeStop,!1)}))})),lo(this,"onResizeStop",(()=>{this.props.onResizeStop(),ss().then((e=>{e.removeEventListener("mousemove",this.onResize),e.removeEventListener("mouseup",this.onResizeStop)}))}))}componentDidUpdate(e,t,s){this.props.width!==e.width&&this.setState({width:this.props.width})}render(){return(0,ot.jsx)("div",{className:"qx-fb-resizable-grid react-resizable",children:(0,ot.jsxs)("div",{className:"qx-fb-resizable-grid",children:[this.props.children,(0,ot.jsx)("span",{className:"react-resizable-handle react-resizable-handle-se",onMouseDown:this.onResizeStart})]})})}}lo(ro,"propTypes",{}),lo(ro,"defaultProps",{});const co=ro;function po(e,t){return{type:ee,payload:{path:e,placement:t}}}function uo(e){return!e.props.device||e.props.node.visibility[e.props.device]}function ho(e){var t;return e.props.node.id===(null===(t=e.props.formNode)||void 0===t?void 0:t.id)}function mo(e,t){var s;e.setState({inserting:!0,loading:!0});const i=e.state.originItems.find((e=>e.id===t)),n=+i.min_version.replace(".","");if(+window.QUIXNXT_VERSION.replace(".","")<n)return dt.warning("Quix version ".concat(i.min_version," is required to use this template. Please update Quix first.")),void e.setState({inserting:!1,loading:!1});let a=new URL(i.json_url);a.protocol="https","pro"===e.state.is_pro_user&&a.searchParams.append("auth","1");const o=null===(s=a.search.match(/id=(\d+)/))||void 0===s?void 0:s[1];De().get("".concat(ge(),"/index.php?option=com_quix&task=api.getRemoteTemplate&v=").concat(i.min_version,"&id=").concat(o)).then((t=>{try{let s=t.data;e.props.insertNodes(e.props.sectionPath,s)}catch(e){dt.error("Something went wrong! Possible reason:  ".concat(e.message))}})).then((()=>{dt.success("Template inserted"),e._mounted&&e.setState({inserting:!1,loading:!1}),e.props.closeModal()}))}const xo=["SET_STATE_FROM_HISTORY","SET_DEVICE"],go=["SHOW_FORM_MODAL","ADD_SECTION_NODE","CHANGE_ROW_LAYOUT","SHOW_ELEMENT_MODAL"];function vo(e,t,s){var i,n;const{action:a}=e.trackActions||{};return!!xo.includes(a)||!go.includes(a)&&("column"===e.node.slug||!!(this.props.isModalOpen&&ho(this)||this.hash!==e.node.hash)||(null===(i=this.props.copiedNode)||void 0===i?void 0:i.id)!==(null===(n=e.copiedNode)||void 0===n?void 0:n.id))}const fo=function(e){let{id:t,children:s,menu:i,showSettings:n}=e;const{show:a,hideAll:o}=(0,it.EF)({id:t});window.hideContextMenu=o;const l=e=>{setTimeout((async()=>{(await ss()).querySelectorAll(".react-contexify.react-contexify__submenu").forEach((t=>{"right"===e?(t.style.right="100%",t.style.left="auto"):(t.style.left="100%",t.style.right="auto")}))}),300)},r=e=>{e.preventDefault(),e.stopPropagation();const t=document.querySelector("#canvas-dynamic-content");let s=e.clientX,i=e.clientY;if(t){const e=t.getBoundingClientRect().width,n=t.getBoundingClientRect().height;s+420>e?l("right"):l(),s+210>e&&(s=e-210-32),i+370>n&&(i=n-370)}a(e,{position:{x:s,y:i}}),n()};return i&&i({handleEvent:r}),(0,ot.jsx)("div",{className:"qx-context-menu",onContextMenu:r,children:s})},yo=e=>e.trackActions,bo=(0,Vn.Mz)([yo],(e=>({trackActions:e}))),wo=(0,Vn.Mz)([yo],(e=>({rowInserted:["ADD_ROW_NODE","ADD_ELEMENT_NODE","CHANGE_ROW_LAYOUT","DUPLICATE_NODE","DELETE_NODE","INSERT_NODES","INSERT_COPIED_NODES","MOVE_NODE","PASTE_NODE","PASTE_NODE_STYLE","RESET_NODE_STYLE","SET_STATE_FROM_HISTORY","SET_NODE_VISIBILITY"].includes(e.action)})));var jo,qo;function Co(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}(0,Vn.Mz)([yo],(e=>({isSettingFromHistory:["SET_STATE_FROM_HISTORY"].includes(e.action)})));const So={deleteNode:on,showFormModal:zi,replaceNode:function(e,t){return{type:F,payload:{path:e,node:t}}},duplicateNode:Xi,copyNode:$i,pasteNode:en,pasteNodeStyle:tn,pasteNodeStyleSpecial:sn,resetNodeStyle:nn,setNodeVisibility:rn,setDndPlacement:po,moveNode:Yi,setExtendedKeys:Bn,invokeElementSaveModal:Ks,getNodesOnDemand:cn};let _o=(0,c.Ng)(bo,So)((qo=class extends d.Component{constructor(e){var t;super(e),t=this,Co(this,"elementRef",(0,d.createRef)(null)),Co(this,"hash",void 0),Co(this,"getId",(()=>{var e;return null===(e=this.props.node)||void 0===e?void 0:e.id})),Co(this,"getDropTypes",(()=>["element"])),Co(this,"getType",(()=>"element")),Co(this,"handleDrop",((e,t)=>{const s=[...this.props.path];if(t===pe)this.props.moveNode(e,[...s]);else{const t=s.pop();this.props.moveNode(e,[...s,t+1])}})),Co(this,"removeStyleAndScript",(()=>{jQuery("script#"+this.props.node.id+"-preview").remove(),jQuery("style#"+this.props.node.id+"-preview").remove()})),Co(this,"loadElement",(async function(e){var s,i;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!n&&!t.props.isModalOpen&&t.hash===e.hash)return;const{action:a}=t.props.trackActions;switch(a){case"RESET_NODE_STYLE":case"PASTE_NODE_STYLE":return await gs(e).catch((e=>e))}"column"!==e.slug?("form"===e.slug&&(n=!0),t.hash=e.hash,!n&&t.props.isModalOpen&&"general"===(null===(s=window)||void 0===s||null===(s=s.QUIX)||void 0===s?void 0:s.formTab)?(await xs(e,t.props.path),await vs(e).catch((e=>e))):(!n&&t.props.isModalOpen&&"styles"===(null===(i=window)||void 0===i||null===(i=i.QUIX)||void 0===i?void 0:i.formTab)||(await xs(e,t.props.path),await vs(e).catch((e=>e))),await gs(e).catch((e=>e)))):await gs(e).catch((e=>e))})),Co(this,"goPro",(()=>{window.open("https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=context-menu&utm_content=upgrade-now","_blank")})),Co(this,"deleteNode",(async()=>{ks({deleteElementManually:()=>{const e=this.elementRef.current.closest(".qx-row-settings");e&&e.click(),this.props.deleteNode(this.props.path,this.props.node.slug)}})})),Co(this,"duplicateNode",(()=>{this.props.duplicateNode(this.props.path,this.props.node.slug)})),Co(this,"resetNodeStyle",(()=>{this.props.resetNodeStyle(this.props.path,this.props.node.slug)})),Co(this,"elementContextMenu",(()=>{const e=e=>{e.stopPropagation(),window.hideContextMenu()};if(!uo(this))return(0,ot.jsxs)(it.W1,{onClick:e,id:this.state.id,theme:it.w4.light,style:{zIndex:99999},children:[(0,ot.jsxs)(it.q7,{onClick:this.deleteNode,children:[(0,ot.jsx)("i",{className:"qxuicon-trash-alt"})," Delete"]},"delete"),vt(this)]});let t=(0,ot.jsxs)(it.q7,{onClick:this.resetNodeStyle,children:[(0,ot.jsx)("i",{className:"qxuicon-redo"})," Reset Style"]},"reset-style");return(0,ot.jsxs)(it.W1,{onClick:e,id:this.state.id,theme:it.w4.light,style:{zIndex:99999},children:[(0,ot.jsx)(it.q7,{disabled:!0,title:"Element",children:"Element"},"title"),(0,ot.jsxs)(it.q7,{onClick:this.duplicateNode,children:[(0,ot.jsx)("i",{className:"qxuicon-clone"})," Duplicate"]},"duplicate"),bt(this),t,(0,ot.jsxs)(it.q7,{onClick:this.saveElement,children:[(0,ot.jsx)("i",{className:"qx-margin-small-right qxuicon-save"})," Save to Library"]},"save-to-library"),vt(this),(0,ot.jsxs)(it.q7,{onClick:this.deleteNode,children:[(0,ot.jsx)("i",{className:"qxuicon-trash-alt"})," Delete"]},"delete")]})})),Co(this,"enableVisibility",(()=>{const{setNodeVisibility:e,path:t,node:{visibility:s},device:i}=this.props;e(t,{...s,[i]:!0})})),Co(this,"openSettingsModal",(async e=>{if(e.stopPropagation(),window.hideContextMenu(),window.newElementAdded||Ts(e)){const{path:e,isModalOpen:t,formPath:s,formNode:i}=this.props,n=this.props.node;try{await this.props.showFormModal(e,n,!0),await this.props.setExtendedKeys(this.state.parentKeys),await Ss({id:this.props.node.id,elementType:"element"}),As("element",this.elementRef.current)}catch(e){}}window.newElementAdded&&(window.newElementAdded=!1)})),Co(this,"saveElement",(()=>{this.props.invokeElementSaveModal(this.props.path)})),Co(this,"enableVisibility",(()=>{const{setNodeVisibility:e,path:t,node:{visibility:s},device:i}=this.props;e(t,{...s,[i]:!0})})),Co(this,"renderSettings",(e=>{const t=uo(this);if("column"===this.props.node.slug||(ci(),this.deleteNode),!t)return(0,ot.jsx)("div",{className:"qx-fb-settings-wrap",children:(0,ot.jsx)(oi.default,{className:"qx-fb-settings qx-fb-settings--element",children:(0,ot.jsx)(ci(),{type:"text",size:"small",className:"qx-animation-slide-right-small","qx-tooltip":t?"Disable":"Enable",onClick:this.enableVisibility,children:(0,ot.jsx)("i",{className:t?"qxuicon-low-vision":"qxuicon-eye"})},"enable-visibility")})});const s=this.props.node;return(0,ot.jsx)("div",{className:"qx-fb-settings-wrap",children:(0,ot.jsx)(oi.default,{size:1,className:"qx-fb-settings qx-fb-settings--element",children:(0,ot.jsx)("span",{unselectable:"on",className:"qx-element-name",children:s.name||s.slug||s.form.advanced.identifier.label})})})})),Co(this,"getDevice",(()=>{let e=_e("qx-device");return void 0===e&&(e="desktop"),"mobile"===e?"phone":e})),this.state={needPasteOption:!1,enableEdit:!1,elementRawHTML:"",elementRawStyle:"",elementRawScript:"",elementRawScripts:[],id:Gt("qx-element-id-"),field:{},draggingEnabled:!0,forceRender:null,modalOpen:!1,is_pro_user:Se(),parentKeys:[]}}async componentDidMount(){await ds(this.props.node.slug),await this.loadElement(this.props.node,!0);const e=await this.props.getNodesOnDemand();var t;this.setState({parentKeys:ze(e,this.props.path)||this.props.parentKeys}),window.newElementAdded&&(null===(t=this.elementRef)||void 0===t||null===(t=t.current)||void 0===t||t.click())}shouldComponentUpdate(e,t,s){return"SHOW_FORM_MODAL"!==e.trackActions.action&&vo.apply(this,arguments)}componentDidUpdate(e,t,s){const{node:i,trackActions:n}=this.props,{node:a,trackActions:o}=e;(null==i?void 0:i.hash)===(null==a?void 0:a.hash)&&(null==n?void 0:n.action)===(null==o?void 0:o.action)&&"ADD_ELEMENT_NODE"!==(null==n?void 0:n.action)&&"UPDATE_NODE_FIELD"!==(null==n?void 0:n.action)||this.loadElement(i,"ADD_ELEMENT_NODE"===n.action)}componentWillUnmount(){this.removeStyleAndScript()}render(){const e=this.props.node,t=uo(this),s=null==e?void 0:e.id,i=ce()("qx-fb-element",{"qx-fb-dragging":!1,"qx-fb-column--nested":"column"===e.slug,"qx-fb-disabled":!t}),n=ce()({"qx-fb-disabled":!t});if("column"===this.props.node.slug){let t={flex:"0 0 100%",maxWidth:"100%"},a=(0,ot.jsx)(cl,{elementPath:this.props.path,children:e.children,path:[...this.props.path,"children"],device:this.props.device,resize:this.props.resize,hidePlusIcon:!0});return(0,ot.jsx)("div",{className:i,style:t,children:(0,ot.jsx)("div",{id:s,children:(0,ot.jsxs)("div",{className:n,children:[(0,ot.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-top-small qx-animation-fast"}),this.renderSettings(s),a]})})})}return(0,ot.jsx)("div",{onClick:this.openSettingsModal,className:"".concat(i," qx-element-settings"),ref:this.elementRef,tabIndex:"0",children:(0,ot.jsxs)(fo,{showSettings:async()=>{try{await this.props.showFormModal(this.props.path,this.props.node,!0),await this.props.setExtendedKeys(this.state.parentKeys),await Ss({id:this.props.node.id,elementType:"element"})}catch(e){console.error(e)}},id:this.state.id,menu:e=>this.menu=e,children:[this.renderSettings(s),(0,ot.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-top-small qx-animation-fast",id:"".concat(this.getId(),"-drop-before")}),(0,ot.jsx)("div",{id:s+"-preview",className:"element-preview-wrapper"}),(0,ot.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-bottom-small qx-animation-fast",id:"".concat(this.getId(),"-drop-after")}),this.elementContextMenu()]})})}},Co(qo,"propTypes",{path:oo().array.isRequired}),jo=qo))||jo;const No=_o;var ko,Eo;function Po(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const To={invokeElementPickerModal:Is,setDndPlacement:po,moveNode:Yi,pasteNode:en,insertCopiedNodes:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t=>new Promise((async(s,i)=>{try{await t({type:k,payload:{targetPath:e}}),await t(ae(k)),s()}catch(e){console.error("Error inserting copied nodes",e),i()}}))},hideFormModal:Hi};let Ao=(0,c.Ng)(null,To)((Eo=class extends d.Component{constructor(){super(...arguments),Po(this,"state",{id:Gt("qx"),needPasteOption:!1,is_pro_user:!1}),Po(this,"elementRef",(0,d.createRef)(null)),Po(this,"goPro",(e=>(window.open("https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=context-menu&utm_content=upgrade-now","_blank"),e))),Po(this,"handleInsertElementClick",(async e=>{null==e||e.stopPropagation();let{path:t,children:s}=this.props;const i=this.props.parentKeys.at(-1);window.skipShowingFormModal=!0;try{if(i){var n;const e=(await ss()).getElementById("".concat(i,"-label"));e&&e.click(),await(null===(n=window)||void 0===n?void 0:n.columnActionResolved)}}catch(e){console.error(e)}await this.props.invokeElementPickerModal([...t],s.length),window.skipShowingFormModal=!1})),Po(this,"handlePasteElement",(()=>{this.props.insertCopiedNodes(this.props.path.concat(0)),setTimeout((()=>{var e;const t=null===(e=this.elementRef.current)||void 0===e?void 0:e.querySelector(".qx-element-settings");t&&(window.newElementAdded=!0,t.click())}),5)})),Po(this,"renderElement",((e,t)=>{let{path:s,formNode:i,formPath:n,device:a,copiedNode:o,dnd:l,isModalOpen:r,resize:d}=this.props,c=[...s,t];var p;if(p=e.slug,qt.indexOf(p)>=0)return(0,ot.jsx)(No,{parentKeys:this.props.parentKeys,path:c,formNode:i,formPath:n,device:a,copiedNode:o,dnd:l,isModalOpen:r,index:t,node:e,columnId:this.props.columnId,rowId:this.props.rowId,rowPath:this.props.rowPath,resize:d},e.id)})),Po(this,"renderFooter",(e=>(0,ot.jsxs)("div",{className:e?"qx-fb-area-blank":"qx-fb-button--add",children:[(0,ot.jsx)(ci(),{type:"primary",shape:"circle",className:"qxui-btn--small qx-element-inset-btn","qx-tooltip":"Add New Element",onClick:this.handleInsertElementClick,children:(0,ot.jsx)("i",{className:"qxuicon-plus"})}),this.props.children.length?null:Yt(this,!0)?(0,ot.jsx)(ci(),{type:"primary",shape:"circle",className:"qxui-btn--small qx-margin-small-left","qx-tooltip":"Paste Element",onClick:this.handlePasteElement,children:(0,ot.jsx)("i",{className:"qxuicon-paste"})}):null]}))),Po(this,"renderElements",(e=>e.map(this.renderElement)))}componentDidMount(){this.setState({is_pro_user:ve()})}render(){const{children:e}=this.props,t=0===e.length;return(0,ot.jsxs)("div",{ref:this.elementRef,className:"qx-fb-elements",children:[this.renderElements(e),this.renderFooter(t)]})}},Po(Eo,"propTypes",{path:oo().array.isRequired,children:oo().array.isRequired}),ko=Eo))||ko;const Oo=Ao;function Do(e,t,s){var i,n;let a=!0;if(e.rowInserted)return!0;const{action:o}=e.trackActions||{action:""};if(o){if("SET_STATE_FROM_HISTORY"===o)return!0;if("SET_DEVICE"===o)return!0;if("SET_NODE_VISIBILITY"===o)return!0;if("ADD_SECTION_NODE"===o)return!0;if("ADD_ROW_NODE"===o)return!0;if("CHANGE_ROW_LAYOUT"===o)return!0;if("ADD_ELEMENT_NODE"===o)return!0;if("SHOW_ELEMENT_MODAL"===o)return!0;if("INSERT_NODES"===o)return!0;if("REPLACE_NODES"===o)return!0;if("INSERT_COPIED_NODES"===o)return!0;if("DUPLICATE_COLUMN_NODE"===o)return!0;if("MOVE_NODE"===o)return!0;if("DUPLICATE_NODE"===o)return!0;if("RESET_NODE_STYLE"===o)return!0;if("PASTE_NODE"===o)return!0;if("PASTE_NODE_STYLE"===o)return!0;if("PASTE_NODE_STYLE_SPECIAL"===o)return!0;if("DELETE_NODE"===o)return!0;if("FORCE_COLUMN_RESIZE"===o)return!0;if("UPDATE_NODE_FIELD"===o&&e.isModalOpen);else if("CHANGE_COLUMN_WIDTH"===o);else if("SHOW_FORM_MODAL"===o)return!1;if(this.props.device!==e.device)return!1}if(null!==(i=this.props.resize.column1)&&void 0!==i&&i.id||null!==(n=e.resize.column1)&&void 0!==n&&n.id){var l;const t=null!==(l=this.props.resize.column1)&&void 0!==l&&l.id?this.props.resize:e.resize,s=Math.min(t.rowPath.length,this.props.path.length);return t.rowPath.slice(0,s).join()===this.props.path.slice(0,s).join()}if(e.isModalOpen){const t=Math.min(e.formPath.length,e.path.length);return a=e.formPath.slice(0,t).join()===e.path.slice(0,t).join(),a}return!("section"===this.props.node.slug&&this.props.isModalOpen&&!e.isModalOpen)&&a}var Ro,Mo;function Lo(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Io={addColumnNode:an,showFormModal:zi,deleteNode:on,pasteNode:en,pasteNodeStyle:tn,pasteNodeStyleSpecial:sn,setNodeVisibility:rn,duplicateColumnNode:Zi,changeColumnWidth:function(e,t){return s=>new Promise((async(i,n)=>{try{await s({type:K,payload:{path:e,width:t}}),await s(ae(K)),i()}catch(e){n()}}))},setColumnWidth:function(e){return{type:U,payload:{path:e,width:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}}},setDndPlacement:po,moveNode:Yi,setExtendedKeys:Bn,getNodesOnDemand:cn};let Fo=(0,c.Ng)(wo,Io)((Mo=class extends d.Component{constructor(e){var t;super(e),t=this,Lo(this,"shouldComponentUpdate",Do),Lo(this,"hash",Gt()),Lo(this,"columnRef",(0,d.createRef)(null)),Lo(this,"getId",(()=>{var e;return null===(e=this.props.node)||void 0===e?void 0:e.id})),Lo(this,"getDropTypes",(()=>["column","element"])),Lo(this,"getType",(()=>"column")),Lo(this,"handleDrop",((e,t,s)=>{const i=[...this.props.path];"element"===s&&(t===pe?this.props.moveNode(e,[...i,"children",0]):this.props.moveNode(e,[...i,"children",this.props.node.children.length]))})),Lo(this,"getDevice",(()=>Fe(this.props.device).toLowerCase())),Lo(this,"loadColumn",(function(e){(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||t.hash!==e.hash)&&(t.hash=e.hash,gs(e))})),Lo(this,"copyNode",(()=>{this.props.copyNode(this.props.path,this.props.node)})),Lo(this,"pasteNode",(()=>{this.props.pasteNode(this.props.path)})),Lo(this,"duplicateNode",(e=>{null==e||e.stopPropagation(),this.props.duplicateColumnNode(this.props.path)})),Lo(this,"openSettingsModal",(async e=>{let t;e.stopPropagation(),window.columnActionResolved=new Promise((e=>{t=e}));try{await this.props.showFormModal(this.props.path,this.props.node,!0),await this.props.setExtendedKeys(this.state.parentKeys),await Ss({id:this.props.node.id,elementType:"column"}),As("column",this.columnRef.current),t()}catch(e){t()}})),Lo(this,"deleteNode",(e=>{if(null==e||e.stopPropagation(),ho(this)){var t,s;const e=this.columnRef.current;let i=null==e||null===(t=e.previousElementSibling)||void 0===t?void 0:t.closest(".qx-row-settings");i||(i=null==e?void 0:e.closest(".qx-section-settings")),null===(s=i)||void 0===s||s.click()}this.props.deleteNode(this.props.path,"Column")})),Lo(this,"handleResizeStart",(e=>{null==e||e.stopPropagation(),ss().then((e=>{const t=rs(this.props.rowId,e).offsetWidth;this.props.changeColumnWidth(this.props.path,t)}))})),Lo(this,"handleResize",(async e=>{this.w=this.getUpdatedWidth(e),await js(this.w.column1.id,this.w.column1.width[this.w.device]),await js(this.w.column2.id,this.w.column2.width[this.w.device],!0)})),Lo(this,"getUpdatedWidth",(e=>{const t=this.getDevice(),s=this.getWidth();s[t]=e;const i=s[t];let{resize:{column1:{width:n,id:a},column2:{width:o,id:l}}}=this.props;const r={...n},d={...o},c=r[t]+d[t];return r[t]=i,d[t]=c-i,{column1:{id:a,width:r},column2:{id:l,width:d},device:t}})),Lo(this,"handleResizeStop",(async()=>{this.w&&(delete this.w.device,this.props.setColumnWidth(this.props.path,this.w),await js(this.w.column1.id),await js(this.w.column2.id),delete this.w)})),Lo(this,"addColumn",(e=>{null==e||e.stopPropagation();let t=[...this.props.path];const s=t.pop();this.props.addColumnNode(t,s)})),Lo(this,"getWidth",(()=>{var e;const{node:{id:t,form:s},node:i,resize:{column1:n,column2:a}}=this.props;return{...(null==n?void 0:n.id)===i.id||(null===(e=i.column2)||void 0===e?void 0:e.id)===i.id?n.id===t?n.width:a.width:s.general.layout_fields_group.col_width}})),Lo(this,"renderElements",(()=>{let{path:e,device:t,formNode:s,formPath:i,copiedNode:n,dnd:a,node:{id:o,children:l,form:r},isModalOpen:d,resize:c}=this.props;return this.props.rowPath.length>9?null:(0,ot.jsx)(Oo,{parentKeys:this.props.parentKeys,path:[...e,"children"],device:t,formNode:s,formPath:i,copiedNode:n,dnd:a,isModalOpen:d,children:l,columnId:r.advanced.identifier.id,rowId:this.props.rowId,rowPath:this.props.rowPath,resize:c},"elements")})),Lo(this,"toggleNodeVisibility",(e=>{null==e||e.stopPropagation();const{setNodeVisibility:t,node:{visibility:s},path:i,device:n}=this.props;t(i,{...s,[n]:!s[n]})})),Lo(this,"renderSettings",(()=>{let{node:{children:e}}=this.props;const t=uo(this);let s=null;(e.length||1)<12&&(s=(0,ot.jsx)(ci(),{type:"text",size:"small","qx-tooltip":"Add Column",onClick:this.addColumn,children:(0,ot.jsx)("i",{className:"qxuicon-plus"})})),s=t?s:"",ci(),this.openSettingsModal,t&&(ci(),this.duplicateNode),t&&(ci(),this.deleteNode);const i=this.props.node,n=i.form.advanced.identifier.id+"-label";return(0,ot.jsx)("div",{className:"qx-fb-settings-wrap",children:(0,ot.jsx)(oi.default,{onClick:this.openSettingsModal,size:1,id:n,className:"qx-fb-settings qx-fb-settings--column",children:(0,ot.jsx)("span",{unselectable:"on",className:"qx-element-name",children:i.form.advanced.identifier.label||i.name||i.slug})})})})),this.state={needPasteOption:!1,showCols:!1,enableEdit:!1,columnRawHtml:"",columnRawStyle:"",id:Gt("qx-column-id-"),elementKey:Gt("qx-element-key-"),flex:null,maxWidth:null,showWidth:!1,align:null,field:{},resizeDone:!0,hash:null,columns:{left:{id:"",path:[]},right:{id:"",path:[]}},parentKeys:[]}}async componentDidMount(){this.loadColumn(this.props.node,!0);const e=await this.props.getNodesOnDemand();this.setState({parentKeys:ze(e,this.props.path)||this.props.parentKeys})}componentDidUpdate(e,t,s){this.loadColumn(this.props.node)}render(){let{isDragging:e,node:{children:t,form:s},prentNodes:i,resize:{column1:n,column2:a},device:o}=this.props;const l=uo(this);let r=s.advanced.identifier.id;const d=this.getWidth();for(const e of Object.keys(d)){let t=d[e];(null===t||Number.isNaN(t)||void 0===t)&&(d[e]=i/100)}let c=d[this.getDevice()];const p=window.column[r]?window.column[r]:{classes:"lg"};let u=0===t.length?"qx-fb-column--empty":"",h=[this.renderElements(),(0,ot.jsx)("div",{className:"qx-hidden qx-fb-column__width "+this.state.align},"width-spacer")],m=0,x=0,g=0;null!=n&&n.id&&null!=a&&a.id&&(m=n.width[this.getDevice()]+a.width[this.getDevice()],x=.1*m,g=m-x);let v=(0,ot.jsx)(co,{onResizeStart:this.handleResizeStart,onResizeStop:this.handleResizeStop,onResize:this.handleResize,min:x,max:g,width:c,children:(0,ot.jsx)(Dn,{children:h})}),f=ce()("qx-fb-column","qx-column",u,p.classes,{"qx-fb-disabled":!l,"qx-fb-dragging":e}),y=s.styles.background_overlay_fields_group.background_overlay;if(y){let e="qx-background-overlay "+r+"-background-overlay";y=(0,ot.jsx)("div",{className:e})}let b=s.advanced.animation_fields_group.animation;const w=s.advanced.animation_fields_group.animation_repeat,j=s.advanced.animation_fields_group.animation_delay;let q={};return"none"!==b&&(Le(b)||(b="cls:"+b+";"),w&&(b+="repeat:ture;"),j&&(b=b+"delay:"+j),q["qx-scrollspy"]=b),(0,ot.jsxs)("div",{id:r,ref:this.columnRef,className:f,...q,children:[this.renderSettings(),(0,ot.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-bottom-small qx-animation-fast",id:"".concat(this.getId(),"-drop-before")}),(0,ot.jsxs)("div",{className:"qx-col-wrap",style:{width:"auto",position:"static"},children:[y,v]}),(0,ot.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-bottom-small qx-animation-fast",id:"".concat(this.getId(),"-drop-after")})]},r+"-"+b)}},Lo(Mo,"propTypes",{path:oo().array.isRequired}),Ro=Mo))||Ro;const Ko=Fo;var Uo,zo;function Ho(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Bo={setDndPlacement:po,moveNode:Yi};let Wo=(0,c.Ng)(null,Bo)((zo=class extends d.Component{constructor(){super(...arguments),Ho(this,"getId",(()=>this.props.rowId+"-column")),Ho(this,"getDropTypes",(()=>["column"])),Ho(this,"getType",(()=>"column")),Ho(this,"renderColumn",((e,t)=>{let{path:s,children:i,formNode:n,formPath:a,device:o,copiedNode:l,dnd:r,isModalOpen:d,resize:c,responsive:p}=this.props,u=i.length;return s=[...s,t],(0,ot.jsx)(Dn,{children:(0,ot.jsx)(Ko,{parentKeys:[...this.props.parentKeys,e.id],path:s,node:e,formNode:n,formPath:a,device:o,copiedNode:l,dnd:r,isModalOpen:d,resize:c,responsive:p,rowId:this.props.rowId,rowPath:this.props.rowPath,prentNodes:u})},e.id)})),Ho(this,"renderColumns",(e=>e.map(((e,t)=>this.renderColumn(e,t))))),Ho(this,"renderEmptyRow",(()=>(0,ot.jsxs)("div",{className:"qx-fb-area-blank",onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,children:[(0,ot.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-bottom-small qx-animation-fast",id:"".concat(this.props.rowId,"-drop-before")}),(0,ot.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-bottom-small qx-animation-fast",id:"".concat(this.props.rowId,"-drop-after")})," ",this.props.layoutTooltip]}))),Ho(this,"deviceListMapper",(e=>({lg:"desktop",md:"tablet",xs:"phone"}[e])))}render(){const{children:e}=this.props;let t=0===e.length;return(0,ot.jsx)(ot.Fragment,{children:t?this.renderEmptyRow():this.renderColumns(e)})}},Ho(zo,"propTypes",{path:oo().array.isRequired,children:oo().array.isRequired}),Uo=zo))||Uo;const Vo=Wo;function Jo(e){let{name:t}=e;return t="1-1"===t?"1":t,(0,ot.jsx)("div",{title:t,className:"qx-fb-col qx-fb-col-layout-".concat(t),children:"1"===t?(0,ot.jsx)("div",{className:"qx-inner-div"}):null})}function Go(e){let{onSelect:t,sizes:s,layout:i}=e;return(0,ot.jsx)("div",{className:"qx-padding-small",onClick:()=>t(s),children:i.map(((e,t)=>(0,ot.jsx)(Jo,{name:e.join("-")},t)))})}var Qo;const Yo={changeRowLayout:Qi};let Xo=(0,c.Ng)(null,Yo)(Qo=class extends d.Component{constructor(){var e,t,s,i;super(...arguments),e=this,s=async e=>{let{rowPath:t,index:s,ignoreRowNode:i}=this.props.callbackParams,{path:n,rowElement:a}=await this.props.callback(t,s,i);await this.props.changeRowLayout(n,e),jQuery(".qxui-popover").addClass("qxui-popover  qxui-popover-placement-top  qxui-popover-hidden"),window.newRowAdded=!0,null==a||a.click()},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t="handleSelectLayout"))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}render(){var e;let t=Ct;return(null===(e=this.props)||void 0===e||null===(e=e.rowPath)||void 0===e?void 0:e.length)>4&&(t=Ct.slice(0,4)),(0,ot.jsx)(ri.default,{trigger:this.props.trigger,button:this.props.button,bottom:!0,dismissible:!1,className:"qxui-popover--col-layout",children:(0,ot.jsx)("div",{style:{"--qx-layout-column":t.length>4?6:4},className:"qx-new-column-layouts",children:t.map(((e,t)=>function(e,t,s){let i=e.map((e=>e[0]/e[1]));return(0,ot.jsx)(Go,{sizes:i,onSelect:s,layout:e},t)}(e,t,this.handleSelectLayout)))})})}})||Qo;Xo.defaultProps={visible:oo().bool.isRequired,layouts:oo().object.isRequired};const Zo=Xo;var $o,el;function tl(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const sl={addColumnNode:an,addRowNode:Gi,copyNode:$i,pasteNode:en,deleteNode:on,pasteNodeStyle:tn,pasteNodeStyleSpecial:sn,duplicateNode:Xi,showFormModal:zi,setNodeVisibility:rn,forceColumnResize:ln,setDndPlacement:po,moveNode:Yi,setExtendedKeys:Bn,getNodesOnDemand:cn};let il=(0,c.Ng)(wo,sl)((el=class extends d.Component{constructor(e){var t;super(e),t=this,tl(this,"hash",Gt()),tl(this,"shouldComponentUpdate",Do),tl(this,"rowRef",(0,d.createRef)(null)),tl(this,"getId",(()=>{var e;return null===(e=this.props.node)||void 0===e?void 0:e.id})),tl(this,"getDropTypes",(()=>["row"])),tl(this,"getType",(()=>"row")),tl(this,"handleDrop",((e,t)=>{const s=[...this.props.path];if(t===pe)this.props.moveNode(e,[...s]);else{const t=s.pop();this.props.moveNode(e,[...s,t+1])}})),tl(this,"getDevice",(e=>{switch(e||this.props.device){case"md":return"tablet";case"xs":return"phone";default:return"desktop"}})),tl(this,"loadRow",(function(e){(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||t.hash!==e.hash)&&(t.hash=e.hash,gs(e))})),tl(this,"openSettingsModal",(async e=>{if(e.stopPropagation(),window.hideContextMenu(),window.newRowAdded||Ts(e))try{await this.props.showFormModal(this.props.path,this.props.node,!0),await this.props.setExtendedKeys(this.state.parentKeys),await Ss({id:this.props.node.id,elementType:"row"}),As("row",this.rowRef.current)}catch(e){}window.newRowAdded&&(window.newRowAdded=!1)})),tl(this,"duplicateNode",(()=>{this.props.duplicateNode(this.props.path,"Row")})),tl(this,"copyNode",(()=>{this.props.copyNode(this.props.path)})),tl(this,"pasteNode",(()=>{this.props.pasteNode(this.props.path)})),tl(this,"handleAddRowClick",(()=>{let{path:e}=this.props;const t=e.slice();let s=t.pop()+1;this.props.addRowNode(t,s)})),tl(this,"deleteNode",(()=>{ks({deleteElementManually:()=>{const e=this.rowRef.current.closest(".qx-section-settings");e&&e.click(),this.props.deleteNode(this.props.path,"Row")}})})),tl(this,"handleAddColumnClick",(()=>{var e;let t=[...this.props.path,"children"];this.props.addColumnNode(t,(null===(e=this.props.node)||void 0===e||null===(e=e.children)||void 0===e?void 0:e.length)||0)})),tl(this,"handleDuplicateClick",(()=>{let{path:e,duplicateNode:t}=this.props;t(e,"Row")})),tl(this,"goPro",(e=>(window.open("https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=context-menu&utm_content=upgrade-now","_blank"),e))),tl(this,"forceColumnResize",(()=>{this.props.forceColumnResize(this.props.path)})),tl(this,"enableVisibility",(()=>{const{setNodeVisibility:e,path:t,node:{visibility:s},device:i}=this.props;e(t,{...s,[i]:!0})})),tl(this,"rowContextMenu",(()=>{var e,t;const s=e=>{e.stopPropagation(),window.hideContextMenu()};return uo(this)?((null===(e=this.props.copiedNode)||void 0===e?void 0:e.id)!==this.props.node.id&&(it.q7,this.copyNode),(null===(t=this.props.copiedNode)||void 0===t?void 0:t.slug)===this.props.node.slug&&(it.q7,this.pasteNode),(0,ot.jsxs)(it.W1,{onClick:s,id:this.state.id,theme:it.w4.light,style:{zIndex:99999},children:[(0,ot.jsx)(it.q7,{disabled:!0,title:"Row",children:"Row"},"title"),(0,ot.jsxs)(it.q7,{onClick:this.handleAddColumnClick,children:[(0,ot.jsx)("i",{className:"qxuicon-plus"})," Add Column"]}),(0,ot.jsxs)(it.q7,{onClick:this.duplicateNode,children:[(0,ot.jsx)("i",{className:"qxuicon-clone"})," Duplicate"]}),bt(this),(0,ot.jsxs)(it.q7,{onClick:this.forceColumnResize,children:[(0,ot.jsx)("i",{className:"qxuicon-columns"})," Grid Reset"]}),vt(this),(0,ot.jsxs)(it.q7,{onClick:this.deleteNode,children:[(0,ot.jsx)("i",{className:"qxuicon-trash-alt"})," Delete"]})]})):(0,ot.jsxs)(it.W1,{onClick:s,id:this.state.id,theme:it.w4.light,style:{zIndex:99999},children:[(0,ot.jsxs)(it.q7,{onClick:this.deleteNode,children:[(0,ot.jsx)("i",{className:"qxuicon-trash-alt"})," Delete"]},"delete"),vt(this)]})})),tl(this,"renderSettings",(e=>{const t=uo(this);let s=null;this.props.hidePlusIcon||(s=(0,ot.jsx)("div",{children:(0,ot.jsx)(ci(),{type:"primary",shape:"circle","qx-tooltip":"Add New Row",onClick:this.handleAddRowClick,children:(0,ot.jsx)("i",{className:"qxuicon-plus"})})})),t&&(ci(),this.openSettingsModal),t&&(ci(),this.deleteNode);const i=this.props.node;return(0,ot.jsx)("div",{className:"qx-fb-settings-wrap",children:(0,ot.jsx)(oi.default,{size:1,className:"qx-fb-settings qx-fb-settings--row",children:(0,ot.jsxs)("div",{unselectable:"on",style:{gap:"0.5rem"},className:"qx-element-name qx-flex",children:[(0,ot.jsx)("div",{children:i.form.advanced.identifier.label||i.name||i.slug}),s]})})})})),this.state={needPasteOption:!1,enableEdit:!1,rowRawHtml:"",rowRawStyle:"",id:Gt("qx-row-id-"),btnId:Gt("btn-id-"),field:{},parentKeys:[]}}async componentDidMount(){const e=window.document.getElementById("#"+this.state.btnId);e&&e.click(),this.loadRow(this.props.node,!0);const t=await this.props.getNodesOnDemand();this.setState({parentKeys:ze(t,this.props.path)||this.props.parentKeys})}componentDidUpdate(e,t,s){this.loadRow(this.props.node)}render(){let{node:{children:e,form:t},device:s,formNode:i,formPath:n,copiedNode:a,dnd:o,isModalOpen:l,isDragging:r,resize:d,responsive:c,path:p}=this.props;const u=uo(this);p=[...p,"children"];let h=t.advanced.identifier.id;const m=ce()("qx-fb-row",{"qx-fb-dragging":r,"qx-fb-no-column":e.length,"qx-fb-disabled":!u});ce()({"qx-fb-disabled":!u});let x=ce()("qx-row",{"qx-no-gutters":"no-gutters"===t.general.layout_fields_group.columns_gap,"qx-flex-md-row qx-flex-column-reverse":!0===t.general.layout_fields_group.mobile_reverse},this.state.field.class?this.state.field.class:"",t.general.layout_fields_group.v_align,t.general.layout_fields_group.h_align),g=[(0,ot.jsx)(ai.default,{"qx-tooltip":"Add Column",placement:"bottom",children:(0,ot.jsx)(ci(),{id:this.state.btnId,type:"primary",shape:"circle",children:(0,ot.jsx)("i",{className:"qxuicon-plus"})},this.state.btnId+"-button")},this.state.btnId+"-tolltip")];const v=(0,ot.jsx)(Zo,{deleteNode:this.deleteNode,trigger:"click",rowPath:this.props.rowPath,callback:this.props.callback,callbackParams:{rowPath:this.props.rowPath,index:this.props.index,ignoreRowNode:!0},button:g});let f=null;if(!Le(t.styles.background_overlay_fields_group.background_overlay)){let e="qx-background-overlay "+h+"-background-overlay";f=(0,ot.jsx)("div",{className:e})}let y=t.styles.background_fields_group.background;if(!Le(y)&&!Le(y.state.normal.properties.parallax_method)&&"js"===y.state.normal.properties.parallax_method){let e={};Le(y.state.normal.properties.js_parallax_y)||(e.bgy=y.state.normal.properties.js_parallax_y),Le(y.state.normal.properties.js_parallax_x)||(e.bgx=y.state.normal.properties.js_parallax_x),setTimeout((function(){qxUIkit.parallax("#"+h,e)}),2e3)}return(0,ot.jsx)("div",{onClick:this.openSettingsModal,ref:this.rowRef,className:"".concat(m," qx-row-settings"),children:(0,ot.jsxs)(fo,{showSettings:async()=>{try{await this.props.setExtendedKeys(this.state.parentKeys),await this.props.showFormModal(this.props.path,this.props.node,!0),await Ss({id:this.props.node.id,elementType:"row"}),As("row",this.rowRef.current)}catch(e){}},menu:e=>this.menu=e,className:"qx-context-menu",id:this.state.id,children:[this.renderSettings(h),(0,ot.jsx)("div",{id:h,className:"qx-row-wrap",children:(0,ot.jsxs)("div",{className:x,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,children:[(0,ot.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder",id:"".concat(this.getId(),"-drop-before")}),f,(0,ot.jsx)(Dn,{children:(0,ot.jsx)(Vo,{parentKeys:this.props.parentKeys,nested:!!this.props.elementPath,rowPath:this.props.path,layoutTooltip:v,path:p,formNode:i,formPath:n,copiedNode:a,dnd:o,isModalOpen:l,device:s,resize:d,responsive:c,children:e,rowId:h})}),(0,ot.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder",id:"".concat(this.getId(),"-drop-after")})]})}),this.rowContextMenu()]})})}},tl(el,"propTypes",{path:oo().array.isRequired}),tl(el,"defaultProps",{hidePlusIcon:!1}),$o=el))||$o;const nl=il;var al,ol;function ll(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const rl={addRowNode:Gi,changeRowLayout:Qi,duplicateNode:Xi,setDndPlacement:po,moveNode:Yi,hideFormModal:Hi};let dl=(0,c.Ng)(null,rl)((ol=class extends d.Component{constructor(e){super(e),ll(this,"rowRef",(0,d.createRef)(null)),ll(this,"getId",(()=>this.props.sectionId+"-row")),ll(this,"getDropTypes",(()=>["row"])),ll(this,"getType",(()=>"row")),ll(this,"handleDrop",((e,t)=>{const s=[...this.props.path];this.props.moveNode(e,[...s,0])})),ll(this,"handleAddRowClick",(async(e,t,s)=>{e=e.slice(),s||await this.props.addRowNode(e,t);const i=this.rowRef.current.querySelector(".qx-row-settings");return{path:[...e,t,"children"],rowElement:i}})),ll(this,"renderEmptySection",(()=>(0,ot.jsx)("div",{className:"qx-fb-area-blank",onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,children:(0,ot.jsx)(Zo,{trigger:"click",callback:this.handleAddRowClick,rowPath:this.props.path,callbackParams:{rowPath:this.props.path,index:0},button:[(0,ot.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder",id:"".concat(this.getId(),"-drop-before")},"placeholder-before"),(0,ot.jsx)(ai.default,{title:"Add Columns",children:(0,ot.jsx)(ci(),{id:this.getId()+"-button",type:"primary",shape:"circle",children:(0,ot.jsx)("i",{className:"qxuicon-plus"})},"button")},"tooltip"),(0,ot.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder",id:"".concat(this.getId(),"-drop-after")},"placeholder-after")]})}))),ll(this,"renderRow",((e,t)=>{let{path:s,formNode:i,formPath:n,copiedNode:a,device:o,dnd:l,isModalOpen:r,resize:d,responsive:c}=this.props,p=[...s,t];return(0,ot.jsx)(Dn,{children:(0,ot.jsx)(nl,{parentKeys:[this.props.sectionId,e.id],hidePlusIcon:this.props.hidePlusIcon,elementPath:this.props.elementPath,path:p,node:e,formNode:i,formPath:n,device:o,copiedNode:a,dnd:l,isModalOpen:r,index:t,resize:d,responsive:c,callback:this.handleAddRowClick,rowPath:this.props.path})},e.id)}))}componentDidUpdate(e,t,s){}componentDidMount(){ss().then((e=>{var t;null===(t=rs(this.getId()+"-button",e))||void 0===t||t.click()}))}render(){const{children:e}=this.props,t=0===e.length;return(0,ot.jsx)("div",{ref:this.rowRef,className:"qx-fb-rows",children:t?this.renderEmptySection():e.map(this.renderRow)})}},ll(ol,"propTypes",{path:oo().array.isRequired,children:oo().array.isRequired}),al=ol))||al;const cl=dl;var pl,ul;function hl(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const ml={addSectionNode:Ji,copyNode:$i,pasteNode:en,deleteNode:on,pasteNodeStyle:tn,pasteNodeStyleSpecial:sn,duplicateNode:Xi,setNodeVisibility:rn,showFormModal:zi,setDndPlacement:po,moveNode:Yi,invokeTemplateModal:zs,invokeSectionSaveModal:Fs,setExtendedKeys:Bn};let xl=(0,c.Ng)(null,ml)((ul=class extends d.Component{constructor(e){super(e),hl(this,"shouldComponentUpdate",Do),hl(this,"hash",Gt()),hl(this,"sectionRef",(0,d.createRef)(null)),hl(this,"deleteNode",(async()=>{ks({deleteElementManually:()=>{const e=this.sectionRef.current,t=e.previousElementSibling,s=e.nextElementSibling;t?t.click():s&&s.click(),setTimeout((()=>this.props.deleteNode(this.props.path,this.props.node.slug)),0)}})})),hl(this,"getId",(()=>this.props.node.id)),hl(this,"getDropTypes",(()=>["section"])),hl(this,"getType",(()=>"section")),hl(this,"handleDrop",((e,t)=>{const s=[...this.props.path];if(t===pe)this.props.moveNode(e,[...s]);else{const t=s.pop();this.props.moveNode(e,[...s,t+1])}})),hl(this,"showBlocks",(()=>{let e=+this.props.path.slice().pop()+1;this.props.invokeTemplateModal([e])})),hl(this,"addSectionNode",(()=>{this.props.addSectionNode(this.props.index+1)})),hl(this,"duplicateNode",(()=>{this.props.duplicateNode(this.props.path,"Section")})),hl(this,"copyNode",(()=>{this.props.copyNode(this.props.path)})),hl(this,"pasteNode",(()=>{this.props.pasteNode(this.props.path)})),hl(this,"goPro",(e=>(window.open("https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=context-menu&utm_content=go-pro","_blank"),e))),hl(this,"settingsNode",(async e=>{if(e.stopPropagation(),window.hideContextMenu(),window.newSectionAdded||Ts(e))try{await this.props.showFormModal(this.props.path,this.props.node,!0),await this.props.setExtendedKeys([this.getId()]),await Ss({id:this.props.node.id,elementType:"section"}),As("section",this.sectionRef.current)}catch(e){}window.newSectionAdded=!1})),hl(this,"handleAddSectionClick",(async e=>{var t;null==e||e.stopPropagation();let s=+this.props.path.slice().pop()+1;return await this.props.addSectionNode(s),window.newSectionAdded=!0,null===(t=this.sectionRef.current.nextElementSibling)||void 0===t||t.click(),e})),hl(this,"handleUpdateTitle",(e=>{null==e||e.stopPropagation();let{updateTitle:t}=this.props;return t(e.target.value),e})),hl(this,"showModal",(()=>{this.props.invokeSectionSaveModal(this.props.path)})),hl(this,"renderRows",(()=>{const{node:{children:e,id:t},formNode:s,formPath:i,device:n,copiedNode:a,dnd:o,isModalOpen:l,resize:r,responsive:d}=this.props,c=[...this.props.path,"children"];return(0,ot.jsx)(cl,{path:c,formNode:s,formPath:i,device:n,copiedNode:a,dnd:o,isModalOpen:l,resize:r,responsive:d,children:e,sectionId:t})})),hl(this,"enableVisibility",(()=>{const{setNodeVisibility:e,path:t,node:{visibility:s},device:i}=this.props;e(t,{...s,[i]:!0})})),hl(this,"renderSettings",((e,t)=>{uo(this)&&(ci(),this.settingsNode);const s=this.props.node;return(0,ot.jsx)("div",{className:"qx-fb-settings-wrap",children:(0,ot.jsx)(oi.default,{size:1,className:"qx-fb-settings qx-fb-settings--section",children:(0,ot.jsx)("span",{unselectable:"on",className:"qx-element-name",children:s.form.advanced.identifier.label||s.name||s.slug})})})})),window.contextMenu={needPasteOption:!1},this.state={id:Gt("qx"),needPasteOption:window.contextMenu.needPasteOption,enableEdit:!1,sectionRawStyle:"",sectionRawHtml:{class:""},field:{},style:{},modalId:null}}componentDidMount(){this.loadSection(this.props.node,!0)}componentDidUpdate(e,t,s){this.loadSection(this.props.node)}componentWillUnmount(){jQuery(this.state.modalId).remove()}async loadSection(e){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&this.hash===e.hash)return;this.hash=e.hash,await gs(e);let t={};if(e.form.general.layout_fields_group.section_stretch){var s;let e=null===(s=rs("quix-iframe-wrapper"))||void 0===s?void 0:s.getBoundingClientRect().width,i=document.querySelector("html").getAttribute("dir"),n=this.sectionRef.current.getBoundingClientRect().left;t={position:"relative",width:"".concat(e,"px")},"rtl"===i?t.marginRight="".concat(n,"px"):t.marginLeft="-".concat(n,"px"),this.setState({style:t})}else this.setState({style:{}})}sectionContextMenu(){const e=e=>{e.stopPropagation(),window.hideContextMenu()};return uo(this)?(0,ot.jsxs)(it.W1,{onClick:e,id:this.state.id,theme:it.w4.light,style:{zIndex:99999},children:[(0,ot.jsx)(it.q7,{disabled:!0,title:"Section",children:"Section"},"title"),(0,ot.jsxs)(it.q7,{onClick:this.addSectionNode,children:[(0,ot.jsx)("i",{className:"qxuicon-plus"}),"Add"]}),(0,ot.jsxs)(it.q7,{onClick:this.duplicateNode,children:[(0,ot.jsx)("i",{className:"qxuicon-clone"}),"Duplicate"]}),bt(this),(0,ot.jsxs)(it.q7,{onClick:this.showModal,children:[(0,ot.jsx)("i",{className:"qx-margin-small-right qxuicon-save"}),"Save"]}),vt(this),(0,ot.jsxs)(it.q7,{onClick:this.deleteNode,children:[(0,ot.jsx)("i",{className:"qxuicon-trash-alt"}),"Delete"]})]}):(0,ot.jsxs)(it.W1,{onClick:e,id:this.state.id,theme:it.w4.light,style:{zIndex:99999},children:[(0,ot.jsxs)(it.q7,{onClick:this.deleteNode,children:[(0,ot.jsx)("i",{className:"qxuicon-trash-alt"})," Delete"]},"delete"),vt(this)]})}render(){const{children:e,isDragging:t,node:{form:s}}=this.props,i=uo(this),n=s.advanced.identifier.id,a=0===(null==e?void 0:e.length);let o=document.getElementById("jform_template_type")||!1;o&&(o=o.value);const l=(0,ot.jsx)("div",{className:"qx-fb-blank-page__section",style:{border:"1px dashed rgb(185,186,185, 1)",margin:"1.5rem"},children:(0,ot.jsx)("div",{className:"qx-fb-empty-sectons",children:(0,ot.jsxs)("div",{children:[(0,ot.jsx)(ci(),{onClick:this.handleAddSectionClick,type:"primary",shape:"circle",className:"qxui-btn--small","qx-tooltip":"Section",children:(0,ot.jsx)("i",{className:"qxuicon-plus"})}),(0,ot.jsx)(ci(),{onClick:e=>{null==e||e.stopPropagation(),this.showBlocks(this.props.path)},type:"primary",shape:"circle",className:"qxui-btn--small","qx-tooltip":"Templates",children:(0,ot.jsx)("i",{className:"qxif-folder-open"})})]})})});if(!n||"object"==typeof n)return(0,ot.jsx)("div",{className:"qx-alert qx-alert-danger",children:(0,ot.jsx)("h3",{children:"Section rendering problem found! check console for details."})});let r=ce()("qx-fb-section",{"qx-fb-empty-section":a,"qx-fb-dragging":t,"qx-fb-disabled":!i}),d=s.styles.background_fields_group.background,c=ce()("qx-section",{"qx-section--stretch":s.general.layout_fields_group.section_stretch,"qx-section-height-full":"full"===s.general.layout_fields_group.height,"qx-section-height-custom":"custom"===s.general.layout_fields_group.height,"qx-cover-container":"video"===d.state.normal.type,"qx-section-has-divider":"none"!==s.styles.divider_top_fields_group.top_divider_style||"none"!==s.styles.divider_bottom_fields_group.bottom_divider_style},this.state.field.class?this.state.field.class.value:"");ce()({"qx-fb-disabled":!i});const p=s.advanced.identifier.class;let u="qx-container";"fluid"!==s.general.layout_fields_group.container_type&&"custom"!==s.general.layout_fields_group.container_type||(u="qx-container-fluid"),("full"===s.general.layout_fields_group.height||"custom"===s.general.layout_fields_group.height&&!Le(s.general.layout_fields_group.v_align))&&(u+=" "+s.general.layout_fields_group.v_align);let h=no(s.styles.divider_top_fields_group.top_divider_style),m=no(s.styles.divider_bottom_fields_group.bottom_divider_style),x="none"!==s.styles.divider_top_fields_group.top_divider_style?(0,ot.jsx)("div",{className:"qx-shape qx-shape-top",dangerouslySetInnerHTML:{__html:h}}):"",g="none"!==s.styles.divider_bottom_fields_group.bottom_divider_style?(0,ot.jsx)("div",{className:"qx-shape qx-shape-bottom",dangerouslySetInnerHTML:{__html:m}}):"",v=null;Le(s.styles.background_fields_group.background)||(v="video"===d.state.normal.type?(0,ot.jsx)("video",{className:"qx-background-video",src:d.state.normal.properties.url.source,autoPlay:"",loop:"",muted:"",playsInline:"","data-qx-cover":"","data-qx-video":"automute: true;autoplay: inview"}):null);let f=null;if(!Le(s.styles.background_overlay_fields_group.background_overlay)){let e="qx-background-overlay ".concat(s.advanced.identifier.id,"-background-overlay");f=(0,ot.jsx)("div",{className:e})}let y={};Le(s.styles.background_fields_group.background)||Le(s.styles.background_fields_group.background.state.normal.properties.parallax_method)||"js"===s.styles.background_fields_group.background.state.normal.properties.parallax_method&&(Le(s.styles.background_fields_group.background.state.normal.properties.js_parallax_y)||(y.bgy=s.styles.background_fields_group.background.state.normal.properties.js_parallax_y),Le(s.styles.background_fields_group.background.state.normal.properties.js_parallax_x)||(y.bgx=s.styles.background_fields_group.background.state.normal.properties.js_parallax_x));let b="";void 0!==(null==y?void 0:y.bgx)&&(b="bgy:".concat(null==y?void 0:y.bgy,";bgx:").concat(null==y?void 0:y.bgx));let w="section"!==o?this.props.size-1===this.props.index?l:null:(0,ot.jsxs)("div",{className:"qx-alert qx-alert-danger qx-text-center",children:["For ",(0,ot.jsx)("strong",{children:"Section"})," Template, More then one section is not allowed. Please Create a Layout template, If you want multiple section."]});return(0,ot.jsxs)("div",{onClick:this.settingsNode,"data-index":this.props.index,className:"qx-section-settings",ref:this.sectionRef,children:[(0,ot.jsx)("div",{id:"".concat(n,"-wrapper"),className:r,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,children:(0,ot.jsxs)(fo,{showSettings:async()=>{try{await this.props.setExtendedKeys([this.getId()]),await this.props.showFormModal(this.props.path,this.props.node,!0),await Ss({id:this.getId(),elementType:"section"}),As("section",this.sectionRef.current)}catch(e){}},menu:e=>this.menu=e,id:this.state.id,children:[(0,ot.jsxs)("div",{id:n,className:[c,p].join(" "),style:this.state.style,"data-qx-parallax":b,children:[this.renderSettings(n),(0,ot.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-top-small qx-animation-fast",id:"".concat(this.getId(),"-drop-before")}),v,f,x,g,(0,ot.jsx)("div",{className:u,children:this.renderRows()}),(0,ot.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-top-small qx-animation-fast",id:"".concat(this.getId(),"-drop-after")})]}),this.sectionContextMenu()]})}),w]})}},hl(ul,"propTypes",{path:oo().array.isRequired}),pl=ul))||pl;const gl=xl;var vl;const fl={addSectionNode:Ji,addRowNode:Gi,changeRowLayout:Qi,invokeTemplateModal:zs},yl=(0,c.Ng)(null,fl)(vl=class extends d.Component{constructor(){var e,t,s,i;super(...arguments),e=this,s=async()=>{var e;await this.props.addSectionNode(),null===(e=(await ss()).querySelector(".qx-section-settings"))||void 0===e||e.click()},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t="handleAddSectionNode"))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}render(){return(0,ot.jsx)("div",{className:"qx-fb-blank-page__section qx-container",style:{border:"1px dashed rgb(185,186,185, 1)",padding:"40px",lineHeight:"1.5"},children:(0,ot.jsxs)("div",{className:"qx-fb-empty-sectons",children:[(0,ot.jsxs)("div",{children:[(0,ot.jsx)(ci(),{onClick:this.handleAddSectionNode,type:"primary",shape:"circle",className:"qxui-btn--small","qx-tooltip":"Section",children:(0,ot.jsx)("i",{className:"qxuicon-plus"})}),(0,ot.jsx)(ci(),{onClick:()=>this.props.invokeTemplateModal([0]),type:"primary",shape:"circle",className:"qxui-btn--small","qx-tooltip":"Templates",children:(0,ot.jsx)("i",{className:"qxif-folder-open"})})]}),(0,ot.jsx)("p",{style:{fontSize:16,fontWeight:500,color:"gray"},children:"Click on any element to add it to your canvas."})]})})}})||vl;var bl;function wl(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const jl=e=>e.form.node,ql=(0,Vn.Mz)([jl],(e=>!(null==e||!e.id))),Cl=(0,Vn.Mz)([e=>e.meta.qid,e=>e.nodes.nodes,e=>e.nodes.device,e=>e.nodes.responsive,e=>e.nodes.clipboard.node,e=>e.nodes.resize,jl,e=>e.form.path,e=>e.action.action,e=>e.dnd,yo,ql],((e,t,s,i,n,a,o,l,r,d,c,p)=>({responsive:i,formPath:l,formNode:o,copiedNode:n,device:s,dnd:d,qid:e,isModalOpen:p,resize:a,sections:t,action:r,trackActions:c}))),Sl={addSectionNode:Ji,invokeTemplateModal:zs};let _l=(0,c.Ng)(Cl,Sl)(bl=class extends d.Component{constructor(){super(...arguments),wl(this,"addBodyClass",(()=>{ss().then((e=>{0===this.props.sections.length?e.querySelector(".app-mount").classList.add("qx-fb-blank-page"):e.querySelector(".app-mount").classList.remove("qx-fb-blank-page")}))})),wl(this,"renderSection",((e,t)=>{const{sections:s,formNode:i,formPath:n,device:a,copiedNode:o,dnd:l,isModalOpen:r,resize:d,responsive:c,qid:p,trackActions:u}=this.props;return(0,ot.jsx)(Dn,{children:(0,ot.jsx)(gl,{size:s.length,path:[t],index:t,node:e,formNode:i,formPath:n,device:a,copiedNode:o,dnd:l,isModalOpen:r,resize:d,responsive:c,qid:p,trackActions:u})},e.id)})),wl(this,"renderSections",((e,t)=>e.map(this.renderSection)))}shouldComponentUpdate(e,t,s){return"ADD_SECTION_NODE"===e.action||"SHOW_TEMPLATE_MODAL"===e.action||"SHOW_FORM_MODAL"!==e.action&&fn().apply(this,arguments)}componentDidMount(){this.addBodyClass()}componentDidUpdate(e,t,s){e.sections.length!==this.props.sections.length&&this.addBodyClass()}render(){let{sections:e}=this.props;return 0===e.length?(0,ot.jsx)(yl,{}):(0,ot.jsx)("div",{children:this.renderSections(e)})}})||bl;const Nl=_l;var kl=s(85200);class El extends d.Component{render(){return(0,ot.jsxs)("div",{className:"qx-section-fluid qx-p-5 qx-card qx-card-body",children:[(0,ot.jsx)(Qa.default,{prefixCls:"qxui-progress",strokeColor:{from:"#108ee9",to:"#87d068"},percent:99.99,status:"active",showInfo:!1}),(0,ot.jsx)("h1",{className:"qx-text-center qx-mt-5",children:"Building your Layouts"}),(0,ot.jsx)("p",{className:"qx-text-center qx-m-1 qx-text-muted",children:"Please wait for a moment, awesome things are happening here..."}),(0,ot.jsx)("hr",{}),(0,ot.jsx)("div",{style:{marginLeft:"-30px"},children:(0,ot.jsx)(kl.default,{title:!1,active:!0,paragraph:{rows:4}})})]})}}const Pl=El;var Tl;function Al(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Ol={addSectionNode:Ji,addElementNode:function(e,t){return s=>new Promise((async(i,n)=>{try{await s({type:j,payload:{path:e,element:t}}),await s(ae(j)),i()}catch(e){n()}}))},addMyElementNode:function(e,t){return s=>new Promise((async(i,n)=>{try{await s({type:q,payload:{path:e,element:t}}),await s(ae(q)),i()}catch(e){n()}}))},invokeElementPickerModal:Is};let Dl=(0,c.Ng)((e=>{let{action:t,nodes:{nodes:s}}=e;return{path:t.elementPath,index:t.elementIndex,addFirstSection:t.addFirstSection,nodes:s,theme:t.theme}}),Ol)(Tl=class extends d.Component{constructor(e){super(e),Al(this,"handleClick",(async()=>{var e;let{element:t,path:s=[],index:i=0,addElementNode:n,addMyElementNode:a,invokeElementPickerModal:o,addFirstSection:l,nodes:r}=this.props;if("section"===t.slug)return this.props.addSectionNode(r.length);let d=null===(e=t.groups)||void 0===e?void 0:e.includes("my elements");if(l){if("column"===t.slug)return dt.warning("Please add a section first");s=await l(),window.newElementAdded=!0}d?a([...s,i],t):n([...s,i],t),await o(s,++i)})),Al(this,"goPro",(e=>{window.open("https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=".concat(e,"&utm_content=upgrade-now"),"_blank")})),Al(this,"closePopover",(()=>{this.setState({openPopover:!1})})),Al(this,"removeFromMyElements",(e=>{const t=e.core_id,s=e.name;if(JSON.parse(_e("MY_ELEMENTS"))){const e="".concat(ge(),"/index.php?option=com_quix&task=collection.updateState&state=2&id=").concat(t,"&").concat(je(),"=1");De().get(e).then((e=>{let i=e.data;!0===i.data?this.props.updateElementList({name:s,core_id:t}):dt.warning(i.data)}))}})),this.state={openPopover:!1}}shouldComponentUpdate(e,t,s){return e.element!==this.props.element||e.path!==this.props.path||e.index!==this.props.index||e.nodes.length!==this.props.nodes.length||t.openPopover!==this.state.openPopover}render(){var e;let{element:t}=this.props;if(null==t||null===(e=t.groups)||void 0===e?void 0:e.includes("my elements"))return(0,ot.jsxs)("div",{onClick:this.handleClick,className:"my-element qx-flex qx-flex-column qx-flex-center qx-flex-middle",children:[(0,ot.jsx)("span",{className:"qx-fb-elements__icon qx-element-icon",dangerouslySetInnerHTML:{__html:Xe(t.slug)}}),(0,ot.jsx)("span",{className:"qx-fb-elements__name",children:Rs({absoluteKey:"".concat(t.slug,"_").concat(t.slug),label:t.name})}),(0,ot.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),this.removeFromMyElements(t)},className:"qx-fb-elements__remove qx-btn qx-element-delete-btn",title:"Delete",children:(0,ot.jsx)("i",{className:"qxuicon-trash-alt"})})]});{if(Se()&&"pro"===t.tag)return(0,ot.jsx)(ri.default,{open:this.state.openPopover,content:(0,ot.jsxs)("div",{className:"qx-pro-elements",children:[(0,ot.jsxs)("div",{className:"qx-pro-elements-title",children:[(0,ot.jsxs)("div",{children:[(0,ot.jsx)("span",{children:Rs({absoluteKey:"".concat(t.slug,"_").concat(t.slug),label:t.name})}),(0,ot.jsx)("span",{className:"qx-pro-tag",children:"Pro"})]}),(0,ot.jsx)("div",{className:"qx-close-btn",onClick:this.closePopover,children:(0,ot.jsx)("i",{className:"qxio-close-round"})})]}),(0,ot.jsxs)("div",{className:"qx-pro-elements-container",children:[Rs({absoluteKey:"".concat(t.slug,"_").concat(t.slug),label:t.name})," element and dozens more pro features to extend your toolbox and build sites faster and better.",(0,ot.jsx)(ci(),{onClick:()=>this.goPro(t.slug),type:"primary",size:"small",children:"Upgrade Now"}),"dark"===this.props.theme?(0,ot.jsx)("button",{className:"qxui-btn-success",onClick:()=>this.goPro(t.slug),type:"button",style:{border:"none",paddingBlock:"7px",borderRadius:"5px",fontWeight:"600"},children:this.isLicenseInactive?"Activate PRO":"Upgrade Now"}):(0,ot.jsx)(ci(),{onClick:()=>this.goPro(t.slug),type:"primary",size:"small",children:this.isLicenseInactive?"Activate PRO":"Upgrade Now"})]})]}),trigger:"click",rootClassName:"qxui-popover-help",placement:"right",onOpenChange:e=>this.setState({openPopover:e}),popupStyle:{width:"280px"},children:(0,ot.jsxs)("div",{"data-tag":t.tag,className:"qx-flex qx-flex-column qx-flex-center qx-flex-middle",children:[(0,ot.jsx)("span",{className:"qx-fb-elements__icon qx-element-icon",dangerouslySetInnerHTML:{__html:Xe(t.slug)}}),(0,ot.jsx)("span",{className:"qx-fb-elements__name",children:Rs({absoluteKey:"".concat(t.slug,"_").concat(t.slug),label:t.name})})]})});const e="column"===t.slug;return(0,ot.jsxs)("div",{className:"qx-flex qx-flex-column qx-flex-center qx-flex-middle",onClick:this.handleClick,children:[(0,ot.jsx)("span",{className:"qx-fb-elements__icon qx-element-icon",dangerouslySetInnerHTML:{__html:Xe(t.slug)}}),(0,ot.jsx)("span",{className:"qx-fb-elements__name",children:e?"Inner Column":Rs({absoluteKey:"".concat(t.slug,"_").concat(t.slug),label:t.name})})]})}}})||Tl;Dl.propTypes={element:oo().object.isRequired};const Rl=Dl;function Ml(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Ll extends d.Component{constructor(){var e;super(...arguments),e=this,Ml(this,"renderElement",((e,t)=>(0,ot.jsx)(Rl,{element:e,updateElementList:this.props.updateElementList},e.slug+t))),Ml(this,"renderElements",(function(){var t,s;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.props.isSearching&&!e.props.elements.length?(0,ot.jsx)("div",{className:"qx-alert",children:"No matching element found."}):(0,ot.jsx)("div",{className:"qx-fb-elements qx-fb-element-lists ".concat(i.toLowerCase()),children:e.props.isSearching?null===(t=e.props.elements)||void 0===t?void 0:t.map(e.renderElement):null===(s=e.props.elementLists[i])||void 0===s?void 0:s.map(e.renderElement)})})),Ml(this,"renderGroup",(e=>{const{renderElements:t}=this;return{label:(0,ot.jsx)("span",{className:"qx-text-capitalize",children:Rs({absoluteKey:e,label:e})}),key:e,children:t(e)}}))}render(){let{groups:e=[],isSearching:t}=this.props;return t?this.renderElements():e.length>0?(0,ot.jsx)(ra.default,{defaultActiveKey:e,expandIconPosition:"end",ghost:!0,items:e.map(this.renderGroup)}):null}}Ll.defaultProps={};const Il=Ll;class Fl extends d.Component{render(){let{onSearch:e,groups:t,context:s,isSearching:i,elementLists:n}=this.props;const a=i?(0,ot.jsx)("i",{onClick:t=>{t.stopPropagation(),e("")},className:"qxio-close"}):null;return(0,ot.jsxs)("div",{className:"qxui-modal--elements",children:[(0,ot.jsx)("div",{className:"elements-list-search",children:(0,ot.jsx)(li.default,{type:"text",prefix:(0,ot.jsx)("i",{className:"qxio-ios-search-strong"}),suffix:a,autoComplete:"off",onChange:t=>e(t.target.value),placeholder:s||Rs({absoluteKey:"Search Element",label:"Search Element"})+"...",value:s,id:"search-elements"})}),(0,ot.jsx)("div",{className:"qx-elements-container",children:(0,ot.jsx)(Il,{groups:t,elements:this.props.elements,isSearching:i,elementLists:n,updateElementList:this.props.updateElementList})})]})}}Fl.propTypes={groups:oo().array.isRequired,context:oo().string,onSearch:oo().func.isRequired},Fl.defaultProps={};const Kl=Fl;var Ul;function zl(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Hl={invokeElementPickerModal:Is};const Bl=(0,c.Ng)((e=>{let{action:{showElementPicker:t}}=e;return{visible:t===B}}),Hl)(Ul=class extends d.Component{constructor(){var e;super(...arguments),e=this,zl(this,"state",{elements:[],groups:[],context:"",elementLists:{},filteredElements:[],isSearching:!1,url:"".concat(ge(),"/index.php?option=com_quix&task=api.getTemplates&type=element&details=true&").concat(as,"=1")}),zl(this,"loadMyElements",(async function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&ke("MY_ELEMENTS");const t={layout:1,basic:2,general:3,advance:4,media:5,joomla:6},s=(Je||[]).reduce(((e,t)=>{if("row"===t.slug)return e;const s=new Set(t.groups);if(s.has("pro")){s.delete("pro");const i="".concat(Array.from(s)),n={...t,tag:"pro",groups:Array.from(s)};return i in e?e[i].push(n):e[i]=[n],e}const i="".concat(t.groups),n={...t,tag:"free"};return i in e?e[i].push(n):e[i]=[n],e}),{});let i=JSON.parse(_e("MY_ELEMENTS"))||[];i.length||(i=await e.fetchAndStoreElements());const n=Object.keys(s).sort(((e,s)=>{var i,n;return(e=null!==(i=t[e])&&void 0!==i?i:1/0)-(null!==(n=t[s])&&void 0!==n?n:1/0)})),a=n.reduce(((e,t)=>(s[t].forEach((t=>e.push(t))),e)),[]),o={text:1,heading:2,button:3,image:4,blurb:5,"icon-list":6,video:7,spacer:8};s.basic=s.basic.sort(((e,t)=>{var s,i;return(e=null!==(s=o[e.slug])&&void 0!==s?s:1/0)-(null!==(i=o[t.slug])&&void 0!==i?i:1/0)})),i.length?(n.push("my elements"),i.forEach((e=>a.push(e))),e.setState({elementLists:{...s,"my elements":i},groups:n,elements:a})):e.setState({elementLists:{...s},groups:n,elements:a})})),zl(this,"fetchAndStoreElements",(async()=>{try{const e=await De().get(this.state.url);if(!e.data)return void Ne("MY_ELEMENTS",JSON.stringify([]));const t=e.data.map((e=>{var t;const s=JSON.parse(e.data).data[0];return s.core_id=e.id,s.name=null!==(t=null==s?void 0:s.name)&&void 0!==t?t:e.title,s.builder_version=e.builder_version,s.groups=["my elements"],s}));return Ne("MY_ELEMENTS",JSON.stringify(t)),t}catch(e){return console.error("Error fetching elements:",e),[]}})),zl(this,"updatedMyElementListWithNewElements",(async e=>{const t=await this.fetchAndStoreElements(),s=[...this.state.groups],i=this.state.elements;i.push(t.find((t=>t.core_id===e))),s.includes("my elements")?this.setState({elementLists:{...this.state.elementLists,"my elements":t,elements:i}}):(s.push("my elements"),this.setState({elementLists:{...this.state.elementLists,"my elements":t},groups:s,elements:i}))})),zl(this,"updateElementList",(e=>{let{name:t,core_id:s}=e;const i=this.state.elements.filter((e=>!e.core_id||e.core_id!==s)),n={...this.state.elementLists};if(n["my elements"]&&1!==n["my elements"].length){let e=n["my elements"].filter((e=>e.core_id!==s));n["my elements"]=e,this.setState({elementLists:n,elements:i}),Ne("MY_ELEMENTS",JSON.stringify(e)),dt.success("".concat(t," element removed"))}else{delete n["my elements"];const e=[...this.state.groups],t=e.indexOf("my elements");t>-1&&e.splice(t,1),Ne("MY_ELEMENTS",JSON.stringify([])),this.setState({elementLists:n,elements:i,groups:e})}})),zl(this,"filterElementByType",((e,t)=>("all"===t||e.groups.includes(t))&&(!e.type||os&&("core"===e.type||e.type===os)))),zl(this,"handleSearch",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t.length?e.setState({isSearching:!0}):e.setState({isSearching:!1}),e.filterSetElements({context:t})})),zl(this,"filterSetElements",(e=>{let{context:t=this.state.context,elements:s=this.state.elements}=e;t.length;let i=[...s].filter((e=>e.name.toLowerCase().includes(t.toLowerCase())));this.setState({filteredElements:i,context:t})}))}componentDidMount(){this.loadMyElements(),window.addEventListener("updateElementList",(async e=>{let{detail:{core_id:t}}=e;await this.updatedMyElementListWithNewElements(t)}))}componentDidUpdate(){this.props.visible?Ns(!1):Ns(!0)}render(){let{context:e,elementLists:t,groups:s}=this.state;return(0,ot.jsx)(Ws.A,{title:"Element List",placement:"right",open:this.props.visible,onClose:()=>this.props.invokeElementPickerModal(),rootClassName:"qx-element-panel",children:(0,ot.jsx)(Kl,{elements:this.state.filteredElements,groups:s,context:e,isSearching:this.state.isSearching,onSearch:this.handleSearch,updateElementList:this.updateElementList,elementLists:t})})}})||Ul;var Wl=s(98974),Vl=s.n(Wl),Jl=s(25640),Gl=s.n(Jl),Ql=s(42494);class Yl extends d.Component{render(){return(0,ot.jsx)("div",{className:"qx-position-cover qx-overlay qx-flex qx-flex-center qx-flex-middle qx-height-large",children:(0,ot.jsx)("div",{role:"progressbar",mode:"indeterminate",className:"mat-spinner mat-progress-spinner mat-primary mat-progress-spinner-indeterminate-animation",style:{width:"100px",height:"100px"},children:(0,ot.jsx)("svg",{preserveAspectRatio:"xMidYMid meet",focusable:"false",viewBox:"0 0 100 100",style:{width:"100px",height:"100px"},children:(0,ot.jsx)("circle",{cx:"50%",cy:"50%",r:"45",className:"ng-star-inserted",style:{animationName:"mat-progress-spinner-stroke-rotate-100",strokeDasharray:"282.743px",strokeWidth:"10%"}})})})})}}const Xl=Yl;var Zl;function $l(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const er=da.default.Option;let tr=null;const sr={insertNodes:Vi};let ir=(0,c.Ng)((e=>{let{action:t}=e;return{sectionPath:t.path}}),sr)(Zl=class extends d.Component{constructor(e){var t;super(e),t=this,$l(this,"loadData",(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t.setState({loading:!0}),e||!_e("qx-page-template"))De().get("".concat(ge(),"/index.php?option=com_quix&task=api.getTemplates&").concat(t.token,"=1&source=remote&type=layout&&min_version=2.0.0")).then((e=>{e.data.items?(t.setState({loading:!1,error:!1,items:e.data.items,originItems:e.data.items,itemTags:e.data.itemTags}),Ne("qx-page-template",{items:e.data.items,itemTags:e.data.itemTags})):t.setState({loading:!1,error:!0})}));else{const e=_e("qx-page-template");t.setState({loading:!1,items:e.items,originItems:e.items,itemTags:e.itemTags})}})),$l(this,"handleSearchTerm",(e=>{if(Le(e))return void this.setState({items:this.state.originItems});if(e.length<3)return;let t=new Ql.A(this.state.originItems,{shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:3,keys:["title","tags"]}).search(e).map((e=>e.item));this.setState({items:t})})),$l(this,"arrayContainsArray",((e,t)=>{if(0===t.length)return!1;let s=!1;return t.every((function(t){return-1===e.indexOf(t)||(s=!0,!1)})),s})),$l(this,"onCategoryChange",(e=>{let t;t="all"===e||Le(e)?this.state.originItems:Gl()(this.state.originItems,(t=>{if(t.tags){const s=Vl()(t.tags,(e=>e.alias));if(this.arrayContainsArray(e,s))return t}})),this.setState({items:t,category:e})})),$l(this,"insert",(e=>{mo(this,e)})),$l(this,"goToPreviewPage",(e=>{null===tr?tr=window.open("https://getquix.net/"+e):tr.location.href="https://getquix.net/"+e})),$l(this,"renderPageTemplate",(e=>{const t="true"===e.license||"pro"===e.license,s=ce()("qx-fb-template-item qx-fb-template-item--page qx-box-shadow-small qx-box-shadow-hover-large",{"qx-fb-template--pro":t});let i=(0,ot.jsxs)("button",{onClick:this.insert.bind(this,e.id),className:"qx-button qx-button-small qx-button-primary qx-btn--insert qx-width-1-2",children:[(0,ot.jsx)("i",{className:"qxuicon-download"})," Insert"]});return t&&"free"===this.state.is_pro_user&&(i=(0,ot.jsxs)("a",{target:"_blank",href:"https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=section-modal",className:"qx-button qx-button-small qx-button-danger qx-fb-template-action qx-btn--gopro qx-width-1-2 qx-flex qx-flex-middle",children:[(0,ot.jsx)("i",{className:"qxuicon-external-link qx-margin-right"})," Go Pro"]})),t&&"inactive"===this.state.is_pro_user&&(i=(0,ot.jsxs)("a",{target:"_blank",href:ye()+"administrator/index.php?option=com_quix",className:"qx-button qx-button-small qx-button-danger qx-fb-template-action qx-btn--gopro qx-width-1-2 qx-flex qx-flex-middle",children:[(0,ot.jsx)("i",{className:"qxuicon-lock qx-margin-right"})," Locked"]})),(0,ot.jsx)("div",{className:"qx-width-1-3@m qx-width-1-2@s",style:{height:"381px"},children:(0,ot.jsxs)("div",{className:s,children:[(0,ot.jsx)("div",{className:"qx-fb-template-item__thumb",children:(0,ot.jsx)("img",{src:Ue(e.images),alt:"preview"})}),(0,ot.jsxs)("div",{className:"qx-fb-template-item__footer",children:[(0,ot.jsx)("span",{className:"qx-fb-template-name qx-mb-2 qx-mt-2 qx-text-dark",children:e.title}),(0,ot.jsxs)("div",{className:"qx-btn-group qx-flex",children:[(0,ot.jsxs)("button",{onClick:this.goToPreviewPage.bind(this,e.previewurl),className:"qx-button qx-button-small qx-button-secondary qx-btn--preview qx-width-1-2",children:[(0,ot.jsx)("i",{className:"qxuicon-eye"})," Preview"]}),i]})]})]})},e.id)})),this.state={items:[],itemTags:[],category:"all",originItems:[],loading:!1,inserting:!1,error:!1,is_pro_user:"free"},this.token=je(),this._mounted=!1}componentDidMount(){this._mounted=!0,this.setState({is_pro_user:ve()}),this.loadData()}componentWillUnmount(){this._mounted=!1}render(){const e=(0,ot.jsx)("div",{className:"qx-data-loading-error",children:"Please check your internet connection"});return(0,ot.jsxs)("div",{className:"qx-fb-template qx-container-fluid",children:[(0,ot.jsxs)("div",{className:"qx-fb-template__header qx-grid",children:[(0,ot.jsx)("div",{className:"qx-column qx-width-3-5 ",children:(0,ot.jsxs)(da.default,{disabled:this.state.loading,value:this.state.category,onChange:this.onCategoryChange,style:{width:"auto",minWidth:"200px"},showSearch:!0,allowClear:!0,autoFocus:!0,mode:"default",placeholder:"Category",prefixCls:"qxui-select",getPopupContainer:()=>window.document.body,children:[(0,ot.jsx)(er,{value:"all",children:"All"},"all"),this.state.itemTags.map((e=>(0,ot.jsx)(er,{value:e.alias,children:e.title},e.alias)))]})}),(0,ot.jsxs)("div",{className:"qx-column qx-flex qx-flex-middle qx-width-2-5 qx-flex-right",children:[(0,ot.jsx)(ai.default,{title:"Reload",children:(0,ot.jsx)("button",{className:"qxui-btn qxui-btn-link qx-mr-2",onClick:()=>{this.loadData(!0)},children:(0,ot.jsx)("i",{className:"qxio-refresh"})})}),(0,ot.jsx)(xi,{disabled:this.state.loading,onlyBaseText:!0,placeholder:"Search",onChange:this.handleSearchTerm,prefixCls:"qxui-input-search",inputPrefixCls:"qxui-input",allowClear:!0})]})]}),(0,ot.jsx)("div",{className:"qx-fb-template__body",children:this.state.loading?(0,ot.jsx)(Xl,{}):(0,ot.jsx)("div",{id:"pageTemplateWrapper",className:"qx-background-default",children:(0,ot.jsxs)("div",{className:"qx-grid","data-qx-grid":"",children:[this.state.error?e:null,this.state.items.map(this.renderPageTemplate)]})})})]})}})||Zl;const nr=ir;var ar;function or(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const lr=da.default.Option;let rr=null;const dr={insertNodes:Vi};let cr=(0,c.Ng)((e=>{let{action:t}=e;return{sectionPath:t.path}}),dr)(ar=class extends d.Component{constructor(e){var t;super(e),t=this,or(this,"loadData",(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.setState({loading:!0});let s=_e("qx-page-template");if(!e&&s&&null!=s&&s.items&&null!=s&&s.layoutCategory){let e=t.prepareGroupBundle(s.items,s.layoutCategory),i=t.getItemsCategory(s.items,s.layoutCategory);t.setState({loading:!1,items:e,itemsCategory:i,originItems:s.items,itemTags:s.itemTags,layoutCategory:s.layoutCategory})}else De().get("".concat(ge(),"/index.php?option=com_quix&task=api.getTemplates&").concat(t.token,"=1&source=remote&type=layout&min_version=2.0.0")).then((e=>{if(e.data.items){var s,i;let n=t.prepareGroupBundle(e.data.items,e.data.layout_category);t.getItemsCategory(e.data.items,e.data.layout_category),t.setState({loading:!1,error:!1,items:n,itemsCategory:n,originItems:e.data.items,itemTags:e.data.itemTags,layoutCategory:null===(s=e.data)||void 0===s?void 0:s.layout_category}),Ne("qx-page-template",{items:e.data.items,itemTags:e.data.itemTags,layoutCategory:null===(i=e.data)||void 0===i?void 0:i.layout_category})}else t.setState({loading:!1,error:!0})}))})),or(this,"prepareGroupBundle",((e,t)=>{let s={};return e.filter((e=>e.parent_category===t.id)).forEach((e=>{if(void 0===s[e.catid]){let t={id:e.catid,title:e.category_title,alias:e.category_alias,preview:"",items:[]};s[e.catid]=t}"1"===e.featured&&(s[e.catid].preview=e.images),s[e.catid].items.push(e)})),Object.values(s)})),or(this,"getItemsCategory",((e,t)=>{let s={};return e.filter((e=>e.parent_category===t.id)).forEach((e=>{if(void 0===s[e.catid]){let t={id:e.catid,title:e.category_title,alias:e.category_alias};s[e.catid]=t}})),Object.values(s)})),or(this,"handleSearchTerm",(e=>{let t=new Ql.A(this.state.originItems,{shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:3,keys:["title"]}).search(e);Le(e)?this.setState({items:this.state.originItems,category:"all"}):this.setState({items:t,category:"all"})})),or(this,"arrayContainsArray",((e,t)=>{if(0===t.length)return!1;let s=!1;return t.every((function(t){return-1===e.indexOf(t)||(s=!0,!1)})),s})),or(this,"onCategoryChange",(e=>{let t;t=this.prepareGroupBundle(this.state.originItems,this.state.layoutCategory),"all"===e||Le(e)||(t=Gl()(t,(t=>{if(e===t.alias)return t}))),this.setState({items:t,category:e})})),or(this,"insert",(e=>{mo(this,e)})),or(this,"goToPreviewPage",(e=>{null===rr?rr=window.open("https://getquix.net/"+e):rr.location.href="https://getquix.net/"+e})),or(this,"renderLayoutClick",(e=>{this.setState({showLayoutItem:e})})),or(this,"renderLayout",((e,t)=>{var s;if(e.items)return(0,ot.jsx)("div",{className:"qx-margin-bottom",style:{height:"381px"},onClick:()=>this.renderLayoutClick(e),children:(0,ot.jsxs)("div",{className:"qx-bundle-layouts-item qx-fb-template-item qx-fb-template-item--page",children:[(0,ot.jsx)("div",{className:"qx-fb-template-item__thumb",children:e.preview?(0,ot.jsx)("img",{src:e.preview,alt:"preview"}):(0,ot.jsx)("img",{src:"https://quix.b-cdn.net/images/sample.png",alt:"preview"})}),(0,ot.jsxs)("div",{className:"qx-fb-template-item__footer",children:[(0,ot.jsx)("span",{className:"qx-fb-template-name qx-mt-2",children:e.title}),(0,ot.jsxs)("span",{className:"qx-display-block qx-text-center qx-text-muted",children:[null==e||null===(s=e.items)||void 0===s?void 0:s.length," Layouts"]})]})]})},e.id)})),or(this,"renderActiveLayout",(()=>{let e=this.state.showLayoutItem;return(0,ot.jsxs)("div",{className:"qx-container-fluid",children:[(0,ot.jsxs)("h3",{className:"qx-margin-bottom",style:{marginTop:"-10px"},children:[e.title,(0,ot.jsx)("button",{type:"button",className:"qxui-btn qx-align-right",onClick:()=>{this.setState({showLayoutItem:!1})},children:(0,ot.jsx)("i",{className:"qxuicon-arrow-left"})})]}),(0,ot.jsx)("div",{className:"qx-grid qx-child-width-1-3","qx-grid":"true",children:e.items.map((e=>{const t="true"===e.license||"pro"===e.license,s=ce()("qx-fb-template-item qx-fb-template-item--page qx-box-shadow-small qx-box-shadow-hover-large",{"qx-fb-template--pro":t});let i=(0,ot.jsxs)("button",{onClick:()=>this.insert(e.id),className:"qx-button qx-button-small qx-button-primary qx-btn--insert qx-width-1-2",children:[(0,ot.jsx)("i",{className:"qxuicon-download"})," Insert"]});return t&&"free"===this.state.is_pro_user?i=(0,ot.jsxs)("a",{target:"_blank",href:"https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=section-modal",className:"qx-button qx-button-small qx-button-danger qx-fb-template-action qx-btn--gopro qx-width-1-2 qx-flex qx-flex-middle",children:[(0,ot.jsx)("i",{className:"qxuicon-external-link qx-margin-small-right"})," Go Pro"]}):t&&"inactive"===this.state.is_pro_user&&(i=(0,ot.jsxs)("a",{target:"_blank",href:ye()+"administrator/index.php?option=com_quix",className:"qx-button qx-button-small qx-button-danger qx-fb-template-action qx-btn--gopro qx-width-1-2 qx-flex qx-flex-middle",children:[(0,ot.jsx)("i",{className:"qxuicon-lock qx-margin-small-right"})," Locked"]})),(0,ot.jsx)("div",{className:"qx-width-1-3@m qx-width-1-2@s",children:(0,ot.jsxs)("div",{className:s,children:[(0,ot.jsx)("div",{className:"qx-text-center",children:(0,ot.jsx)("img",{src:Ue(e.images),alt:"preview",width:"288",height:"311"})}),(0,ot.jsxs)("div",{className:"qx-fb-template-item__footer",children:[(0,ot.jsx)("span",{className:"qx-fb-template-name qx-text-muted",children:e.title}),(0,ot.jsxs)("div",{className:"qx-flex",children:[(0,ot.jsxs)("button",{onClick:this.goToPreviewPage.bind(this,e.previewurl),className:"qx-button qx-button-small qx-button-secondary qx-btn--preview qx-width-1-2 qx-flex qx-flex-middle",children:[(0,ot.jsx)("i",{className:"qxuicon-eye qx-margin-small-right"}),"Preview"]}),i]})]})]})},e.id)}))})]})})),this.state={items:[],itemsCategory:[],itemTags:[],category:"all",originItems:[],loading:!1,inserting:!1,error:!1,is_pro_user:"free",layoutCategory:{id:0},showLayoutItem:!1},this.token=je(),this._mounted=!1}componentDidMount(){this._mounted=!0,this.setState({is_pro_user:ve()}),this.loadData()}componentWillUnmount(){this._mounted=!1}render(){const e=(0,ot.jsx)("div",{className:"qx-data-loading-error",children:"Please check your internet connection"});return(0,ot.jsxs)("div",{className:"qx-fb-template qx-flex qx-flex-column",children:[(0,ot.jsxs)("div",{className:"qx-fb-template__header qx-flex",children:[(0,ot.jsx)("div",{className:"qx-column qx-width-3-5 ",children:(0,ot.jsxs)(da.default,{disabled:this.state.loading,value:this.state.category,onChange:this.onCategoryChange,style:{width:"auto",minWidth:"200px"},showSearch:!0,allowClear:!0,autoFocus:!0,mode:"default",placeholder:"Category",prefixCls:"qxui-select",getPopupContainer:()=>window.document.body,children:[(0,ot.jsx)(lr,{value:"all",children:"All"},"all"),this.state.itemsCategory.map((e=>(0,ot.jsx)(lr,{value:e.alias,children:e.title},e.alias)))]})}),(0,ot.jsx)("div",{className:"qx-column qx-flex qx-flex-middle qx-width-2-5 qx-flex-right",children:(0,ot.jsx)(ai.default,{title:"Reload",children:(0,ot.jsxs)("button",{className:"qxui-btn qx-mr-2 qxui-bundle-reload-btn",onClick:()=>{this.loadData(!0)},children:[(0,ot.jsx)("i",{className:"qxio-refresh"})," Reload List"]})})})]}),(0,ot.jsx)("div",{className:"qx-fb-template__body",children:this.state.loading?(0,ot.jsx)(Xl,{}):(0,ot.jsxs)("div",{id:"layoutTemplateWrapper",className:"qx-position-relative qx-background-default",children:[(0,ot.jsxs)("div",{className:"qx-grid qx-child-width-1-3@m qx-child-width-1-2@s ","qx-grid":"true",style:{display:this.state.showLayoutItem?"none":"flex"},children:[this.state.error?e:null,this.state.items.map(this.renderLayout)]}),(0,ot.jsx)("div",{id:"layouts-all-items",style:{display:this.state.showLayoutItem?"block":"none"},children:this.state.showLayoutItem?this.renderActiveLayout():null})]})})]})}})||ar;const pr=cr;var ur,hr=s(74803),mr=s.n(hr);function xr(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const gr=da.default.Option,vr={insertNodes:Vi};let fr=(0,c.Ng)((e=>{let{action:t}=e;return{sectionPath:t.path}}),vr)(ur=class extends d.Component{constructor(e){var t;super(e),t=this,xr(this,"loadData",(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t.setState({loading:!0}),e||!_e("qx-section-template"))De().get("".concat(ge(),"/index.php?option=com_quix&task=api.getTemplates&").concat(t.token,"=1&source=remote&type=section&min_version=2.0.0")).then((e=>{if(e.data.items){let s=mr()(e.data.itemTags,"title");t.setState({loading:!1,error:!1,items:e.data.items,originItems:e.data.items,itemTags:s}),Ne("qx-section-template",{items:e.data.items,itemTags:s})}else t.setState({loading:!1,error:!0})}));else{const e=_e("qx-section-template");t.setState({loading:!1,items:e.items,originItems:e.items,itemTags:e.itemTags})}})),xr(this,"handleSearchTerm",(e=>{if(Le(e)&&this.setState({items:this.state.originItems}),e.length<3)return;let t=new Ql.A(this.state.originItems,{shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:3,keys:["title","tags"]}).search(e).map((e=>e.item));this.setState({items:t})})),xr(this,"arrayContainsArray",((e,t)=>{if(0===t.length)return!1;let s=!1;return t.every((function(t){return-1===e.indexOf(t)||(s=!0,!1)})),s})),xr(this,"onCategoryChange",(e=>{let t;t="all"===e||Le(e)?this.state.originItems:Gl()(this.state.originItems,(t=>{if(t.tags){const s=Vl()(t.tags,(e=>e.alias));if(this.arrayContainsArray(e,s))return t}})),this.setState({items:t,category:e})})),xr(this,"insert",(e=>{mo(this,e)})),xr(this,"renderSectionTemplate",(e=>{const t="true"===e.license||"pro"===e.license,s=ce()("qx-fb-template-item qx-fb-template-item--section qx-margin",{"qx-fb-template--pro":t});let i=(0,ot.jsxs)("a",{onClick:()=>this.insert(e.id),className:"qx-btn qx-btn-success qx-fb-template-action",children:[(0,ot.jsx)("i",{className:"qxuicon-download"})," Insert"]}),n=null;return t&&"free"===this.state.is_pro_user&&(n=(0,ot.jsxs)("a",{target:"_blank",href:"https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=section-modal",className:"qx-btn qx-btn-warning qx-fb-template-action qx-btn--gopro",children:[(0,ot.jsx)("i",{className:"qxuicon-external-link"})," Go Pro"]})),t&&"inactive"===this.state.is_pro_user&&(n=(0,ot.jsxs)("a",{target:"_blank",href:ye()+"administrator/index.php?option=com_quix",className:"qx-btn qx-btn-info qx-fb-template-action qx-btn--gopro",children:[(0,ot.jsx)("i",{className:"qxuicon-external-link"})," Activate License"]})),(0,ot.jsx)("div",{children:(0,ot.jsxs)("div",{className:s,children:[(0,ot.jsx)("div",{className:"qx-fb-template-item__thumb",children:(0,ot.jsx)("img",{className:"qx-img qx-sortable-empty",src:Ue(e.images),width:"100%",alt:"preview"})}),(0,ot.jsxs)("div",{className:"qx-fb-template-item__footer qx-flex-column",children:[n||i,(0,ot.jsx)("span",{className:"qx-fb-template-name",children:e.title}),n&&t?(0,ot.jsxs)("span",{className:"qx-fb-template-pro qx-mark qx-text-center",children:["Available only with the ",(0,ot.jsx)("strong",{children:"Quix Pro"})," active license"]}):null]})]})},e.id)})),this.state={items:[],itemTags:[],category:"all",originItems:[],loading:!1,inserting:!1,error:!1,is_pro_user:"free"},this.token=je(),this._mounted=!1}componentDidMount(){this._mounted=!0,this.setState({is_pro_user:ve()}),this.loadData()}componentWillUnmount(){this._mounted=!1}render(){const e=(0,ot.jsx)("div",{className:"qx-data-loading-error",children:"Please check your internet connection"});return(0,ot.jsxs)("div",{className:"qx-fb-template qx-container-fluid",children:[(0,ot.jsxs)("div",{className:"qx-fb-template__header qx-grid",children:[(0,ot.jsx)("div",{className:"qx-column qx-width-3-5 qx-flex",children:(0,ot.jsxs)(da.default,{disabled:this.state.loading,value:this.state.category,onChange:this.onCategoryChange,style:{width:"auto",minWidth:"200px"},showSearch:!0,allowClear:!0,autoFocus:!0,mode:"default",placeholder:"Category",prefixCls:"qxui-select",getPopupContainer:()=>window.document.body,children:[(0,ot.jsx)(gr,{value:"all",children:"All"},"all"),this.state.itemTags.map((e=>(0,ot.jsx)(gr,{value:e.alias,children:e.title},e.alias)))]})}),(0,ot.jsxs)("div",{className:"qx-column qx-flex qx-flex-middle qx-width-2-5 qx-flex-right",children:[(0,ot.jsx)(ai.default,{title:"Reload",children:(0,ot.jsx)("button",{className:"qxui-btn qxui-btn-link qx-mr-2",onClick:()=>{this.loadData(!0)},children:(0,ot.jsx)("i",{className:"qxio-refresh"})})}),(0,ot.jsx)(xi,{disabled:this.state.loading,onlyBaseText:!0,placeholder:"Search",onChange:this.handleSearchTerm,prefixCls:"qxui-input-search",inputPrefixCls:"qxui-input",allowClear:!0})]})]}),"inactive"===this.state.is_pro_user?(0,ot.jsxs)("p",{className:"qx-alert qx-alert-warning qx-text-center",style:{margin:"0px auto",lineHeight:1},children:["Your license is not activated. Please active your license from ",(0,ot.jsx)("a",{href:ye()+"administrator/index.php?option=com_quix",target:"_blank",children:"Dashboard"})]}):null,(0,ot.jsxs)("div",{className:"qx-fb-template__body qx-row",children:[this.state.error?e:null,this.state.loading?(0,ot.jsx)(Xl,{}):(0,ot.jsx)("div",{id:"sectionTemplateWrapper",children:this.state.items.map(this.renderSectionTemplate)})]})]})}})||ur;const yr=fr;var br=s(10009);function wr(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class jr extends d.Component{constructor(e){super(e),wr(this,"handleChange",(e=>{const t=e.target.value;this.setState({value:t})})),wr(this,"check",(()=>{this.setState({editable:!1}),this.props.onChange&&this.props.onChange(this.state.value)})),wr(this,"edit",(()=>{this.setState({editable:!0})})),this.state={value:this.props.value,editable:!1}}render(){const{value:e,editable:t}=this.state;return(0,ot.jsx)("div",{className:"editable-cell",children:t?(0,ot.jsxs)("div",{className:"editable-cell-input-wrapper",children:[(0,ot.jsx)(li.default,{value:e,onChange:this.handleChange,onPressEnter:this.check}),(0,ot.jsx)("i",{className:"qxuicon-check editable-cell-icon-check",onClick:this.check})]}):(0,ot.jsxs)("div",{className:"editable-cell-text-wrapper",children:[e||" ",(0,ot.jsx)("i",{className:"qxuicon-edit editable-cell-icon",onClick:this.edit})]})})}}const qr=jr;var Cr;const{Dragger:Sr}=un.A;let _r=(0,c.Ng)((e=>{let{action:t}=e;return{action:t.action}}),{})(Cr=class extends d.Component{constructor(e){var t,s,i,n;super(e),t=this,i=e=>{hn(e,["json"]).then((e=>{var t;const s=JSON.parse(e),i={type:s.type,data:s.data};let n=jQuery("#jform_token").attr("name"),a=new FormData;a.set("jform[data]",JSON.stringify(i)),a.set("jform[title]",s.title),a.set("jform[builder]","frontend"),a.set("jform[type]",s.type),a.set("jform[state]","1"),a.set("jform[id]","0"),a.set("id","0"),a.set("builder_version",null!==(t=s.builder_version)&&void 0!==t?t:"2.0.0"),a.set("importing",1),a.set("type","collection"),a.set(n,"1"),De()({method:"post",url:"".concat(ge(),"/index.php?option=com_quix&task=collection.save"),data:a,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((e=>{let t=e.data;"object"==typeof t?(t.success?dt.success("Imported successfully!"):dt.warning(t.message),this.props.onImportDone(i)):dt.error(t)})).catch((()=>this.setState({process:!1})))}))},(s="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(s="onFileUploadDone"))?n:String(n))in t?Object.defineProperty(t,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[s]=i}render(){const e={data:this.onFileUploadDone};return(0,ot.jsx)(bn,{width:550,classes:"quix-library-importer",show:this.props.show,close:()=>this.props.onClose(),title:"Import To Library",bodyStyle:{minHeight:300},style:{left:"calc(50vw - 225px)"},onCancel:()=>this.props.onClose(),closeModal:()=>this.props.onClose(),children:(0,ot.jsxs)(Sr,{...e,children:[(0,ot.jsx)("p",{style:{color:"var(--qx-text-color-dark-mode, #333)"},children:(0,ot.jsx)("i",{className:"qxuicon-box-full qx-text-primary qx-text-large"})}),(0,ot.jsx)("h5",{style:{color:"var(--qx-text-color-dark-mode, #333)"},className:"qx-margin-small-top qx-margin-small-bottom",children:"Import Template To Library"}),(0,ot.jsxs)("p",{style:{color:"var(--qx-text-color-dark-mode, #333)"},children:["Click or drag ",(0,ot.jsx)("em",{children:".json"})," file to this area to upload"]})]})})}})||Cr;const Nr=_r;var kr;function Er(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let Pr=null;const Tr={insertNodes:Vi};let Ar=(0,c.Ng)((e=>{let{action:t}=e;return{action:t.action,sectionPath:t.path}}),Tr)(kr=class extends d.Component{constructor(e){super(e),Er(this,"loadData",(e=>{De().get(e).then((e=>{let t=Vl()(e.data,(e=>(e.type="layout"===e.type.toLowerCase()?"page":e.type,e)));this.setState({loadingDone:!0,data:t,originData:t,reloadData:!1})}))})),Er(this,"preview",(e=>{null===Pr?Pr=window.open("index.php?option=com_quix&view=collection&id=".concat(e)):Pr.location.href="index.php?option=com_quix&view=collection&id=".concat(e)})),Er(this,"onCellChange",((e,t)=>s=>{const i=[...this.state.originData],n=i.find((t=>t.key===e));n&&(n[t]=s,this.setState({data:i,originData:i}),De().get(this.updateNameApi+"&name=".concat(n.title,"&id=").concat(n.id)).then((()=>{dt.success("Template name updated")})))})),Er(this,"onDelete",(e=>{const t=[...this.state.originData].filter((t=>t.id!==e));this.setState({originData:t,data:t}),De().get(this.templateDeleteApi+"&id=".concat(e)).then((()=>{dt.success("Template deleted")}))})),Er(this,"handleFilterChange",(e=>{let t;t="all"===e?this.state.originData:Gl()(this.state.originData,(t=>{if(t.type===e)return t})),this.setState({filterBy:e,data:t})})),Er(this,"handleSearchTerm",(e=>{if(Le(e)&&this.setState({data:this.state.originData}),e.length<3)return;let t=new Ql.A(this.state.originData,{shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["title"]}).search(e).map((e=>e.item));this.setState({data:t})})),Er(this,"insert",(e=>{this.setState({loading:!0}),De().get("".concat(this.getTemplate,"&id=").concat(e)).then((e=>{const t=JSON.parse(e.data.data);if(void 0===typeof t||!t.data)return dt.warning("[ ".concat(e.data.title," ] is an empty section. Can't process the request.")),void this.setState({loading:!1});if("layout"===t.type)this.props.insertNodes(this.props.sectionPath,t.data),this.setState({loading:!1}),dt.success("[ ".concat(e.data.title," ] template inserted"));else{let s=t.data;Array.isArray(s)||(s=[s]),this.props.insertNodes(this.props.sectionPath,[...s]),this.setState({loading:!1}),dt.success("[ ".concat(e.data.title," ] template inserted"))}}))})),Er(this,"importModal",(()=>{this.setState({showImportModal:!0})})),Er(this,"onExport",((e,t)=>{De().get(this.exportApi+"&id=".concat(e)).then((e=>{var s;let i="".concat(t,".json"),n=e.data.data.config,a={groups:[],title:t,type:n.type,builder_version:null!==(s=n.builder_version)&&void 0!==s?s:"2.0.0",data:n.data};Oa(JSON.stringify(a),i,"application/json")}))})),Er(this,"onClose",(()=>{this.props.closeModal&&this.props.closeModal()})),this.token=je(),this.url="".concat(ge(),"/index.php?option=com_quix&task=api.getTemplates&").concat(this.token,"=1"),this.getTemplate="".concat(ge(),"/index.php?option=com_quix&task=api.getTemplate&").concat(this.token,"=1"),this.updateNameApi="".concat(ge(),"/index.php?option=com_quix&task=collection.updateName&").concat(this.token,"=1"),this.templateDeleteApi="".concat(ge(),"/index.php?option=com_quix&task=collection.updateState&state=2&").concat(this.token,"=1"),this.exportApi="".concat(ge(),"/index.php?option=com_quix&task=api.exportCollection&").concat(this.token,"=1"),this.state={loadingDone:!1,filter:"all",data:[],originData:[],columns:[{title:"Title",dataIndex:"title",key:"title",render:(e,t)=>(0,ot.jsx)(qr,{value:e,onChange:this.onCellChange(t.key,"title")})},{title:"Type",dataIndex:"type",key:"type",render:e=>"page"===e||"section"===e||"layout"===e?(0,ot.jsx)("span",{className:"label",children:e}):(0,ot.jsx)("span",{className:"label label-warning",children:e})},{title:"Created By",dataIndex:"created_by",key:"created_by"},{title:"Action",key:"action",render:(e,t)=>(0,ot.jsxs)("span",{children:[(0,ot.jsxs)("button",{type:"button",onClick:()=>Se()?dt.upgradeToPro(void 0,"insert-json"):this.insert(t.id),className:"qxui-btn qxui-btn-default",children:[(0,ot.jsx)("i",{className:"qxuicon-download"})," Insert"]}),(0,ot.jsxs)("div",{className:"qxui-btn-group qx-float-right",children:[(0,ot.jsx)("button",{type:"button",onClick:()=>this.onDelete(t.id),className:"qxui-btn qxui-btn-default",title:"Delete",children:(0,ot.jsx)("i",{className:"qxuicon-trash-alt"})}),(0,ot.jsx)("button",{type:"button",onClick:()=>Se()?dt.upgradeToPro(void 0,"export-json"):this.onExport(t.id,t.title),className:"qxui-btn qxui-btn-default",title:"Export",children:(0,ot.jsx)("i",{className:"qxuicon-sign-out"})})]})]})}],showImportModal:!1,reloadData:!1}}componentDidMount(){this.loadData(this.url)}componentDidUpdate(e,t,s){this.state.reloadData&&this.loadData(this.url)}render(){return(0,ot.jsxs)("div",{className:"qx-fb-template qx-container-fluid my-templates-list",children:[(0,ot.jsxs)("div",{className:"qx-fb-template__header qx-flex qx-flex-between",children:[(0,ot.jsxs)("div",{style:{gap:10},className:"qx-column",children:[(0,ot.jsx)("button",{type:"button",style:{paddingInline:15},onClick:()=>this.handleFilterChange("all"),className:ce()("qxui-btn qxui-btn-default",{"qx-active":"all"===this.state.filter}),children:"All"}),(0,ot.jsx)("button",{type:"button",style:{paddingInline:15},onClick:()=>this.handleFilterChange("section"),className:ce()("qxui-btn qxui-btn-default",{"qx-active":"section"===this.state.filter}),children:"Section"}),(0,ot.jsx)("button",{type:"button",style:{paddingInline:15},onClick:()=>this.handleFilterChange("page"),className:ce()("qxui-btn qxui-btn-default",{"qx-active":"page"===this.state.filter}),children:"Page"}),(0,ot.jsx)("button",{type:"button",style:{paddingInline:15},onClick:()=>this.handleFilterChange("header"),className:ce()("qxui-btn qxui-btn-default",{"qx-active":"header"===this.state.filter}),children:"Header"}),(0,ot.jsx)("button",{type:"button",style:{paddingInline:15},onClick:()=>this.handleFilterChange("footer"),className:ce()("qxui-btn qxui-btn-default",{"qx-active":"footer"===this.state.filter}),children:"Footer"})]}),(0,ot.jsxs)("div",{className:"qx-column",children:[(0,ot.jsx)(ci(),{type:"button",className:"qxui-btn qxui-btn-link",onClick:()=>{this.setState({reloadData:!0})},children:(0,ot.jsx)("i",{className:"qxio-ios-reload"})}),(0,ot.jsx)(ci(),{disabled:!this.state.loadingDone,onClick:()=>Se()?dt.upgradeToPro(void 0,"import-json"):this.importModal(),className:"qxui-btn qxui-btn-primary qx-margin-small-right",children:(0,ot.jsx)("i",{className:"qxuicon-upload"})}),(0,ot.jsx)(xi,{placeholder:"Search",onlyBaseText:!0,onChange:this.handleSearchTerm,prefixCls:"qxui-input-search",inputPrefixCls:"qxui-input",allowClear:!0})]})]}),this.state.loading?(0,ot.jsx)(Xl,{}):(0,ot.jsx)("div",{className:"qx-template__list",children:(0,ot.jsx)(br.A,{pagination:!1,rowKey:e=>e.id,columns:this.state.columns,dataSource:this.state.data,prefixCls:"qxui-table",style:{paddingBlock:15}})}),(0,ot.jsx)(Nr,{show:this.state.showImportModal,onClose:()=>this.setState({showImportModal:!1}),onImportDone:()=>this.setState({showImportModal:!1,reloadData:!0})})]})}})||kr;const Or=Ar;var Dr;function Rr(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Mr=da.default.Option,Lr={insertNodes:Vi};let Ir=(0,c.Ng)((e=>{let{action:t}=e;return{sectionPath:t.path}}),Lr)(Dr=class extends d.Component{constructor(e){var t;super(e),t=this,Rr(this,"loadData",(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t.setState({loading:!0}),e||!_e("qx-header-template"))De().get("".concat(ge(),"/index.php?option=com_quix&task=api.getTemplates&").concat(t.token,"=1&source=remote&type=header&min_version=4.0.0")).then((e=>{if(e.data.items){let s=mr()(e.data.itemTags,"title");t.setState({loading:!1,error:!1,items:e.data.items,originItems:e.data.items,itemTags:s}),Ne("qx-header-template",{items:e.data.items,itemTags:s})}else t.setState({loading:!1,error:!0})}));else{const e=_e("qx-header-template");t.setState({loading:!1,items:e.items,originItems:e.items,itemTags:e.itemTags})}})),Rr(this,"handleSearchTerm",(e=>{if(Le(e)&&this.setState({items:this.state.originItems}),e.length<3)return;let t=new Ql.A(this.state.originItems,{shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:3,keys:["title","tags"]}).search(e).map((e=>e.item));this.setState({items:t})})),Rr(this,"arrayContainsArray",((e,t)=>{if(0===t.length)return!1;let s=!1;return t.every((function(t){return-1===e.indexOf(t)||(s=!0,!1)})),s})),Rr(this,"onCategoryChange",(e=>{let t;t="all"===e||Le(e)?this.state.originItems:Gl()(this.state.originItems,(t=>{if(t.tags){const s=Vl()(t.tags,(e=>e.alias));if(this.arrayContainsArray(e,s))return t}})),this.setState({items:t,category:e})})),Rr(this,"insert",(e=>{mo(this,e)})),Rr(this,"renderSectionTemplate",(e=>{const t="true"===e.license||"pro"===e.license,s=ce()("qx-fb-template-item qx-fb-template-item--section qx-margin",{"qx-fb-template--pro":t});let i=(0,ot.jsxs)("a",{onClick:()=>this.insert(e.id),className:"qx-btn qx-btn-success qx-fb-template-action",children:[(0,ot.jsx)("i",{className:"qxuicon-download"})," Insert"]}),n=null;return t&&"free"===this.state.is_pro_user&&(n=(0,ot.jsxs)("a",{target:"_blank",href:"https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=section-modal",className:"qx-btn qx-btn-warning qx-fb-template-action qx-btn--gopro",children:[(0,ot.jsx)("i",{className:"qxuicon-external-link"})," Go Pro"]})),t&&"inactive"===this.state.is_pro_user&&(n=(0,ot.jsxs)("a",{target:"_blank",href:ye()+"administrator/index.php?option=com_quix",className:"qx-btn qx-btn-info qx-fb-template-action qx-btn--gopro",children:[(0,ot.jsx)("i",{className:"qxuicon-external-link"})," Activate License"]})),(0,ot.jsx)("div",{children:(0,ot.jsxs)("div",{className:s,children:[(0,ot.jsx)("div",{className:"qx-fb-template-item__thumb",children:(0,ot.jsx)("img",{className:"qx-img qx-sortable-empty",src:Ue(e.images),width:"100%",alt:"preview"})}),(0,ot.jsxs)("div",{className:"qx-fb-template-item__footer qx-flex-column",children:[n||i,(0,ot.jsx)("span",{className:"qx-fb-template-name",children:e.title}),n&&t?(0,ot.jsxs)("span",{className:"qx-fb-template-pro qx-mark qx-text-center",children:["Available only with the ",(0,ot.jsx)("strong",{children:"Quix Pro"})," active license"]}):null]})]})},e.id)})),this.state={items:[],itemTags:[],category:"all",originItems:[],loading:!1,inserting:!1,error:!1,is_pro_user:"free"},this.token=je(),this._mounted=!1}componentDidMount(){this._mounted=!0,this.setState({is_pro_user:ve()}),this.loadData()}componentWillUnmount(){this._mounted=!1}render(){const e=(0,ot.jsx)("div",{className:"qx-data-loading-error",children:"Please check your internet connection"});return(0,ot.jsxs)("div",{className:"qx-fb-template qx-container-fluid",children:[(0,ot.jsxs)("div",{className:"qx-fb-template__header qx-grid",children:[(0,ot.jsx)("div",{className:"qx-column qx-width-3-5 qx-flex",children:(0,ot.jsxs)(da.default,{disabled:this.state.loading,value:this.state.category,onChange:this.onCategoryChange,style:{width:"auto",minWidth:"200px"},showSearch:!0,allowClear:!0,autoFocus:!0,mode:"default",placeholder:"Category",prefixCls:"qxui-select",getPopupContainer:()=>window.document.body,children:[(0,ot.jsx)(Mr,{value:"all",children:"All"},"all"),this.state.itemTags.map((e=>(0,ot.jsx)(Mr,{value:e.alias,children:e.title},e.alias)))]})}),(0,ot.jsxs)("div",{className:"qx-column qx-flex qx-flex-middle qx-width-2-5 qx-flex-right",children:[(0,ot.jsx)(ai.default,{title:"Reload",children:(0,ot.jsx)("button",{className:"qxui-btn qxui-btn-link qx-mr-2",onClick:()=>{this.loadData(!0)},children:(0,ot.jsx)("i",{className:"qxio-refresh"})})}),(0,ot.jsx)(xi,{disabled:this.state.loading,onlyBaseText:!0,placeholder:"Search",onChange:this.handleSearchTerm,prefixCls:"qxui-input-search",inputPrefixCls:"qxui-input",allowClear:!0})]})]}),"inactive"===this.state.is_pro_user?(0,ot.jsxs)("p",{className:"qx-alert qx-alert-warning qx-text-center",style:{margin:"0px auto",lineHeight:1},children:["Your license is not activated. Please active your license from ",(0,ot.jsx)("a",{href:ye()+"administrator/index.php?option=com_quix",target:"_blank",children:"Dashboard"})]}):null,(0,ot.jsxs)("div",{className:"qx-fb-template__body qx-row",children:[this.state.error?e:null,this.state.loading?(0,ot.jsx)(Xl,{}):(0,ot.jsx)("div",{id:"sectionTemplateWrapper",children:this.state.items.map(this.renderSectionTemplate)})]})]})}})||Dr;const Fr=Ir;var Kr;function Ur(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const zr=da.default.Option,Hr={insertNodes:Vi};let Br=(0,c.Ng)((e=>{let{action:t}=e;return{sectionPath:t.path}}),Hr)(Kr=class extends d.Component{constructor(e){var t;super(e),t=this,Ur(this,"loadData",(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t.setState({loading:!0}),e||!_e("qx-footer-template"))De().get("".concat(ge(),"/index.php?option=com_quix&task=api.getTemplates&").concat(t.token,"=1&source=remote&type=footer&min_version=4.0.0")).then((e=>{if(e.data.items){let s=mr()(e.data.itemTags,"title");t.setState({loading:!1,error:!1,items:e.data.items,originItems:e.data.items,itemTags:s}),Ne("qx-footer-template",{items:e.data.items,itemTags:s})}else t.setState({loading:!1,error:!0})}));else{const e=_e("qx-footer-template");t.setState({loading:!1,items:e.items,originItems:e.items,itemTags:e.itemTags})}})),Ur(this,"handleSearchTerm",(e=>{if(Le(e)&&this.setState({items:this.state.originItems}),e.length<3)return;let t=new Ql.A(this.state.originItems,{shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:3,keys:["title","tags"]}).search(e).map((e=>e.item));this.setState({items:t})})),Ur(this,"arrayContainsArray",((e,t)=>{if(0===t.length)return!1;let s=!1;return t.every((function(t){return-1===e.indexOf(t)||(s=!0,!1)})),s})),Ur(this,"onCategoryChange",(e=>{let t;t="all"===e||Le(e)?this.state.originItems:Gl()(this.state.originItems,(t=>{if(t.tags){const s=Vl()(t.tags,(e=>e.alias));if(this.arrayContainsArray(e,s))return t}})),this.setState({items:t,category:e})})),Ur(this,"insert",(e=>{mo(this,e)})),Ur(this,"renderSectionTemplate",(e=>{const t="true"===e.license||"pro"===e.license,s=ce()("qx-fb-template-item qx-fb-template-item--section qx-margin",{"qx-fb-template--pro":t});let i=(0,ot.jsxs)("a",{onClick:()=>this.insert(e.id),className:"qx-btn qx-btn-success qx-fb-template-action",children:[(0,ot.jsx)("i",{className:"qxuicon-download"})," Insert"]}),n=null;return t&&"free"===this.state.is_pro_user&&(n=(0,ot.jsxs)("a",{target:"_blank",href:"https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=section-modal",className:"qx-btn qx-btn-warning qx-fb-template-action qx-btn--gopro",children:[(0,ot.jsx)("i",{className:"qxuicon-external-link"})," Go Pro"]})),t&&"inactive"===this.state.is_pro_user&&(n=(0,ot.jsxs)("a",{target:"_blank",href:ye()+"administrator/index.php?option=com_quix",className:"qx-btn qx-btn-info qx-fb-template-action qx-btn--gopro",children:[(0,ot.jsx)("i",{className:"qxuicon-external-link"})," Activate License"]})),(0,ot.jsx)("div",{children:(0,ot.jsxs)("div",{className:s,children:[(0,ot.jsx)("div",{className:"qx-fb-template-item__thumb",children:(0,ot.jsx)("img",{className:"qx-img qx-sortable-empty",src:Ue(e.images),width:"100%",alt:"preview"})}),(0,ot.jsxs)("div",{className:"qx-fb-template-item__footer qx-flex-column",children:[n||i,(0,ot.jsx)("span",{className:"qx-fb-template-name",children:e.title}),n&&t?(0,ot.jsxs)("span",{className:"qx-fb-template-pro qx-mark qx-text-center",children:["Available only with the ",(0,ot.jsx)("strong",{children:"Quix Pro"})," active license"]}):null]})]})},e.id)})),this.state={items:[],itemTags:[],category:"all",originItems:[],loading:!1,inserting:!1,error:!1,is_pro_user:"free"},this.token=je(),this._mounted=!1}componentDidMount(){this._mounted=!0,this.setState({is_pro_user:ve()}),this.loadData()}componentWillUnmount(){this._mounted=!1}render(){const e=(0,ot.jsx)("div",{className:"qx-data-loading-error",children:"Please check your internet connection"});return(0,ot.jsxs)("div",{className:"qx-fb-template qx-container-fluid",children:[(0,ot.jsxs)("div",{className:"qx-fb-template__header qx-grid",children:[(0,ot.jsx)("div",{className:"qx-column qx-width-3-5 qx-flex",children:(0,ot.jsxs)(da.default,{disabled:this.state.loading,value:this.state.category,onChange:this.onCategoryChange,style:{width:"auto",minWidth:"200px"},showSearch:!0,allowClear:!0,autoFocus:!0,mode:"default",placeholder:"Category",prefixCls:"qxui-select",getPopupContainer:()=>window.document.body,children:[(0,ot.jsx)(zr,{value:"all",children:"All"},"all"),this.state.itemTags.map((e=>(0,ot.jsx)(zr,{value:e.alias,children:e.title},e.alias)))]})}),(0,ot.jsxs)("div",{className:"qx-column qx-flex qx-flex-middle qx-width-2-5 qx-flex-right",children:[(0,ot.jsx)(ai.default,{title:"Reload",children:(0,ot.jsx)("button",{className:"qxui-btn qxui-btn-link qx-mr-2",onClick:()=>{this.loadData(!0)},children:(0,ot.jsx)("i",{className:"qxio-refresh"})})}),(0,ot.jsx)(xi,{disabled:this.state.loading,onlyBaseText:!0,placeholder:"Search",onChange:this.handleSearchTerm,prefixCls:"qxui-input-search",inputPrefixCls:"qxui-input",allowClear:!0})]})]}),"inactive"===this.state.is_pro_user?(0,ot.jsxs)("p",{className:"qx-alert qx-alert-warning qx-text-center",style:{margin:"0px auto",lineHeight:1},children:["Your license is not activated. Please active your license from ",(0,ot.jsx)("a",{href:ye()+"administrator/index.php?option=com_quix",target:"_blank",children:"Dashboard"})]}):null,(0,ot.jsxs)("div",{className:"qx-fb-template__body qx-row",children:[this.state.error?e:null,this.state.loading?(0,ot.jsx)(Xl,{}):(0,ot.jsx)("div",{id:"sectionTemplateWrapper",children:this.state.items.map(this.renderSectionTemplate)})]})]})}})||Kr;const Wr=Br;var Vr;function Jr(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Gr={invokeTemplateModal:zs};let Qr=(0,c.Ng)((e=>{let{action:{action:t}}=e;return{visible:t===J}}),Gr)(Vr=class extends d.Component{constructor(){super(...arguments),Jr(this,"state",{tabDisabled:!1}),Jr(this,"handleCloseClick",(()=>{this.props.invokeTemplateModal()})),Jr(this,"handleOpenClick",(()=>{this.setState({show:!0})})),Jr(this,"onTabChange",(e=>{this.setState({tab:e}),Ne("qx-template-tab",e)}))}render(){const{tabDisabled:e}=this.state,t=[{key:"Bundles",label:Rs({absoluteKey:"Layout Bundles",label:"Layout Bundles"}),disabled:e,children:(0,ot.jsx)("div",{"data-simplebar":!0,children:(0,ot.jsx)(pr,{openModal:this.handleOpenClick,closeModal:this.handleCloseClick})})},{key:"Pages",label:Rs({absoluteKey:"Pages",label:"Pages"}),disabled:e,children:(0,ot.jsx)(nr,{openModal:this.handleOpenClick,closeModal:this.handleCloseClick})},{key:"Sections",label:Rs({absoluteKey:"Sections",label:"Sections"}),disabled:e,children:(0,ot.jsx)("div",{"data-simplebar":!0,children:(0,ot.jsx)(yr,{openModal:this.handleOpenClick,closeModal:this.handleCloseClick})})},{key:"Headers",label:Rs({absoluteKey:"Headers",label:"Headers"}),disabled:e,children:(0,ot.jsx)("div",{"data-simplebar":!0,children:(0,ot.jsx)(Fr,{openModal:this.handleOpenClick,closeModal:this.handleCloseClick})})},{key:"Footers",label:Rs({absoluteKey:"Footers",label:"Footers"}),disabled:e,children:(0,ot.jsx)("div",{"data-simplebar":!0,children:(0,ot.jsx)(Wr,{openModal:this.handleOpenClick,closeModal:this.handleCloseClick})})},{key:"My Templates",label:Rs({absoluteKey:"My Templates",label:"My Templates"}),disabled:e,children:(0,ot.jsx)(Or,{openModal:this.handleOpenClick,closeModal:this.handleCloseClick})}];return(0,ot.jsx)(bn,{width:"1000px",className:"qxui-modal--with-tab qxui-modal--template qxui-modal--template-collection",rootClassName:"qxui-modal--template",show:this.props.visible,title:Rs({absoluteKey:"Load From Library",label:"Load From Library"}),footer:!1,closable:!1,onCancel:this.handleCloseClick,onClose:this.handleCloseClick,expandable:!1,bodyStyle:{paddingTop:0},style:{left:"calc(50vw - 500px)",maxWidth:"100%",minWidth:"1000px"},children:(0,ot.jsx)(ji.default,{animated:{inkBar:!0,tabPane:!1},onChange:this.onTabChange,prefixCls:"qxui-tabs",items:t})})}})||Vr;const Yr=Qr;var Xr;const Zr=je(),$r=(e,t)=>({type:V,payload:{config:e,callback:t,show:!!e}}),ed={openMediaPicker:$r},td=(0,c.Ng)((e=>{let{action:{jmedia:t={},openJMedia:s}}=e;return{visible:s,config:null==t?void 0:t.config,callback:null==t?void 0:t.callback}}),ed)(Xr=class extends d.Component{constructor(){var e,t,s,i;super(...arguments),e=this,s=()=>{this.props.openMediaPicker(!1)},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t="onClose"))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}componentDidMount(){window.getJMediaValue=e=>{window.fCallback&&(fCallback(e),this.onClose())}}render(){let{config:e}=this.props,t="";Le(e)||(t=e.filters);let s=quix.url+quix.url.endsWith("/")?"":"/",i="".concat(s,"index.php?option=com_jmedia&view=images&source=quix&tmpl=component&filters=").concat(t.replaceAll(",","-"),"&callback=onSelectJMedia&").concat(Zr,"=1"),n=(0,ot.jsxs)("div",{className:"qx-flex qx-flex-between qx-width-1-1",children:[(0,ot.jsx)("span",{children:"JMedia - File Manager for Joomla!"}),(0,ot.jsxs)(ai.default,{title:"Toggle window size",children:[(0,ot.jsx)(ci(),{type:"link",size:"small",onClick:()=>document.getElementById("jmedia-builder-iframe").contentDocument.location.reload(!0),children:(0,ot.jsx)("i",{className:"qxuicon-redo qx-light"})},"resize"),(0,ot.jsx)(ci(),{type:"link",size:"small",onClick:this.onClose,children:(0,ot.jsx)("i",{className:"qxio-close qx-light"})},"close")]},"resize")]});return(0,ot.jsx)(bn,{className:"jmedia-filemanager fm-modal",title:n,show:!0,wrapClassName:"",onCancel:this.onClose,closable:!1,width:1080,close:()=>this.props.openMediaPicker(!1),style:{left:"calc(50vw - 540px)",display:this.props.visible?"block":"none"},expandable:!1,overrideHeader:!0,bodyStyle:{margin:"0px",padding:"0px"},destroyOnClose:!1,children:(0,ot.jsx)("iframe",{id:"jmedia-builder-iframe","data-src":i,src:"",width:"1080px",height:"500px"})})}})||Xr;function sd(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const{TextArea:id}=li.default;class nd extends d.Component{constructor(){super(...arguments),sd(this,"onChange",(e=>{let{onChange:t}=this.props;t&&t(e.target.value,e)})),sd(this,"getLabelMarkup",(()=>{var e;let{label:t,name:s,absoluteKey:i,absoluteName:n}=this.props;const a=i?"absoluteKey":"key";return(0,ot.jsx)("span",{children:Rs({[a]:null!==(e=null!=n?n:s)&&void 0!==e?e:t,label:t})})})),sd(this,"getHelpMarkup",(()=>{let{help:e,name:t,label:s}=this.props;if(e)return(0,ot.jsx)(ri.default,{content:Rs({key:"".concat(t||s,"_help"),help:e}),placement:"right",rootClassName:"qxui-popover-help",popupStyle:{width:"300px"},children:(0,ot.jsx)("i",{className:"qx-help-circle qxuicon-question-circle"})})})),sd(this,"getResetMarkup",(()=>this.props.onlyBaseText||ui()(this.props.default,this.props.value)?null:(0,ot.jsx)(ai.default,{title:"Reset to default",children:(0,ot.jsx)(ci(),{size:"small",type:"text",children:(0,ot.jsx)("i",{className:"qxuicon-undo",onClick:this.props.onReset})})})))}render(){let{value:e,id:t,notBlock:s}=this.props;return t=t||"_"+Math.random().toString(36).substr(2,9),(0,ot.jsxs)(l.A,{style:{marginBottom:15},className:"qx-fb-field-textarea",children:[(0,ot.jsxs)(r.A,{span:s?10:24,className:"qx-fb-field__label qx-flex qx-flex-middle",children:[this.getLabelMarkup(),this.getHelpMarkup(),this.props.onReset?this.getResetMarkup():null]}),(0,ot.jsx)(r.A,{span:s?14:24,children:(0,ot.jsx)(id,{ref:t,onClick:this.onChange,rows:4,value:e,onChange:this.onChange,prefixCls:"qxui-input"})})]})}}sd(nd,"propTypes",{}),sd(nd,"defaultProps",{});const ad=nd;var od=s(19468),ld=s(67768),rd=s.n(ld),dd=s(65901),cd=s.n(dd),pd=s(85014),ud=s.n(pd),hd=s(27381),md=s.n(hd);const xd=e=>{e.getTabName=()=>"mobile"===_e("qx-device")?"phone":_e("qx-device")};function gd(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class vd extends d.Component{constructor(e){var t;super(e),t=this,gd(this,"onResponsive",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.setState({responsive:!t.state.responsive,tab:t.state.tab,...e})})),gd(this,"getPlaceholder",(e=>{var t;let{value:s}=this.state;null!==(t=s)&&void 0!==t&&t.desktop&&(s=s.desktop);return s[e]||Ie(e)})),gd(this,"getResponsiveTogglePreview",(()=>{if(!this.props.responsive)return null;const e={onClick:async e=>{let{key:t=""}=e;t=t.toLowerCase(),this.props.setDevice(t)},className:"qx-text-center",items:[{key:"lg",label:(0,ot.jsx)("span",{className:"qxuicon-desktop"})},{key:"md",label:(0,ot.jsx)("span",{className:"qxuicon-tablet"})},{key:"sm",label:(0,ot.jsx)("span",{className:"qxuicon-mobile"})}]},t="phone"===this.props.device?"mobile":this.props.device;return(0,ot.jsx)(In.default,{menu:e,trigger:["click"],children:(0,ot.jsx)("span",{className:"qx-responsive-btn qx-margin-small-left qxuicon-"+(t||"desktop")})})})),gd(this,"getUnitMarkup",(e=>{var t,s,i,n;let{value:a,units:o,suffix:l}=this.props;if(void 0===o)return null;if(!1===o||null===o)return l?(0,ot.jsx)("div",{className:"qxui-units-btn-container",children:(0,ot.jsx)("span",{className:"",children:l})}):null;o=null!==(t=o)&&void 0!==t?t:["px","%"];const r=null!==(s=null==a?void 0:a.unit)&&void 0!==s?s:null!==(i=null===(n=this.props)||void 0===n||null===(n=n.default)||void 0===n?void 0:n.unit)&&void 0!==i?i:o[0];return(0,ot.jsx)("div",{style:{width:"100%"},children:1===o.length?(0,ot.jsx)("div",{className:"".concat(null!=e&&e.legacyStyle?"qx-suffix-container qx-margin-small-right":""," qxui-units-btn-container"),children:o}):(0,ot.jsx)(In.default,{menu:{items:o.map((e=>({key:e,label:e,style:{textAlign:"center",fontWeight:500,fontSize:12}}))),onClick:e=>{let{key:t}=e;this.props.onUnitChange?this.props.onUnitChange(t):this.onUnitChange(t)}},placement:"bottom",trigger:["click"],arrow:{pointAtCenter:!0},children:null!=e&&e.legacyStyle?(0,ot.jsxs)("div",{style:{gap:5},className:"qx-flex qx-flex-middle",children:[(0,ot.jsx)("span",{style:{fontSize:11,fontWeight:500},className:"qx-text-uppercase",children:r}),(0,ot.jsx)("i",{style:{width:16},className:"qxuicon-ellipsis-h-alt"})]}):(0,ot.jsxs)("div",{className:"qxui-units-btn-container",children:[(0,ot.jsx)("span",{children:r}),(0,ot.jsx)("svg",{style:{marginBottom:-3},xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",children:(0,ot.jsx)("path",{d:"M 8.5 3 L 5 6.5 L 1.5 3",fill:"transparent",strokeWidth:"1",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})})]})})})})),gd(this,"getLabelMarkup",(e=>{let{label:t,name:s,absoluteKey:i}=this.props;const n=i?"absoluteKey":"key";return(0,ot.jsx)("div",{className:"qx-fb-field-label-group",children:(0,ot.jsx)("div",{className:"qx-fb-field__label qx-flex qx-flex-between",children:(0,ot.jsxs)("div",{className:"qx-flex qx-flex-middle",children:[(0,ot.jsx)("span",{style:e,children:Rs({[n]:s||t,label:t})}),this.getHelpMarkup(),this.getResponsiveTogglePreview(),this.getResetMarkup()]})})})})),gd(this,"getHelpMarkup",(()=>{let{help:e,name:t,label:s,absoluteKey:i,helpKey:n}=this.props;if(e){const a=i?"absoluteKey":"key";return(0,ot.jsx)(ri.default,{content:(0,ot.jsx)("span",{dangerouslySetInnerHTML:{__html:Rs({[a]:(n||t||s)+"_help",label:e})}}),placement:"right",rootClassName:"qxui-popover-help",popupStyle:{width:"300px"},children:(0,ot.jsx)("i",{className:"qxuicon-question-circle qx-help-circle"})})}})),gd(this,"getResetMarkup",(()=>{const{default:e}=this.props,{value:t,device:s}=this.state;return e&&t&&t[s]?ui()((null==e?void 0:e[s])||(null==e?void 0:e.value)||e,(null==t?void 0:t[s])||t)?null:(0,ot.jsx)("div",{"qx-tooltip":"Reset",onClick:()=>this.onReset(s),className:"qx-reset-button",children:(0,ot.jsx)("span",{className:"qxio-close"})}):null})),gd(this,"onReset",(()=>{throw new Error("Must implement onReset")})),this.state={responsive:!1,tab:"",value:e.value||{},device:e.device||"desktop"}}}const fd=vd;var yd,bd;function wd(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const jd={setDevice:dn},qd=(0,c.Ng)((e=>{let{nodes:{device:t}}=e;return{device:Fe(t,!0),defaultDevice:t}}),jd)((bd=class extends fd{constructor(e){super(e),wd(this,"initializeValue",(e=>{const{value:t,responsive:s,device:i}=e;return!1===s?at()(t)?t.value:t:{...t}})),wd(this,"handleChange",(e=>{const{units:t,onChange:s,responsive:i,step:n,device:a}=this.props;let o=e[0];if(o=n<=1?parseFloat(o.toFixed(2)):parseInt(o,10),!i){const e=!t||Le(md()(t))?o:{value:o,unit:t[0]};return void this.setState({value:e},(()=>s(e)))}const l={...this.state.value,[a]:o};this.setState({value:l},(()=>s(l)))})),wd(this,"onReset",(e=>{if(!1===this.props.responsive)return void this.props.onReset();const t={};let s;t[e]=this.props.default[e],s=ud()(this.props.value,t),this.props.onChange(s),this.setState({reset:!0,desktop:this.props.default,value:s})})),wd(this,"onUnitChange",(e=>{this.props.onChange({...this.props.value,unit:e})})),wd(this,"getValue",(e=>{const{responsive:t}=this.props,{value:s}=this.state;return!1===t?at()(s)?void 0===s.desktop?s.value:s.desktop:s:s[e]})),wd(this,"renderDeviceContent",(()=>{let{min:e,max:t,step:s,device:i,units:n}=this.props;({close:this.state.responsive})[i]=!this.state.responsive;let a=this.getValue(i)<e?e:this.getValue(i);return"desktop"!==i&&(a=this.getValue(i)),(0,ot.jsx)("div",{className:"qxui-slider-input-container",children:this.props.units||this.props.suffix?(0,ot.jsxs)(l.A,{align:"middle",justify:"space-between",children:[(0,ot.jsx)(r.A,{span:11,children:(0,ot.jsx)(qa.default,{min:e,max:Number.MAX_VALUE,defaultValue:this.props.default||0,step:s,value:at()(a)?a.value:a||0,changeOnWheel:!0,onChange:t=>{var s;(t=null!==(s=t)&&void 0!==s?s:0)>=e&&this.handleChange([t])}})}),(0,ot.jsx)(r.A,{span:11,children:this.getUnitMarkup()})]}):(0,ot.jsx)(qa.default,{min:e,max:Number.MAX_VALUE,defaultValue:this.props.default||0,step:s,changeOnWheel:!0,keyboard:!0,value:at()(a)?a.value:a||0,onChange:t=>{var s;(t=null!==(s=t)&&void 0!==s?s:0)>=e&&this.handleChange([t])}})})})),xd(this),this.state={responsive:"desktop"!==this.getTabName(),reset:!1,value:this.initializeValue(e)}}render(){const e=this.props.inputFullWidth;return(0,ot.jsx)("div",{className:"qx-fb-field-slider ".concat(this.props.responsive?"hasResponsive":""," clearfix"),children:(0,ot.jsxs)(l.A,{align:"middle",children:[(0,ot.jsx)(r.A,{span:e?24:10,children:this.getLabelMarkup()}),(0,ot.jsx)(r.A,{span:e?24:14,style:e?{marginTop:10}:{},children:this.renderDeviceContent()})]})})}},wd(bd,"propTypes",{step:oo().number,min:oo().number,max:oo().number,suffix:oo().string}),wd(bd,"defaultProps",{min:0,max:100,step:1,reset:!0}),yd=bd))||yd;var Cd=s(4943);const Sd=e=>{let{value:t,onChange:s,showGlobal:i,onReset:n}=e;const a=t||"#FFFFFF",o=e=>{e.stopPropagation(),n()},l=e=>{let{key:t,item:i}=e;s("var(".concat(t,")"))};return(0,ot.jsx)(Cd.A,{value:a,onChange:e=>{s(e.toHexString())},styles:{popupOverlayInner:{width:250,margin:0,border:"none",padding:"0.2rem",boxShadow:"rgba(50, 50, 93, 0.25) 0px 50px 100px -20px, rgba(0, 0, 0, 0.3) 0px 30px 60px -30px"}},panelRender:(e,t)=>{let{components:{Picker:s}}=t;return(0,ot.jsxs)("div",{style:{padding:"0.5rem"},children:[(0,ot.jsxs)("div",{className:"qx-color-picker-reset-container",children:[(0,ot.jsx)("p",{children:"Reset Color"}),(0,ot.jsx)("button",{onClick:o,children:(0,ot.jsx)("span",{className:"qxuicon-undo"})})]}),(0,ot.jsx)(s,{}),!i&&(0,ot.jsx)(ot.Fragment,{children:(0,ot.jsx)(_d,{handelApplyGlobal:l})})]})}})},_d=e=>{let{handelApplyGlobal:t}=e;const s=(0,c.d4)((e=>{let{globalStyles:t}=e;return t.qxStacks})).colors,i=Object.keys(null!=s?s:{});return(0,ot.jsxs)(ot.Fragment,{children:[!!i.length&&(0,ot.jsx)(gn.default,{}),i.map(((e,i)=>(0,ot.jsx)(ot.Fragment,{children:(0,ot.jsx)("div",{onClick:()=>t({key:e,item:s[e]}),children:(0,ot.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",textTransform:"capitalize"},children:[(0,ot.jsx)("span",{style:{width:10,height:10,borderRadius:"50%",backgroundColor:s[e].color}}),(0,ot.jsx)("span",{children:s[e].name})]})},i)})))]})};var Nd;function kd(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let Ed=(0,c.Ng)((e=>{let{globalStyles:t}=e;return{qxStacks:t.qxStacks}}),null)(Nd=class extends d.Component{constructor(e){super(e),kd(this,"shouldComponentUpdate",fn()),kd(this,"handleChangeComplete",(e=>{this.setState({color:e}),this.state.color=e,window.quix_preset_color=e,this.props.onChange(e)})),kd(this,"resetColor",(()=>{this.props.onChange("")})),kd(this,"getHelpMarkup",(()=>{let{help:e}=this.props;return this.props.onlyBaseText?null:e?(0,ot.jsx)(ri.default,{content:e,placement:"right",popupStyle:{width:"300px"},getPopupContainer:()=>window.document.body,children:(0,ot.jsx)("i",{className:"qx-help-circle qxuicon-question-circle qx-fb-field__help"})}):void 0})),this.state={color:this.props.value}}render(){let{value:e="",label:t,name:s,absoluteKey:i}=this.props;if("string"==typeof e&&e.startsWith("var")){var n,a;const t=e.replace("var(","").replace(")","");e=null===(a=(null!==(n=this.props.qxStacks.colors)&&void 0!==n?n:{})[t])||void 0===a?void 0:a.color}const o=i?"absoluteKey":"key";return(0,ot.jsx)("div",{style:{width:"100%"},children:(0,ot.jsxs)(l.A,{align:"middle",children:[(0,ot.jsx)(r.A,{span:10,children:(0,ot.jsx)("span",{className:"qx-fb-field__label",children:Rs({[o]:s||t,label:t})})}),(0,ot.jsx)(r.A,{span:14,children:(0,ot.jsx)(li.default,{disabled:!0,placeholder:"Add...",style:{cursor:"pointer"},value:e,prefix:(0,ot.jsx)(Sd,{value:e,onReset:this.resetColor,showGlobal:this.props.showGlobal,onChange:this.handleChangeComplete})})})]})})}})||Nd;Ed.propTypes={},Ed.defaultProps={};const Pd=Ed;var Td;function Ad(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Od="rgba(0, 0, 0, 1)",Dd=["svg","image","video"],Rd={openMediaPicker:$r};let Md=(0,c.Ng)(null,Rd)(Td=class extends d.Component{constructor(e){super(e),Ad(this,"fileSelectCallback",(e=>{if(-1!==cd()(Dd,e.type))return e={type:e.type,base_domain:ye(),source:e[e.type],dimension:this.state.value.dimension,properties:this.state.value.properties},this.setState({value:e}),this.props.onChange(e),!0;dt.error("Only you can select [ "+Dd.join(", ")+" ]. Current format is "+e.type)})),Ad(this,"handleChange",(e=>{let t,{target:{value:s=""}}=e;switch(s.split(".").pop().toLowerCase()){case"svg":t="svg";break;case"jpg":case"jpeg":case"png":case"webp":case"gif":case"bmp":case"ico":t="image";break;case"mp4":case"mov":case"flv":case"mkv":case"movie":case"mpeg":case"mpg":t="video";break;default:t=this.getTypeFromFilters()}const i={...this.state.value,source:s,type:t};this.setState({value:i}),this.props.onChange(i)})),Ad(this,"handleChangeWidth",(e=>{var t;e=null!==(t=e)&&void 0!==t?t:"";const s={...this.state.value,dimension:{...this.state.value.dimension,width:e}};this.setState({value:s}),this.props.onChange(s)})),Ad(this,"handleChangeHeight",(e=>{var t;e=null!==(t=e)&&void 0!==t?t:"";const s={...this.state.value,dimension:{...this.state.value.dimension,height:e}};this.setState({value:s}),this.props.onChange(s)})),Ad(this,"handleSvgChange",(e=>{let{size:t,color:s}=e,i=this.state.value.properties;t&&(i=rd()(i,{size:t})),s&&(s="null"===s?"":s,i=rd()(i,{color:s}));const n={...this.state.value,properties:i};this.setState({value:n}),this.props.onChange(n)})),Ad(this,"handleReset",(()=>{const e={type:this.getTypeFromFilters(),source:"",dimension:{width:"",height:""},properties:{color:Od,size:30}};this.setState({value:e}),this.props.onChange(e)})),Ad(this,"getTypeFromFilters",(()=>{let e=null;return e=this.props.filters.includes("image")?"image":this.props.filters.includes("video")?"video":this.props.filters.includes("icon")?"svg":"unknown",e})),Ad(this,"loadSvg",(e=>Pe()(e,"<svg")||Pe()(e,"<?xml")?e:"svg"===e.split(".").pop()?'<img src="'+ge()+"/"+e+'" alt="icon-alt" class="qx-preserve" qx-svg="" />':'<i class="'+e+'"/>')),Ad(this,"getPickerPlaceholder",(()=>{let{filters:e}=this.props;const{source:t}=this.state.value;let s=Ke(t);if(Le(s)){let e=this.props.filters.split(",").join(" qx-picker-");return(0,ot.jsx)(od.default,{className:e,image:Ke("media/quixnxt/images/empty.svg"),imageStyle:{height:60},description:(0,ot.jsx)("span",{style:{fontSize:12},children:Rs({absoluteKey:"EMPTY_MEDIA_MSG",label:"Click here to add your media"})}),onClick:()=>{this.getFileManagerModal(this.fileSelectCallback,{filters:this.props.filters})},style:{cursor:"pointer"}})}{let t=(0,ot.jsx)("img",{className:"qx-cover",alt:"qx-image",src:s,onClick:()=>{this.getFileManagerModal(this.fileSelectCallback,{filters:this.props.filters})}});if("svg"===this.state.value.type&&(t=(0,ot.jsx)("div",{className:"media-component-svg-icon qx-cover",style:{fontSize:"100px"},onClick:()=>{this.getFileManagerModal(this.fileSelectCallback,{filters:e})},dangerouslySetInnerHTML:{__html:this.loadSvg(this.state.value.source)}})),"video"===this.state.value.type){let e="video/"+s.split(".").pop();t=(0,ot.jsx)("video",{playsInline:!0,controls:!0,children:(0,ot.jsx)("source",{type:e,src:s})})}let i="qx-position-relative qx-transition-toggle qx-height-small qx-cover-container qx-dot-background "+this.props.filters.split(",").join(" qx-picker-");return(0,ot.jsxs)("div",{className:i,children:[t,(0,ot.jsx)("div",{className:"qx-position-cover qx-overlay qx-overlay-default qx-transition-fade"}),(0,ot.jsxs)("div",{className:"qx-flex qx-flex-center qx-flex-middle h-100 qx-transition-scale-up qx-position-cover",children:[(0,ot.jsx)(ai.default,{title:"Add Image",children:(0,ot.jsx)(ci(),{type:"text",onClick:()=>{this.getFileManagerModal(this.fileSelectCallback,{filters:this.props.filters})},children:(0,ot.jsx)("span",{className:"qxuicon-plus"})})}),(0,ot.jsx)(ai.default,{title:"Remove Image",children:(0,ot.jsx)(ci(),{danger:!0,type:"text",onClick:this.handleReset,children:(0,ot.jsx)("span",{className:"qxuicon-trash-alt"})})})]})]})}})),Ad(this,"onReset",(e=>{let{color:t}=e,s=this.state.value.properties;s=t?rd()(s,{color:Od}):rd()(s,{size:30});const i={...this.state.value,properties:s};this.setState({value:i}),this.props.onChange(i)})),Ad(this,"renderSvgSettings",(()=>{let e=this.state.value.properties,t=["px"];this.state.value.source||(e={color:Od,size:30},t=["px","%"]);let{color:s,size:i}=e;return(0,ot.jsxs)("div",{className:"qx-fb-field-image__svg-settings",children:[(0,ot.jsx)("div",{className:"qx-fb-field",children:(0,ot.jsx)(qd,{units:t,defaultUnit:"px",label:"Size",absoluteKey:!0,min:0,max:500,value:i,default:0,onChange:e=>this.handleSvgChange({size:e}),responsive:!1,onReset:()=>this.onReset({})})}),(0,ot.jsx)("div",{className:"qx-fb-field",children:(0,ot.jsx)(Pd,{label:"Color",absoluteKey:!0,onlyColorPicker:!0,labelFor:"background__color",value:s,onChange:e=>{e?this.handleSvgChange({color:e}):this.handleSvgChange({color:"null"})},onReset:()=>this.onReset({color:!0})})})]})})),Ad(this,"getLabelMarkup",(()=>{var e;let{label:t,name:s,absoluteKey:i,absoluteName:n,inputFullWidth:a}=this.props;const o=i?"absoluteKey":"key";return(0,ot.jsxs)("p",{className:"qx-fb-field__label mb-10px ".concat(a&&"mt-3"),children:[Rs({[o]:null!==(e=null!=n?n:s)&&void 0!==e?e:t,label:t})," ",this.getHelpMarkup()," "]})})),Ad(this,"getHelpMarkup",(()=>{let{help:e,name:t,label:s}=this.props;if(e)return(0,ot.jsx)(ri.default,{content:Rs({key:t||s,label:e}),placement:"right",rootClassName:"qxui-popover-help",popupStyle:{width:"300px"},children:(0,ot.jsx)("i",{className:"qx-help-circle qxuicon-question-circle qx-fb-field__help"})})})),Ad(this,"getFileManagerModal",((e,t)=>{window.fCallback=e,this.props.openMediaPicker(t,e),setTimeout((()=>{var e,t;let s=rs("jmedia-builder-iframe"),i=null===(e=rs("jmedia-builder-iframe").attributes)||void 0===e||null===(e=e.src)||void 0===e?void 0:e.value,n=null===(t=rs("jmedia-builder-iframe").dataset)||void 0===t?void 0:t.src;i!==n&&(s.attributes.src.value=n)}),100)})),this.state={value:e.value||{type:"",source:"",dimension:{width:"",height:""},properties:{color:Od,size:30}},url:null,visible:!0,id:Gt("qx-jmedia-")}}componentDidUpdate(){}render(){var e,t;let{showStyle:s,label:i}=this.props,n=null;return"svg"===this.state.value.type&&!1!==s&&(n=this.renderSvgSettings()),(0,ot.jsxs)("div",{style:{position:"relative"},className:"qx-fb-field-image",children:[i&&this.getLabelMarkup(),(0,ot.jsxs)("div",{className:"qx-padding-small qx-box-shadow-small qx-margin-small-bottom",style:{border:"1px solid #eee"},children:[this.getPickerPlaceholder(),"svg"!==this.state.value.type?(0,ot.jsx)(li.default,{value:this.state.value.source,onChange:this.handleChange,className:"qx-form-blank qx-margin-small-top",size:"small",prefix:"URL:"}):(0,ot.jsx)(li.default,{value:this.state.value.source,className:"qx-form-blank qx-margin-small-top",size:"small",prefix:"SVG"}),n]}),"image"===this.state.value.type?(0,ot.jsxs)("div",{children:[(0,ot.jsxs)(l.A,{align:"middle",children:[(0,ot.jsx)(r.A,{span:10,children:(0,ot.jsx)("p",{className:"qx-fb-field__label",children:Rs({absoluteKey:"Width",label:"Width"})})}),(0,ot.jsx)(r.A,{span:14,children:(0,ot.jsx)(qa.default,{value:null===(e=this.state.value)||void 0===e||null===(e=e.dimension)||void 0===e?void 0:e.width,changeOnWheel:!0,onChange:this.handleChangeWidth})})]}),(0,ot.jsxs)(l.A,{align:"middle",children:[(0,ot.jsx)(r.A,{span:10,children:(0,ot.jsx)("p",{className:"qx-fb-field__label",children:Rs({absoluteKey:"Height",label:"Height"})})}),(0,ot.jsx)(r.A,{span:14,children:(0,ot.jsx)(qa.default,{value:null===(t=this.state.value)||void 0===t||null===(t=t.dimension)||void 0===t?void 0:t.height,onChange:this.handleChangeHeight,changeOnWheel:!0})})]})]}):null]})}})||Td;Md.propTypes={},Md.defaultProps={};const Ld=Md;var Id=s(5697);class Fd extends d.Component{constructor(e){super(e),this.state={id:Gt("switch-"),checked:e.checked||!1},this.onChange=this.onChange.bind(this)}onChange(e){const t="Yes"===e;this.setState({checked:t}),this.props.onChange(t)}getLabelMarkup(){var e;let{label:t,name:s,absoluteKey:i,absoluteName:n}=this.props;const a=i?"absoluteKey":"key";return(0,ot.jsxs)("p",{className:"qx-fb-field__label",children:[Rs({[a]:null!==(e=null!=n?n:s)&&void 0!==e?e:t,label:t})," ",this.getHelpMarkup()," "]})}getHelpMarkup(){let{name:e,label:t,help:s}=this.props;if(s)return(0,ot.jsx)(ri.default,{content:Rs({key:"".concat(e||t,"_help"),help:s}),overlayClassName:"qxui-zi-l",placement:"right",rootClassName:"qxui-popover-help",popupStyle:{width:"300px"},getPopupContainer:()=>window.document.body,children:(0,ot.jsx)("i",{className:"qx-help-circle qxuicon-question-circle qx-fb-field__help"})})}render(){const{label:e}=this.props,t=this.state.id,s=this.state.checked?"Yes":"No",i=this.props.inputFullWidth;return(0,ot.jsxs)(l.A,{align:"middle",className:"qx-fb-field-switch",children:[(0,ot.jsx)(r.A,{span:i?24:10,children:this.getLabelMarkup()}),(0,ot.jsx)(r.A,{span:i?24:14,style:i?{marginTop:10}:{},children:(0,ot.jsx)(Id.A,{size:"small",options:["Yes","No"].map((e=>({key:e,value:e,label:(0,ot.jsx)(ai.default,{placement:"top",title:Rs({absoluteKey:e,label:e}),children:Rs({absoluteKey:e,label:e})})}))),defaultValue:s,onChange:this.onChange,id:t,"data-for":e,block:!0})})]})}}const Kd=Fd;var Ud,zd;function Hd(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Bd={invokeSEORankModal:Hs};let Wd=(0,c.Ng)((e=>{let{action:{action:t,tab:s}}=e;return{visible:t===m,tab:s}}),Bd)((zd=class extends d.Component{constructor(){super(...arguments),Hd(this,"state",{title:"",desc:"",image:"",tuser:"",appid:"",addog:"",addtw:"",imageIntroWarning:""}),Hd(this,"onChange",(()=>{Pi()})),Hd(this,"updateIntroImage",(e=>{this.setState({imageIntroWarning:" "});let t="";if(e.source)t=e.source;else if(e.type&&"svg"===e.type)return this.setState({imageIntroWarning:"Please select image only!"}),!1;return rs("jform_metadata_image_intro").value=t,!0}))}componentDidMount(){setTimeout((()=>{let e;this.setState({title:rs("jform_metadata_title").value}),this.setState({desc:rs("jform_metadata_desc").value}),this.setState({focusKeywords:rs("jform_metadata_focus_keywords").value}),e=rs("jform_metadata_image_intro").value?{type:"image",source:rs("jform_metadata_image_intro").value}:{type:"",source:""},this.setState({image:e}),this.setState({tuser:rs("jform_metadata_twitter_username").value}),this.setState({appid:rs("jform_metadata_fb_appid").value}),this.setState({addog:Boolean(rs("jform_metadata_addog").value)}),this.setState({addtw:Boolean(rs("jform_metadata_addtw").value)})}),100)}render(){let e=rs("jform_type").value;return(0,ot.jsx)(bn,{className:"qxui-modal--with-tab modal--small seo-options",title:Rs({absoluteKey:"SEO settings",label:"SEO settings"}),show:this.props.visible,close:()=>this.props.invokeSEORankModal(!1),style:{left:"calc(50vw - 250px)"},bodyStyle:{paddingTop:0},dismisible:!0,footer:(0,ot.jsxs)(ci(),{type:"primary",block:!0,style:{paddingBlock:"1.5rem"},onClick:()=>{Pi(),this.props.invokeSEORankModal(!1)},children:[(0,ot.jsx)("i",{className:"qxuicon-check"})," Apply"]},"save"),children:"collection"===e?(0,ot.jsx)(ji.default,{defaultActiveKey:"general",prefixCls:"qxui-tabs",items:[{key:"general",label:Rs({absoluteKey:"General",label:"General"}),children:(0,ot.jsx)(ra.default,{defaultActiveKey:["1"],accordion:!0,prefixCls:"qxui-collapse",className:"qxui-collapse--fields-group",expandIconPosition:"end",ghost:!0,items:[{key:"1",label:Rs({absoluteKey:"General Options",label:"General Options"}),children:(0,ot.jsxs)("div",{children:[(0,ot.jsxs)("p",{className:"qx-alert qx-alert-info qx-small qx-p-1",children:["SEO Settings are mainly for Pages. This view will help you to understand better content quality.",(0,ot.jsx)("strong",{children:"These settings will not be implemented in preview page."})]}),(0,ot.jsx)("div",{className:"qx-fb-field",children:(0,ot.jsx)(xi,{label:"SEO Title",name:"jform[metadata][title]",absoluteName:"SEO Title",absoluteKey:!0,placeholder:"SEO title",value:this.state.title,id:"jform_metadata_title",onChange:e=>{this.setState({title:e}),rs("jform_metadata_title").value=e,Pi()},onReset:()=>{this.setState({title:""}),rs("jform_metadata_title").value="",window.PageChanged=!0}})}),(0,ot.jsx)("div",{className:"qx-fb-field",children:(0,ot.jsx)(xi,{label:"SEO Focus Keywords",absoluteName:"SEO Focus Keywords",absoluteKey:!0,name:"jform[metadata][focus_keywords]",placeholder:"SEO Focus Keywords",value:this.state.focusKeywords,id:"jform_metadata_focus_keywords",onChange:e=>{this.setState({focusKeywords:e}),rs("jform_metadata_focus_keywords").value=e,Pi()},onReset:()=>{this.setState({focusKeywords:""}),rs("jform_metadata_focus_keywords").value="",window.PageChanged=!0}})}),(0,ot.jsx)("div",{className:"qx-fb-field",children:(0,ot.jsx)(ad,{label:"SEO Description",absoluteName:"SEO Description",absoluteKey:!0,name:"jform[metadata][desc]",rows:4,value:this.state.desc,id:"jform_metadata_desc",onChange:e=>{this.setState({desc:e}),rs("jform_metadata_desc").value=e,Pi()},onReset:()=>{this.setState({desc:""}),rs("jform_metadata_desc").value="",window.PageChanged=!0}})})]})}]})}]}):(0,ot.jsx)(ji.default,{defaultActiveKey:"general",prefixCls:"qxui-tabs",items:[{key:"general",label:Rs({absoluteKey:"General",label:"General"}),children:(0,ot.jsx)(ra.default,{defaultActiveKey:["1"],accordion:!0,ghost:!0,prefixCls:"qxui-collapse",className:"qxui-collapse--fields-group",expandIconPosition:"end",items:[{key:"1",label:Rs({absoluteKey:"General Options",label:"General Options"}),children:(0,ot.jsxs)("div",{children:[(0,ot.jsx)("div",{className:"qx-fb-field",children:(0,ot.jsx)(xi,{label:"SEO Title",absoluteName:"SEO Title",absoluteKey:!0,name:"jform[metadata][title]",placeholder:"SEO title",value:this.state.title,id:"jform_metadata_title",onChange:e=>{this.setState({title:e}),rs("jform_metadata_title").value=e,Pi()},onReset:()=>{this.setState({title:""}),rs("jform_metadata_title").value="",window.PageChanged=!0}})}),(0,ot.jsx)("div",{className:"qx-fb-field",children:(0,ot.jsx)(xi,{label:"SEO Focus Keywords",absoluteName:"SEO Focus Keywords",absoluteKey:!0,name:"jform[metadata][focus_keywords]",placeholder:"SEO Focus Keywords",value:this.state.focusKeywords,id:"jform_metadata_focus_keywords",onChange:e=>{this.setState({focusKeywords:e}),rs("jform_metadata_focus_keywords").value=e,Pi()},onReset:()=>{this.setState({focusKeywords:""}),rs("jform_metadata_focus_keywords").value="",window.PageChanged=!0}})}),(0,ot.jsx)("div",{className:"qx-fb-field",children:(0,ot.jsx)(xi,{label:"Twitter Username",absoluteName:"Twitter Username",absoluteKey:!0,name:"jform[metadata][twitter_username]",placeholder:"twitter_username",value:this.state.tuser,id:"jform_metadata_twitter_username",onChange:e=>{this.setState({tuser:e}),rs("jform_metadata_twitter_username").value=e,Pi()},onReset:()=>{this.setState({tuser:""}),rs("jform_metadata_twitter_username").value="",window.PageChanged=!0}})}),(0,ot.jsx)("div",{className:"qx-fb-field",children:(0,ot.jsx)(xi,{label:"Facebook App ID",absoluteName:"Facebook App ID",absoluteKey:!0,name:"jform[metadata][fb_appid]",placeholder:"fb_appid",value:this.state.appid,id:"jform_metadata_fb_appid",onChange:e=>{this.setState({appid:e}),rs("jform_metadata_fb_appid").value=e,window.PageChanged=!0,Pi()},onReset:()=>{this.setState({appid:""}),rs("jform_metadata_fb_appid").value="",window.PageChanged=!0}})}),(0,ot.jsx)("div",{className:"qx-fb-field",children:(0,ot.jsx)(ad,{label:"SEO Description",absoluteName:"SEO Description",absoluteKey:!0,name:"jform[metadata][desc]",rows:4,notBlock:!0,value:this.state.desc,id:"jform_metadata_desc",onChange:e=>{this.setState({desc:e}),rs("jform_metadata_desc").value=e,Pi()},onReset:()=>{this.setState({desc:""}),rs("jform_metadata_desc").value="",window.PageChanged=!0}})})]})}]})},{key:"image",label:Rs({absoluteKey:"Image",label:"Image"}),children:(0,ot.jsx)(ra.default,{defaultActiveKey:["1"],accordion:!0,ghost:!0,prefixCls:"qxui-collapse",className:"qxui-collapse--fields-group",expandIconPosition:"end",items:[{key:"1",label:Rs({absoluteKey:"SEO Image",label:"SEO Image"}),children:(0,ot.jsx)("div",{children:(0,ot.jsxs)("div",{className:"qx-fb-field",children:[(0,ot.jsx)(Ld,{label:"Image Intro",absoluteName:"Image Intro",absoluteKey:!0,name:"jform[metadata][image_intro]",value:this.state.image,id:"jform_metadata_image_intro",filters:"image",onChange:e=>{if(!this.updateIntroImage(e))return!1;this.setState({image:e}),Pi()}}),(0,ot.jsx)("div",{id:"imageIntroWarning",style:{color:"red",fontWeight:"bold"},children:this.state.imageIntroWarning})]})})}]})},{key:"settings",label:Rs({absoluteKey:"Settings",label:"Settings"}),children:(0,ot.jsx)(ra.default,{defaultActiveKey:["1"],accordion:!0,ghost:!0,prefixCls:"qxui-collapse",className:"qxui-collapse--fields-group",expandIconPosition:"end",items:[{key:"1",label:Rs({absoluteKey:"Other Options",label:"Other Options"}),children:(0,ot.jsxs)("div",{children:[(0,ot.jsx)("div",{className:"qx-fb-field",children:(0,ot.jsx)(Kd,{label:"Add Open Graph data",absoluteName:"Add Open Graph data",absoluteKey:!0,name:"jform[metadata][addog]",checked:this.state.addog,onChange:e=>{this.setState({addog:e}),rs("jform_metadata_addog").value=e,Pi()}})}),(0,ot.jsx)("div",{className:"qx-fb-field",children:(0,ot.jsx)(Kd,{label:"Add Twitter Card",absoluteName:"Add Twitter Card",absoluteKey:!0,name:"jform[metadata][addtw]",checked:this.state.addtw,onChange:e=>{this.setState({addtw:e}),rs("jform_metadata_addtw").value=e,Pi()}})})]})}]})}]})})}},Hd(zd,"propTypes",{}),Hd(zd,"defaultProps",{}),Ud=zd))||Ud;const Vd=Wd;var Jd;function Gd(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Qd=oi.default.Compact,Yd={invokeSectionSaveModal:Fs};let Xd=(0,c.Ng)((e=>{let{action:{action:t,path:s},nodes:{nodes:i}}=e;return{visible:t===G,path:s,nodes:i}}),Yd)(Jd=class extends d.Component{constructor(){super(...arguments),Gd(this,"state",{process:!1,path:null}),Gd(this,"saveSection",(()=>{const e={type:"section",data:[Ht([...this.props.nodes],[...this.props.path])]};this.setState({process:!0});let t=je(),s=new FormData;s.set("jform[data]",JSON.stringify(e)),s.set("jform[title]",this.state.sectionName),s.set("jform[builder]","frontend"),s.set("jform[type]","section"),s.set("jform[state]","1"),s.set("jform[id]",0),s.set("id",0),s.set("type","collection"),s.set(t,"1"),De()({method:"post",url:"".concat(ge(),"/index.php?option=com_quix&task=collection.save"),data:s,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((e=>{let t=e.data;"object"==typeof t?t.success?(this.setState({sectionName:"",process:!1}),dt.success("Template saved"),this.props.invokeSectionSaveModal()):dt.warning(t.message):dt.error(t)})).catch((()=>this.setState({process:!1})))}))}render(){return(0,ot.jsx)(bn,{width:550,show:this.props.visible,title:"Add Section To Library",footer:!1,closable:!1,onCancel:()=>this.props.invokeSectionSaveModal(),onClose:()=>this.props.invokeSectionSaveModal(),style:{left:"calc(50vw - 225px)"},children:(0,ot.jsxs)("div",{className:"qx-fb-infobox qx-text-center sections-save-box",children:[(0,ot.jsxs)("div",{className:"qx-mt-3",children:[(0,ot.jsx)("i",{className:"qxuicon-conveyor-belt-alt qx-fb-title-icon"}),(0,ot.jsx)("h2",{children:"Save Your Section To Library"}),(0,ot.jsx)("p",{className:"qx-mb-4",children:"Your designs will be available for export and reuse on any page or website"})]}),(0,ot.jsxs)(Qd,{prefixCls:"qxui-input-group",block:!0,children:[(0,ot.jsx)(li.default,{size:"large",placeholder:"Enter Section Name",value:this.state.sectionName,style:{width:"75%"},prefixCls:"qxui-input",onChange:e=>this.setState({sectionName:e.target.value})}),(0,ot.jsxs)(ci(),{type:"primary",disabled:this.state.process,size:"large",style:{width:"25%"},onClick:this.saveSection,children:[(0,ot.jsx)("i",{className:"qx-margin-small-right qxuicon-save"})," Save"]})]})]})})}})||Jd;const Zd=Xd;var $d;function ec(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const tc=oi.default.Compact,sc={invokeElementSaveModal:Ks};let ic=(0,c.Ng)((e=>{let{action:{action:t,path:s},nodes:{nodes:i}}=e;return{visible:t===Q,path:s,nodes:i}}),sc)($d=class extends d.Component{constructor(){super(...arguments),ec(this,"state",{process:!1,element:{},elementName:""}),ec(this,"saveElement",(()=>{let e=Ht([...this.props.nodes],[...this.props.path]);e.name=this.state.elementName,e.id,this.setState({elementName:""});const t=je(),s={type:"element",data:[e]};let i=new FormData;i.set("jform[data]",JSON.stringify(s)),i.set("jform[title]",this.state.elementName),i.set("jform[builder]","frontend"),i.set("jform[type]","element"),i.set("jform[state]","1"),i.set("jform[id]","0"),i.set("id","0"),i.set("type","collection"),i.set(t,"1"),De()({method:"post",url:"".concat(ge(),"/index.php?option=com_quix&task=collection.save"),data:i,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((e=>{window.jQuery(".savePage i").removeClass("anticon-loading").removeClass("anticon-spin").addClass("anticon-save");let t=e.data;if("object"==typeof t)if(t.success){dt.success("Template saved"),ke("MY_ELEMENTS");const e=new CustomEvent("updateElementList",{detail:{core_id:t.data.id}});window.dispatchEvent(e),this.props.invokeElementSaveModal()}else dt.warning(t.message);else dt.error(t)}))}))}render(){return(0,ot.jsx)(bn,{width:550,show:this.props.visible,close:()=>this.props.invokeElementSaveModal(),title:"Add Element To Library",footer:!1,closable:!0,onCancel:()=>this.props.invokeElementSaveModal(),closeModal:()=>this.props.invokeElementSaveModal(),style:{left:"calc(50vw - 225px)"},children:(0,ot.jsxs)("div",{className:"qx-fb-infobox qx-text-center sections-save-box",children:[(0,ot.jsxs)("div",{className:"qx-mt-3",children:[(0,ot.jsx)("i",{className:"qxuicon-conveyor-belt-alt qx-fb-title-icon"}),(0,ot.jsx)("h2",{children:"Save Your Element To My Elements"}),(0,ot.jsx)("p",{className:"qx-mb-4",children:"Your designs will be available for export and reuse on any page or website"})]}),(0,ot.jsxs)(tc,{prefixCls:"qxui-input-group",block:!0,children:[(0,ot.jsx)(li.default,{size:"large",placeholder:"Enter Element Name",value:this.state.elementName,style:{width:"75%"},prefixCls:"qxui-input",onChange:e=>this.setState({elementName:e.target.value})}),(0,ot.jsxs)(ci(),{type:"primary",disabled:this.state.process,size:"large",style:{width:"25%"},onClick:this.saveElement,children:[(0,ot.jsx)("i",{className:"qx-margin-small-right qxuicon-save"})," Save"]})]})]})})}})||$d;const nc=ic;var ac,oc=s(841);function lc(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const rc=oi.default.Compact,dc=da.default.Option,cc=e=>(0,ot.jsx)("i",{className:e.type,style:null==e?void 0:e.style}),pc={invokeDisplayConditionModal:Us};const uc=(0,c.Ng)((e=>{let{action:{action:t}}=e;return{visible:t===Y}}),pc)(ac=class extends d.Component{constructor(){super(...arguments),lc(this,"state",{stack:[],settings:"",oldSettings:[],settingOptions:[],subSettingOptions:[],selectedType:"all-menu",selectedSubType:"",subMenus:[],selectedMenuType:"",warning:!1,conditionData:[]}),lc(this,"closeDraggableModal",(()=>{this.props.invokeDisplayConditionModal(!1)})),lc(this,"loadMenu",(e=>{let t=this.state.subMenus;t[e]||(t[e]=[],De().get("".concat(ge(),"/index.php?option=com_quix&task=api.getParentItem&menutype=").concat(e)).then((s=>{t[e]=s.data,this.setState({subMenus:t})})))})),lc(this,"dataSave",(()=>{let e=this.state.conditionData;return rs("jform_conditions").value=JSON.stringify(e),!0})),lc(this,"save",(()=>{this.dataSave(),this.closeDraggableModal()})),lc(this,"remove",(e=>{let t=Jt(this.state.conditionData);t.splice(e,1),this.setState({conditionData:t})})),lc(this,"addCondition",(()=>{let e=Jt(this.state.conditionData);e.push({typeCondition:"include",type:"all-menu",subType:"",parent_menu:""}),this.setState({conditionData:e})})),lc(this,"changeVal",((e,t)=>{let s=t.name,i=t.parentindex,n=Jt(this.state.conditionData);"menus"===n[i].type&&"subType"===s&&(this.state.subMenus[e]||this.loadMenu(e)),n[i][s]=e,this.setState({conditionData:n})})),lc(this,"showCondition",((e,t)=>{const s=rs("jform_template_type");let i;i=null!=s?s.value:"section";let n=null;return"menus"===e.type&&e.subType&&(this.state.subMenus[e.subType]||this.loadMenu(e.subType),this.state.subMenus[e.subType]&&(n=(0,ot.jsx)(da.default,{prefixCls:"qxui-select",getPopupContainer:()=>window.document.body,value:e.parent_menu,onChange:this.changeVal,className:"qx-margin-right",children:this.state.subMenus[e.subType].map((e=>(0,ot.jsx)(dc,{parentindex:t,value:e.id,name:"parent_menu",children:e.title},e.id)))}))),(0,ot.jsx)("div",{className:"publish-settings__condition qx-margin-small-bottom qx-background-muted qx-padding-small",style:{borderRadius:"4px",padding:"5px"},children:(0,ot.jsxs)(rc,{prefixCls:"qxui-input-group",children:[(0,ot.jsxs)(da.default,{prefixCls:"qxui-select",getPopupContainer:()=>window.document.body,value:e.typeCondition,onChange:this.changeVal,className:"qx-margin-right",children:[(0,ot.jsx)(dc,{parentindex:t,value:"include",name:"typeCondition",children:"Include"},"include"),(0,ot.jsx)(dc,{parentindex:t,value:"exclude",name:"typeCondition",children:"Exclude"},"exclude")]}),(0,ot.jsxs)(da.default,{prefixCls:"qxui-select",getPopupContainer:()=>window.document.body,value:e.type,onChange:this.changeVal,className:"qx-margin-right",children:[(0,ot.jsx)(dc,{parentindex:t,value:"all-menu",name:"type",children:"Default - Entire Site"},"all-menu"),(0,ot.jsx)(dc,{parentindex:t,value:"menus",name:"type",children:"Menus"},"menus"),"article"===i?(0,ot.jsx)(dc,{parentindex:t,value:"article",name:"type",children:"All Articles"},"article"):null,"article"===i?(0,ot.jsx)(dc,{parentindex:t,value:"categories",name:"type",children:"Categories"},"categories"):null]}),"article"!==e.type&&"all-menu"!==e.type?(0,ot.jsx)(da.default,{prefixCls:"qxui-select",getPopupContainer:()=>window.document.body,value:e.subType,onChange:this.changeVal,className:"qx-margin-right",children:this.state.settingOptions[e.type]?this.state.settingOptions[e.type].map((e=>(0,ot.jsx)(dc,{parentindex:t,value:e.value,name:"subType",children:e.text},e.value))):null}):null,"menus"===e.type&&e.subType?n:null,(0,ot.jsx)("span",{href:"#",onClick:()=>this.remove(t),className:"qx-flex qx-flex-middle qx-text-muted qx-link",style:{marginLeft:"-10px"},children:(0,ot.jsx)(cc,{type:"qxio-close"})})]})},t)}))}componentDidMount(){this.setState({settingOptions:window.QUIX_API_GETJOOMLACATEGORIES});let e=rs("jform_menutype").options,t=[],s=e.length,i=0;for(;i<s;i++){if("select menu"===e[i].text.toLowerCase())continue;let s=[];s.value=e[i].value,s.text=e[i].text,t.push(s)}let n=this.state.settingOptions;n.menus=t,this.setState({settingOptions:n});let a=rs("jform_conditions").value||"[]";this.setState({conditionData:JSON.parse(a)})}render(){return(0,ot.jsx)(bn,{className:"qxui-modal--with-tab modal--small theme-joomla-layouts-modal",title:"Publish Settings",show:this.props.visible,close:this.closeDraggableModal,style:{left:"calc(50vw - 400px)"},footer:[(0,ot.jsxs)("button",{className:"qxui-btn qxui-btn-primary qxui-btn-lg",onClick:this.save,children:[(0,ot.jsx)("i",{className:"qxuicon-check"})," Save "]},"save")],children:(0,ot.jsx)(oc.A,{prefixCls:"qx-card",bordered:!0,style:{maxHeight:"420px",overflow:"auto"},children:(0,ot.jsxs)("div",{children:[(0,ot.jsx)("div",{className:"qx-padding-small qx-qx-margin-bottom qx-text-center",children:(0,ot.jsx)(cc,{type:"qxif-rocket",style:{fontSize:"70px",color:"#08c"}})}),(0,ot.jsx)("div",{className:"qx-card-head qx-margin-bottom",children:(0,ot.jsxs)("div",{className:"qx-card-head-wrapper",children:[(0,ot.jsx)("h2",{className:"qx-card-head-title qx-text-center",style:{fontSize:"30px",marginBottom:"40px"},children:"Where do you want to display your layout?"}),(0,ot.jsxs)("div",{className:"qx-text-muted qx-text-center",style:{fontFamily:"Roboto,Arial,Helvetica,Verdana,sans-serif",fontSize:"18px",fontWeight:300},children:["Set the conditions that determine where your Template is used throughout your site.",(0,ot.jsx)("br",{}),"For example, choose 'Entire Site' to display the template across your site."]})]})}),(0,ot.jsxs)("div",{className:"qx-fb-field",children:[this.state.conditionData.map(this.showCondition),this.state.warning?(0,ot.jsx)("p",{className:"qx-alert qx-alert-warning qx-small qx-padding-small",children:" Please complete your selection first"}):null,(0,ot.jsx)("div",{className:"qx-padding qx-text-center",children:(0,ot.jsx)("button",{onClick:()=>{this.addCondition()},className:"qxui-btn qxui-btn-primary",children:"Add Condition"})})]})]})})})}})||ac,hc=()=>(0,ot.jsxs)("div",{children:[(0,ot.jsx)(Dn,{children:(0,ot.jsx)(ja,{})}),(0,ot.jsx)(Dn,{children:(0,ot.jsx)(Vd,{})}),(0,ot.jsx)(Dn,{children:(0,ot.jsx)(Ba,{})}),(0,ot.jsx)(Dn,{children:(0,ot.jsx)(td,{})}),(0,ot.jsx)(Dn,{children:(0,ot.jsx)(Yr,{})}),(0,ot.jsx)(Dn,{children:(0,ot.jsx)(Zd,{})}),(0,ot.jsx)(Dn,{children:(0,ot.jsx)(nc,{})}),(0,ot.jsx)(Dn,{children:(0,ot.jsx)(uc,{})}),(0,ot.jsx)(Dn,{children:(0,ot.jsx)(Bl,{})})]});var mc;function xc(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const gc={copyNode:$i,setContainerWidth:function(e){return{type:p,payload:{width:e}}},setDevice:dn,hideFormModal:Hi},vc=(0,c.Ng)((e=>{let{form:t}=e;return{isModalOpen:t.showForm}}),gc)(mc=class extends d.Component{constructor(){super(...arguments),xc(this,"shouldComponentUpdate",fn()),xc(this,"readFromClipboard",(()=>{mt("qx-node").then((e=>{var t;e&&e.id!==(null===(t=window)||void 0===t||null===(t=t.QUIX)||void 0===t?void 0:t.lastCopiedNodeId)&&(window.QUIX||(window.QUIX={}),window.QUIX.lastCopiedNodeId=e.id,this.props.copyNode(null,e))}))}))}componentDidMount(){this.props.setContainerWidth(jQuery(".app-mount").width()),ss().then((e=>{e.addEventListener("mouseenter",this.readFromClipboard)})),this.readFromClipboard()}componentWillUnmount(){ss().then((e=>{e.removeEventListener("mouseenter",this.readFromClipboard)}))}render(){return(0,ot.jsx)("div",{className:"frontend-blocks",children:(0,ot.jsxs)(d.Suspense,{fallback:(0,ot.jsx)(Pl,{}),children:[(0,ot.jsx)(Nl,{}),(0,ot.jsx)(hc,{})]})})}})||mc;var fc=s(57885),yc=s(71937),bc=s(59564);const wc={url:quix.url,qid:"0"===quix.id?null:quix.id,grid:12,col:8.333333333333334,blocks:JSON.parse(quix.blocks),saveCollectionScreen:{visible:!1,data:null,category:null},jmedia:{visible:!1,options:{}},exportImportScreen:{visible:!1},seoScreen:{visible:!1},pageModal:{visible:!1},linkMenuModal:{visible:!1},joomlaLayouts:{visible:!1}};let jc=Jt(window.QUIX_PAGE);if(window.QUIX_PAGE=null,!Array.isArray(jc))throw new Error("Source nodes must be type of array");jc=function e(t){return t.map((t=>(t.children=e(t.children),t.id=t.form.advanced.identifier.id,t)))}(jc);const qc={nodes:jc.slice(),saved:jc.slice(),clipboard:{node:null},responsive:!1,device:"lg",resize:{rowPath:null,column1:{id:null,index:0,width:50},column2:{id:null,index:1,width:50},meLeft:!0,width:0}};jc=null;const Cc={path:null,index:0,action:null,openJMedia:!1,theme:localStorage.getItem("qx-theme")},Sc={showForm:!1,path:null,node:null,initialNode:null,schema:null},_c={path:[],placement:"AFTER"},Nc={extendKeys:new Set,isExtendUpdating:!1},kc={qxButtonStyles:{},qxLinkStyles:{},qxTextStyles:{},qxStacks:{}},Ec={action:"",groupRepeaterAction:!1},Pc={currentVersion:[],versions:{},versionNumber:0},Tc=(0,yc.HY)({meta:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wc,{type:t,payload:s}=arguments.length>1?arguments[1]:void 0;switch(t){case p:return{...e,col:s/e.grid};case h:return{...e,saveCollectionScreen:{...e.saveCollectionScreen,...s}};case u:return{...e,exportImportScreen:{...e.exportImportScreen,visible:s}};case x:return{...e,qid:"0"===s?null:s};default:return e}},nodes:function(){let e,t,s,i,n,a,o,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qc,{type:r,payload:d}=arguments.length>1?arguments[1]:void 0;switch(Pi(),r){case"UNDO":case"REDO":return{...l};case g:return{...l,nodes:Jt(d)};case I:return s=d.index||l.nodes.length,e=function(e,t,s){return[...t,...Rt(s)]}(0,[...l.nodes],[...d.newNodes]),{...l,nodes:e};case k:return o=d.targetPath,t=l.clipboard.node,e=Tt([...l.nodes],t,[...o]),{...l,nodes:e};case w:return s=d.index||l.nodes.length,e=It([...l.nodes],[s],function(){const e=St("section"),t=Gt(e.slug),s=e.form;return{id:t,hash:Gt("edit-hash"),children:[],slug:e.slug,form:{...s,advanced:{...s.advanced,identifier:{...s.advanced.identifier,id:t}}},visibility:{...e.visibility}}}()),{...l,nodes:e};case v:return e=Ut([...l.nodes],[...d.nodePath],["form",...d.valuePath],d.value),{...l,nodes:e};case y:return e=It([...l.nodes],[...d.path,d.index],function(){const e=St("row"),t=Gt(e.slug),s=e.form;return{id:t,hash:Gt("edit-hash"),children:[],slug:e.slug,form:{...s,advanced:{...s.advanced,identifier:{...s.advanced.identifier,id:t}}},visibility:{...e.visibility}}}()),{...l,nodes:e};case b:return e=function(e,t,s){return Kt(e,[...t,s+1],((e,t)=>{const s=t.length+1;if(s>12)return[...t];const i=_t(1/s);return kt(Lt(t,e,i),i.form.general.layout_fields_group.col_width)}))}([...l.nodes],d.path,d.index),{...l,nodes:e};case L:return e=Pt([...l.nodes],d.path,!0),{...l,nodes:e};case j:return t=function(e){let t=St(e.slug),s=Gt(e.slug);return{id:s,name:t.name,group:t.group,hash:Gt("edit-hash"),children:[],slug:t.slug,form:{...t.form,advanced:{...t.form.advanced,identifier:{...t.form.advanced.identifier,id:s,label:t.slug}}},visibility:{...t.visibility}}}(d.element),d.node=t,e=It([...l.nodes],[...d.path],t),{...l,nodes:e};case q:return t=function(e){let t=Jt(e),s=Gt(e.slug);return{id:s,name:t.name,group:t.group,hash:Gt("edit-hash"),children:[],slug:t.slug,form:{...t.form,advanced:{...t.form.advanced,identifier:{...t.form.advanced.identifier,id:s,label:t.slug}}},visibility:{...t.visibility}}}(d.element),e=It([...l.nodes],[...d.path],t),{...l,nodes:e};case T:return e=function(e,t,s){return t.forEach(((t,i)=>{s=It([...s],[...e,i],_t(t))})),s}(d.path,d.layout,[...l.nodes]),{...l,nodes:e};case E:const r=Ht([...l.nodes],[...d.path]);if(e=Mt([...l.nodes],[...d.path]),"column"===r.slug){const t=[...d.path].slice(0,-2);e=Bt([...e],t)}return{...l,nodes:e};case z:return e=[],{...l,nodes:e};case F:return e=Et([...l.nodes],[...d.path],d.node),{...l,nodes:e};case"REPLACE_NODES":return{...l,nodes:d.nodes};case C:return e=Pt([...l.nodes],d.path),{...l,nodes:e};case O:return{...l,device:d.device};case A:return e=Ft([...l.nodes],[...d.path,"visibility"],d.visibility),e=Ft(e,[...d.path,"hash"],Gt("qx-hash")),{...l,nodes:e};case S:return t=d.node||Ht(l.nodes,[...d.path]),xt("qx-node",t),{...l,clipboard:{...l.clipboard,node:Jt(t)}};case N:const c=[...d.path];t=l.clipboard.node;let p=Ht([...l.nodes],[...c]);const u=gt(p)?"element":p.slug,h=gt(t)?"element":t.slug;if(!yt(u,h))return dt.warning("Node type doesn't match."),{...l};if(o=[...c],ft(u)<ft(h))o=[...o,"children",d.bellow?p.children.length:0];else if(d.bellow){let e=o.pop();e++,o=[...o,e]}return e=Tt([...l.nodes],t,[...o]),dt.success("Pasted successfully."),{...l,nodes:e,clipboard:{...l.clipboard,node:t}};case D:return i=l.clipboard.node,i?(t=Ht([...l.nodes],[...d.path]),n=At(i,t),e=Ot([...l.nodes],[...d.path],{form:{styles:Jt(n.form.styles),advanced:Jt(n.form.advanced)},hash:Gt("qx-hash")}),e=Ft(e,[...d.path,"hash"],Gt("qx-hash")),{...l,nodes:e}):{...l};case R:return i=l.clipboard.node,i?(a=Ht(i,["form",...d.stylePath]),e=Ot([...l.nodes],[...d.nodePath,"form",...d.stylePath],a),e=Ft(e,[...d.nodePath,"hash"],Gt("qx-hash")),{...l,nodes:e}):{...l};case M:t=Ht(l.nodes,[...d.path]);const m=At(St(t.slug),t);return t={...t,hash:Gt(t.slug),form:{...t.form,styles:Jt(m.form.styles),advanced:Jt(m.form.advanced)}},e=Et([...l.nodes],[...d.path],t),{...l,nodes:e};case"UPDATE_TITLE":return{...l};case P:return e=function(e,t,s){const i=Ht([...e],[...t]);e=It([...e],[...s],i);const n=[...t];let a=n.pop();const o=[...s],l=o.pop();if(n.join()===o.join()){const t=a>l?a+1:a;return Mt([...e],[...n,t])}return Mt([...e],[...t])}([...l.nodes],[...d.from],[...d.to]),{...l,nodes:e};case f:return e=Bt([...l.nodes],[...d.path]),{...l,nodes:e};case K:const x=+d.path.slice().pop();let _,H,B,W=[...d.path].slice(0,d.path.length-2),V=!0;const J=Ht([...l.nodes],[...W]);if("row"!==J.slug)return{...l};x>J.children.length-2?(_=J.children[x],B=x-1,H=J.children[B],V=!1):(_=J.children[x],B=x+1,H=J.children[B]);const G={column1:{id:_.form.advanced.identifier.id,index:x,width:qs(_.form.general.layout_fields_group.col_width,d.width)},column2:{id:H.form.advanced.identifier.id,index:B,width:qs(H.form.general.layout_fields_group.col_width,d.width)}};return{...l,resize:{rowPath:W,...G,meLeft:V,width:d.width}};case U:return e=Ut([...l.nodes],[...l.resize.rowPath,"children",l.resize.column1.index],["form","general","layout_fields_group","col_width"],qs(d.width.column1.width,l.resize.width)),e=Ut([...l.nodes],[...l.resize.rowPath,"children",l.resize.column2.index],["form","general","layout_fields_group","col_width"],qs(d.width.column2.width,l.resize.width)),{...l,nodes:e,resize:{rowPath:null,column1:null,column2:null,meLeft:!0}};case"WITHDRAW_ROW_LAYOUT":case"APPLY_NODE_FORM":case"IMPORT_NODES":case"APPEND_PRESET":case"PREPEND_PRESET":case"REPLACE_PRESET":case"SET_NODES":case"RESPONSIVE_MODE":case"SAVED_NODES":case"UPDATE_COLUMN_WIDTH":return{...l};default:return l}},action:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cc,{type:t,payload:s}=arguments.length>1?arguments[1]:void 0;switch(t){case H:case B:return{...e,...s};case W:let t="";return t="auto"===(null==s?void 0:s.theme)?"light"===e.theme?"dark":"light":null==s?void 0:s.theme,(e=>{localStorage.setItem("qx-theme",e),document.querySelector("html").setAttribute("data-theme",e),ss().then((t=>{t.querySelector("html").setAttribute("qx-builder-theme",e)}))})(t),{...e,theme:t};case V:return{...e,jmedia:{callback:s.callback,config:s.config},openJMedia:s.show};default:return e}},form:function(){var e;let t,s,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sc,{type:n,payload:a}=arguments.length>1?arguments[1]:void 0;switch(n){case X:if(!a.path)return{...i,showForm:!1,path:null,node:null,initialNode:null};s=function(e){const t=wt.find((t=>t.slug===e.slug));if(!t)throw new Error("Could not find schema for ".concat(e.slug));return t}(a.node);let o=!0;return n===j&&"column"===(null===(e=a.node)||void 0===e?void 0:e.slug)&&(o=!1),{...i,showForm:o,path:a.path,node:Jt(a.node),initialNode:Jt(a.node),schema:s};case Z:return{...i,node:Jt(a.node)};case v:return t={...i.node},i.node&&t?(t.form=zt({...i.node.form},[...a.valuePath],a.value),{...i,node:{...t}}):{...i};default:return i}},dnd:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c,{type:t,payload:s}=arguments.length>1?arguments[1]:void 0;return t===ee?s.path.join()===e.path.join()&&s.placement===e.placement?e:{...e,path:s.path,placement:s.placement}:e},tree:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nc,{type:t,payload:s}=arguments.length>1?arguments[1]:void 0;switch(t){case te:return!s.extendAllKeys&&e.extendKeys.has(s.value)?e:{...e,isExtendUpdating:!e.isExtendUpdating,extendKeys:s.extendAllKeys?new Set(s.extendAllKeys):new Set([...e.extendKeys,...s.value])};case se:const t=e.extendKeys;return t.delete(s),{...e,isExtendUpdating:!e.isExtendUpdating,extendKeys:new Set(t)};default:return e}},globalStyles:function(){let e,t,s,i,n,a,o,l,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kc,{type:d,payload:c}=arguments.length>1?arguments[1]:void 0;switch(d){case"SET_COLORS_GROUP_STACKS":return n=r.qxStacks.colors,a={...n,...c},localStorage.setItem("qxStacksColors",JSON.stringify(a)),{...r,qxStacks:{...r.qxStacks,colors:{...a}}};case"REMOVE_COLORS_GROUP_FIELD":if(n=r.qxStacks.colors,delete n[c],!Object.keys(n).length){const e=r.qxStacks;return delete e.colors,localStorage.setItem("qxStacksColors",JSON.stringify(null)),{...r,qxStacks:{...e}}}return localStorage.setItem("qxStacksColors",JSON.stringify(n)),{...r,qxStacks:{...r.qxStacks,colors:{...n}}};case"SET_TEXT_STYLES":return e=r.qxTextStyles,t={...e,...c},localStorage.setItem("qxTextStyles",JSON.stringify({...t,...c})),{...r,qxTextStyles:{...t}};case"SET_TEXT_GROUP_STACKS":return i={[c]:{name:"Typography",tag:""}},s=r.qxStacks.text,localStorage.setItem("qxStacksText",JSON.stringify({...s,...i})),{...r,qxStacks:{...r.qxStacks,text:{...s,...i}}};case"REMOVE_TEXT_GROUP_STACK":if(s=r.qxStacks.text,e=r.qxTextStyles,delete s[c],delete e[c],localStorage.setItem("qxTextStyles",JSON.stringify({...e})),!Object.keys(s).length){localStorage.setItem("qxStacksText",JSON.stringify(null));const t=r.qxStacks;return delete t.text,{...r,qxTextStyles:{...e},qxStacks:{...t}}}return localStorage.setItem("qxStacksText",JSON.stringify({...s})),{...r,qxTextStyles:{...e},qxStacks:{...r.qxStacks,text:{...s}}};case"SET_TEXT_GROUP_FIELD":const{itemKey:d,name:p,tag:u}=c,h=r.qxStacks.text,m={qxStacks:{...r.qxStacks,text:{...h,[d]:{...h[d],name:p||h[d].name,tag:u||h[d].tag}}}};return localStorage.setItem("qxStacksText",JSON.stringify(m.qxStacks.text)),{...r,...m};case"SET_LINKS_GROUP_STACKS":return o=r.qxStacks.links,l={qxStacks:{...r.qxStacks,links:{...o,[c.itemKey]:c.value}}},localStorage.setItem("qxStacksLinks",JSON.stringify(l.qxStacks.links)),{...r,...l};case"REMOVE_LINKS_GROUP_STACKS":o=r.qxStacks.links,e=r.qxLinkStyles;const x=r.qxButtonStyles;if(delete o[c],delete e[c],delete x[c],localStorage.setItem("qxLinksStyles",JSON.stringify({...e})),localStorage.setItem("qxButtonStyles",JSON.stringify({...x})),!Object.keys(o).length){localStorage.setItem("qxStacksLinks",JSON.stringify(null));const t=r.qxStacks;return delete t.links,{...r,qxLinksStyles:{...e},qxStacks:{...t}}}return localStorage.setItem("qxStacksLinks",JSON.stringify({...o})),{...r,qxLinksStyles:{...e},qxStacks:{...r.qxStacks,links:{...o}}};case"SET_LINKS_STYLES":return e=r.qxLinkStyles,t={...e,[c.itemKey]:c.value},localStorage.setItem("qxLinksStyles",JSON.stringify(t)),{...r,qxLinkStyles:t};case"SET_BUTTON_STYLES":return e=r.qxButtonStyles,t={...e,[c.itemKey]:c.value},localStorage.setItem("qxButtonStyles",JSON.stringify(t)),{...r,qxButtonStyles:t};default:return r}},trackActions:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ec,{type:t,payload:s}=arguments.length>1?arguments[1]:void 0;switch(t){case ie:return{...e,action:s};case ne:return{...e,groupRepeaterAction:null!=s?s:!e.groupRepeaterAction};default:return e}},versionControl:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc,t=arguments.length>1?arguments[1]:void 0;const{payload:s}=t;switch(t.type){case"SET_CURRENT_VERSION":return{...e,currentVersion:s};case"SET_VERSIONS":return{...e,versions:s};case"SET_VERSION":return{...e,versions:{...e.versions,...s}};case"SET_VERSION_NUMBER":return{...e,versionNumber:s};default:return e}}}),Ac=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||yc.Zz;function Oc(){return(0,ot.jsxs)("div",{style:{paddingInline:25,textAlign:"center",marginTop:"6rem"},className:"qx-empty-information fade-in",children:[(0,ot.jsx)("img",{className:"qx-tree-preview",src:ye()+"/media/quixnxt/images/tree-preview.png"}),(0,ot.jsx)("h5",{style:{marginBlock:"14px 8px",color:"var(--qx-text-color-dark-mode, #666)"},children:"Easy Navigation is Here!"}),(0,ot.jsxs)("p",{style:{fontSize:12,margin:0,color:"var(--qx-text-color-dark-mode, #666)"},children:["Once you fill your page with content, this window will give you an overview display of all the page elements. This way, you can easily move around any section, column, ",(0,ot.jsx)("span",{children:"or widget."})]})]})}const Dc=()=>{const e=(0,c.d4)((e=>{var t;let{nodes:s}=e;return 0===(null==s||null===(t=s.nodes)||void 0===t?void 0:t.length)}),((e,t)=>e===t)),[t,s]=(0,d.useState)("layers"),[i,n]=(0,d.useState)(!0),a=(e=>{rs("canvas-dynamic-content");let t=!1,s=null;return!1 in Ls?Ls[e]=rs("qx-left-side-bar"):s=rs("qx-left-side-bar"),i=>{let{currentTarget:n,open:a,setOpen:o}=i;if(t)return;t=!0;const l=n.firstElementChild;try{a?(s.classList.remove("qx-sidebar-open"),s.classList.add("qx-sidebar-closed"),l.style.transform="rotate(-180deg)",n.style.left="20px"):(s.classList.remove("qx-sidebar-closed"),s.classList.add("qx-sidebar-open"),l.style.transform="rotate(0)",n.style.left="228px",o(!a))}catch(t){console.error("Error while toggling ".concat(e,"-bar"),t)}setTimeout((()=>{o(!a),t=!1,Ps()}),450)}})("left"),o=(0,ot.jsx)("div",{style:{width:"100%",display:"layers"===t?"block":"none"},children:(0,ot.jsx)(Dn,{children:(0,ot.jsx)(la,{})})});return(0,ot.jsxs)("div",{className:"qx-position-relative",children:[(0,fc.createPortal)((0,ot.jsx)("button",{className:"qx-side-bar-toggle-btn",type:"button",style:{position:"absolute",zIndex:"var(--z-index-first)"},onClick:e=>{let{currentTarget:t}=e;a({currentTarget:t,setOpen:n,open:i})},children:(0,ot.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",transform:"rotate(0)",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"var(--txt-accent-color, #fff)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-panel-left-close",children:[(0,ot.jsx)("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),(0,ot.jsx)("path",{d:"M9 3v18"}),(0,ot.jsx)("path",{d:"m16 15-3-3 3-3"})]})}),document.body),i&&(e?(0,ot.jsx)(Oc,{}):(0,ot.jsxs)("div",{unselectable:"on",allow:"clipboard-read; clipboard-write",style:{position:"relative",paddingBottom:"10rem"},children:[(0,ot.jsx)("p",{className:"qxui-settings-title qx-text-left",style:{paddingLeft:"1rem"},children:"Layers"}),(0,ot.jsx)(gn.default,{}),(0,ot.jsxs)("div",{style:{paddingInline:12},children:[o,Se()&&(0,ot.jsx)(Xs,{requestFrom:"layer",title:"Unlock More Power",message:"Upgrade to Pro and Experience the Full Potential!"})]})]}))]})},Rc=e=>{let{defaultValue:t,options:s,handelChange:i,block:n=!0,...a}=e;return(0,ot.jsx)(Id.A,{onChange:e=>i(e),options:s,block:n,...a,defaultValue:t||"general"})},Mc=()=>{const e=(0,c.d4)((e=>{let{form:{schema:t}}=e;return null==t?void 0:t.slug}),c.bN),t=(0,c.d4)((e=>{let{form:{schema:t}}=e;return null==t?void 0:t.name}),c.bN),s=(0,c.d4)((e=>{var t;let{form:{node:s}}=e;return null==s||null===(t=s.form)||void 0===t||null===(t=t.advanced)||void 0===t||null===(t=t.identifier)||void 0===t?void 0:t.label}),c.bN);return(0,ot.jsx)("p",{className:"qxui-settings-title",children:"section"===e&&s?s:Rs({absoluteKey:"".concat(e,"_").concat(e),label:t||e})})};var Lc=s(91769),Ic=s.n(Lc);function Fc(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Kc extends d.Component{constructor(e){super(e),Fc(this,"initializeValue",(e=>e.value||"")),Fc(this,"isFreeUser",Se()),Fc(this,"loadAccessList",(()=>{let e=document.getElementById("jform_access").options,t=[];for(let s=0;s<e.length;s++){if(""===e[s].value)continue;const{text:i}=e[s];t.push({text:Rs({absoluteKey:i,label:i}),value:e[s].value})}this.setState({accessListArray:t})})),Fc(this,"handleChange",(e=>{this.setState({selectedValue:e},(()=>{this.props.onChange(e)}))})),Fc(this,"handleReset",(()=>{this.setState({selectedValue:""},(()=>{this.props.onChange("")}))})),this.state={accessListArray:[],selectedValue:this.initializeValue(e)}}UNSAFE_componentWillMount(){this.loadAccessList()}render(){let{label:e,name:t,proField:s}=this.props;const{selectedValue:i}=this.state,n=this.isFreeUser&&s;return(0,ot.jsxs)(l.A,{align:"middle",children:[(0,ot.jsx)(r.A,{span:10,children:(0,ot.jsx)("p",{className:"qx-fb-field__label",children:Rs({key:t,label:e})})}),(0,ot.jsx)(r.A,{span:14,children:(0,ot.jsx)(da.default,{label:e,defaultValue:"1",value:i,disabled:n,placeholder:n?"This is a pro field":"",style:{width:"100%"},onChange:this.handleChange,onReset:this.handleReset,prefixCls:"qxui-select",getPopupContainer:()=>window.document.body,options:this.state.accessListArray.map((e=>({key:e.value,label:e.text,value:e.value})))})})]})}}const Uc=Kc;var zc=s(53602);function Hc(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Bc=oi.default.Compact;class Wc extends d.Component{constructor(){super(...arguments),Hc(this,"state",{visible:!1}),Hc(this,"onChange",((e,t)=>{let{url:s}=this.props;void 0!==s&&"url"===e&&this.props.onChange({text:this.props.text,url:t,target:this.props.target,nofollow:this.props.nofollow})})),Hc(this,"onNoFollowChange",(e=>{let t=!1;e.target.checked&&(t=!0),this.props.onChange({target:this.props.target,url:this.props.url,nofollow:t})})),Hc(this,"onTargetChange",(e=>{let t="";e.target.checked&&(t=e.target.value),this.props.onChange({target:t,url:this.props.url,nofollow:this.props.nofollow})})),Hc(this,"renderUrl",(e=>(0,ot.jsx)(li.default,{label:"URL",placeholder:"https://www.yoursite.com",value:e,"data-for":"link-url",prefixCls:"qxui-input",onChange:e=>{this.onChange("url",e.target.value,this)}}))),Hc(this,"getLabelMarkup",(()=>{let{label:e,name:t}=this.props;return(0,ot.jsx)("span",{children:Rs({key:t,label:e})})})),Hc(this,"getHelpMarkup",(()=>{let{help:e}=this.props;if(e)return(0,ot.jsx)(ri.default,{content:e,placement:"right",popupStyle:{width:"300px"},children:(0,ot.jsx)("i",{className:"qx-help-circle qxuicon-question-circle"})})})),Hc(this,"getOptions",(()=>{let{target:e,nofollow:t}=this.props;return{items:[{key:"target",label:(0,ot.jsx)(zc.default,{checked:"new_window"===e,onChange:e=>this.onTargetChange(e),value:"new_window",children:(0,ot.jsx)("span",{style:{color:"var(--qx-text-color-dark-mode)"},children:Rs({absoluteKey:"Open in new window",label:"Open in new window"})})}),style:{marginBottom:"0.8rem"}},{key:"nofollow",label:(0,ot.jsx)(zc.default,{checked:t,onChange:e=>this.onNoFollowChange(e),value:"nofollow",children:(0,ot.jsx)("span",{style:{color:"var(--qx-text-color-dark-mode)"},children:Rs({absoluteKey:"Add nofollow",label:"Add nofollow"})})})}]}})),Hc(this,"handleVisibleChange",(e=>{this.setState({visible:e})}))}render(){let{url:e}=this.props;return(0,ot.jsxs)("div",{style:{marginBottom:"15px"},className:"qx-fb-field-link",children:[(0,ot.jsxs)("div",{style:{marginBottom:10},className:"qx-fb-field__label qx-flex qx-flex-middle",children:[this.getLabelMarkup(),this.getHelpMarkup()]}),(0,ot.jsxs)(Bc,{block:!0,children:[void 0===e?null:this.renderUrl(e),(0,ot.jsx)(In.default,{menu:this.getOptions(),placement:"bottomRight",prefixCls:"qxui-dropdown",onOpenChange:this.handleVisibleChange,open:this.state.visible,getPopupContainer:e=>e.closest(".qx-fb-field-link"),children:(0,ot.jsx)(ci(),{style:{width:"10%",padding:"0"},children:(0,ot.jsx)("i",{className:"qxuicon-cog"})})})]})]})}}Wc.propTypes={label:oo().string,url:oo().string,target:oo().string};const Vc=Wc;var Jc;function Gc(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Qc=(0,c.Ng)((e=>{let{form:{node:t}}=e;return{id:null==t?void 0:t.id}}))(Jc=class extends d.Component{constructor(e){var t;super(e),t=this,Gc(this,"setEditorState",(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const s=t.props.value;let i;i={editorId:t.eId,editorState:s,activeEditor:"draft-js"},e?(t.setState(i),t.editor.setContent(i.editorState)):t.state=i})),Gc(this,"onChange",(e=>{let t=null!=e&&e.target?null==e?void 0:e.target.value:e.getContent();this.setState({content:t}),this.state.editorState=t,this.props.onChange(t)})),Gc(this,"expandTheSideBar",(()=>{setTimeout((()=>_s("maxWidth")),50)})),Gc(this,"collapseTheSideBar",(()=>{setTimeout((()=>_s("minWidth")),50)})),this.eId=Gt("editor"),this.setEditorState()}componentDidMount(){let e=this.state.editorId;const t=Ic()(this.onChange,250);let s=WFEditor.settings.plugins;s=s.replace("preview,",""),jQuery.extend(WFEditor.settings,{height:"200",plugins:s,setup:e=>{e.onChange.add(t),e.onKeyUp.add(t),e.onPaste.add(t),e.onFocus.add(this.expandTheSideBar),e.onBlur.add(this.collapseTheSideBar),this.editor=e}}),WFEditor.create(e)}componentDidUpdate(e,t,s){e.id!==this.props.id&&this.props.id&&this.setEditorState(!0)}render(){let{label:e,help:t}=this.props;const{editorState:s}=this.state;return(0,ot.jsxs)("div",{className:"qx-fb-field-editor",children:[(0,ot.jsx)("p",{className:"qx-fb-field__label",children:e}),(0,ot.jsx)("div",{children:(0,ot.jsx)("textarea",{value:s,id:this.state.editorId,onChange:this.onChange,disabled:"disabled",className:"qx-textarea qx-input mce_editable wf-editor qx-background-muted qx-form-blank"})}),(0,ot.jsx)("p",{className:ce()("qx-fb-field__help",{hide:!t}),children:t})]})}})||Jc;var Yc;function Xc(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Zc=(0,c.Ng)((e=>{let{form:{node:t}}=e;return{id:null==t?void 0:t.id}}))(Yc=class extends d.Component{constructor(e){var t;super(e),t=this,Xc(this,"setEditorState",(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const s=t.props.value;let i;i={editorId:t.eId,editorState:s,activeEditor:"draft-js"},e?(t.setState(i),t.editor.setContent(i.editorState)):t.state=i})),Xc(this,"initializeEditor",(()=>{let e=this.state.editorId;const{expandTheSideBar:t,collapseTheSideBar:s}=this,i="dark"===localStorage.getItem("qx-theme");if(window.tinymce){var n;const a=Joomla.getOptions("plg_editor_tinymce",{});if(null!=a&&null!==(n=a.tinyMCE)&&void 0!==n&&n.default){const n=a.tinyMCE.default;n.selector="textarea#".concat(e),n.width="100%",n.height="400",n.setup=e=>{e.on("change keyup cut paste redo undo",(t=>{this.onChange(e)})),e.on("focus",t),e.on("blur",s),this.editor=e},n.plugins=["advlist","autolink","lists","link","charmap","preview","image","table","searchreplace","code","fullscreen","media"],n.toolbar="undo redo | bold italic alignleft aligncenter alignright alignjustify | bullist numlist | blockquote fontsizeselect | link image code table | code",i?(n.skin="oxide-dark",n.content_style="body { background-color: #343c43; color: #fbfeff; }"):(n.skin="oxide",n.content_style="body { background-color: #fff; color: #333; }"),tinymce.init(n)}else tinymce.init({selector:"textarea#".concat(e),force_br_newlines:!0,force_p_newlines:!1,forced_root_block:"",toolbar_items_size:"small",invalid_elements:"script,applet",menubar:!1,setup:e=>{e.on("change keyup cut paste redo undo",(t=>{this.onChange(e)})),e.on("focus",t),e.on("blur",s),this.editor=e},plugins:["advlist autolink lists link charmap preview image table","searchreplace code fullscreen","media paste"],relative_urls:!0,document_base_url:ge(),image_class_list:[{title:"None",value:""},{title:"Left",value:"pull-left"},{title:"Right",value:"pull-right"}],toolbar:"undo redo | bold italic alignleft aligncenter alignright alignjustify | bullist numlist | blockquote fontsizeselect | link image code table | code"})}})),Xc(this,"componentDidMount",this.initializeEditor),Xc(this,"onChange",(e=>{let t=e.getContent();this.setState({content:t}),this.props.onChange(t)})),Xc(this,"expandTheSideBar",(()=>{setTimeout((()=>_s("maxWidth")),50)})),Xc(this,"collapseTheSideBar",(()=>{setTimeout((()=>_s("minWidth")),50)})),this.eId=Gt("editor"),this.setEditorState()}componentDidUpdate(e,t,s){e.id!==this.props.id&&this.props.id&&this.setEditorState(!0)}render(){let{name:e,label:t,help:s}=this.props;const{editorState:i}=this.state;return(0,ot.jsx)(ot.Fragment,{children:window.tinymce?(0,ot.jsxs)("div",{className:"qx-fb-field-editor",children:[(0,ot.jsx)("p",{className:"qx-fb-field__label mb-10px",children:Rs({key:e||t,label:t})}),(0,ot.jsx)("div",{children:(0,ot.jsx)("textarea",{value:i,id:this.state.editorId,onChange:this.onChange,disabled:"disabled",className:"qx-textarea qx-input mce_editable wf-editor qx-background-muted qx-form-blank"})}),s&&(0,ot.jsx)("p",{className:ce()("qx-fb-field__help",{hide:!s}),children:Rs({key:"".concat(e||t,"_help"),label:s})})]}):(0,ot.jsx)(ad,{...this.props})})}})||Yc;class $c extends d.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("Error caught in EditorErrorBoundary:",e,t)}render(){return this.state.hasError?this.props.fallback:this.props.children}}const ep=$c;class tp extends d.Component{render(){let e="undefined"!=typeof WFEditor;return(0,ot.jsx)(ep,{fallback:(0,ot.jsx)(ad,{...this.props}),children:e?(0,ot.jsx)(Qc,{...this.props}):(0,ot.jsx)(Zc,{...this.props})})}}const sp=tp;function ip(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class np extends d.Component{constructor(e){super(e),ip(this,"onChange",(e=>{this.props.onChange({...this.props.value,...e})})),ip(this,"onReset",(()=>{this.props.onChange({...this.props.value,...this.props.default})})),ip(this,"getFields",(()=>{const{color:e,blur:t,spread:s,position:i,horizontal:n,vertical:a}=this.props.value,o=this.props.default,d=(0,ot.jsxs)(ot.Fragment,{children:[(0,ot.jsx)(Pd,{label:"Color",name:"color",absoluteKey:!0,addonAfter:"Select",onlyColorPicker:!0,value:e,onChange:e=>this.onChange({color:e})}),(0,ot.jsx)(qd,{responsive:!1,reset:!1,label:"Horizontal",name:"Horizontal",absoluteKey:!0,min:-100,units:["px"],value:n,onChange:e=>this.onChange({horizontal:e})}),(0,ot.jsx)(qd,{responsive:!1,reset:!1,label:"Vertical",name:"Vertical",absoluteKey:!0,min:-100,units:["px"],value:a,onChange:e=>this.onChange({vertical:e})}),(0,ot.jsx)(qd,{responsive:!1,reset:!1,label:"Blur",name:"Blur",absoluteKey:!0,value:t,units:["px"],onChange:e=>this.onChange({blur:e})}),void 0!==s?(0,ot.jsx)(qd,{responsive:!1,reset:!1,label:"Spread",name:"Spread",absoluteKey:!0,value:s,units:["px"],onChange:e=>this.onChange({spread:e})}):null,this.props.customRender,void 0!==i?(0,ot.jsxs)(l.A,{align:"middle",children:[(0,ot.jsx)(r.A,{span:10,children:(0,ot.jsx)("span",{className:"qx-fb-field__label",children:Rs({absoluteKey:"Position",label:"Position"})})}),(0,ot.jsx)(r.A,{span:14,children:(0,ot.jsx)(Id.A,{size:"small",block:!0,default:Ln()(o.position),onReset:()=>this.onChange({position:o.position}),options:["Outside","Inside"],onChange:e=>this.onChange({position:e.toLowerCase()})})})]}):null]}),{name:c,label:p,absoluteKey:u}=this.props,h=u?"absoluteKey":"key";return(0,ot.jsxs)(l.A,{align:"middle",children:[(0,ot.jsx)(r.A,{span:10,children:(0,ot.jsx)("p",{className:"qx-fb-field__label",children:Rs({[h]:c||p,label:p})})}),(0,ot.jsx)(r.A,{span:14,children:(0,ot.jsx)(ri.default,{rootClassName:"qxui-popover-help",placement:"left",popupStyle:{width:"290px"},content:d,trigger:"click",children:(0,ot.jsx)(ci(),{block:!0,children:(0,ot.jsx)("i",{className:"qxio-contrast"})})})})]})}))}render(){return this.getFields()}}const ap=np;var op,lp=s(68033),rp=s.n(lp),dp=s(53914),cp=s.n(dp),pp=s(37475),up=s.n(pp);function hp(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const mp={setDevice:dn};let xp=(0,c.Ng)((e=>{let{nodes:{device:t}}=e;return{device:Fe(t,!0)}}),mp)(op=class extends fd{constructor(e){var t;super(e),hp(this,"labelRef",(0,d.createRef)(null)),hp(this,"topInputRef",(0,d.createRef)(null)),hp(this,"bottomInputRef",(0,d.createRef)(null)),hp(this,"rightInputRef",(0,d.createRef)(null)),hp(this,"leftInputRef",(0,d.createRef)(null)),hp(this,"setFieldValues",(e=>{let t=ud()({},this.props.default,this.props.value);ui()(this.props.default,this.props.value)||this.props.onChange(t);let s={desktop:!1,tablet:!1,phone:!1};const{top:i,bottom:n,right:a,left:o}=t.desktop||t;i===n&&n===a&&a===o&&this.setState({fillValue:up()(i)?i:Number(i)}),s.desktop=!0,this.props.responsive&&(s.tablet=!0,s.phone=!0),e&&this.setState({sync:s})})),hp(this,"sync",(e=>{const t={};t[this.props.device]=!e,this.setState({sync:ud()(this.state.sync,t)})})),hp(this,"renderSyncJsx",(()=>{const e=this.props.device;let t=this.state.sync[e],s={width:"2.5rem",padding:0,color:t?"var(--clr-color-primary)":""};return(0,ot.jsx)(ai.default,{title:t?"Linked All Sides":"Unlinked",overlayClassName:"qxui-zi-l",placement:"bottom",children:(0,ot.jsx)("div",{onClick:this.sync.bind(this,t),style:s,children:(0,ot.jsx)("i",{style:{fontSize:12},className:t?"qxuicon-link":"qxuicon-unlink"})})})})),hp(this,"handleChange",((e,t)=>{const s=this.props.device;let i=""===e?"":"padding"===this.props.name?Math.max(0,parseFloat(e)):parseFloat(e),n={};if("padding"===this.props.name&&(i=i<0?"":i),i||0===i||(i=""),this.state.sync[s])n=this.props.value.desktop?{[s]:{top:i,bottom:i,right:i,left:i}}:{top:i,bottom:i,right:i,left:i};else{let e={};e[t]=i,n=this.props.value.desktop?{[s]:{...this.props.value[s],...e}}:{...this.props.value,...e}}n=ud()({responsive_preview:!0},n);const a=ud()(this.props.value,n);this.setState({value:a}),this.props.onChange(a)})),hp(this,"onUnitChange",(e=>{this.setState((t=>({value:ud()(t.value,{unit:e})}))),this.props.onChange(ud()(this.props.value,{unit:e}))})),hp(this,"onReset",(()=>{const e=this.props.device;this.props.value.desktop?this.props.onChange({...this.props.value,[e]:{top:"",bottom:"",right:"",left:""}}):this.props.onChange({...this.props.value,top:"",bottom:"",right:"",left:""}),this.setState({reset:!0,fillValue:0})})),hp(this,"handleWheel",(e=>{var t;e.preventDefault(),e.stopPropagation();const{currentTarget:{name:s}}=e;if(document.activeElement!==(null===(t=this[s+"InputRef"])||void 0===t?void 0:t.current))return;let i;var n,a,o,l;i=this.props.responsive?null===(n=null!==(a=this.state.value)&&void 0!==a?a:this.props.value)||void 0===n||null===(n=n[this.props.device])||void 0===n?void 0:n[s]:null===(o=null!==(l=this.state.value)&&void 0!==l?l:this.props.value)||void 0===o?void 0:o[s],i=rp()(cp()(i))?0:cp()(i);const r=i+(e.deltaY>0?-1:1);this.handleChange(r,s)})),hp(this,"handleBlur",(e=>{let t=e.currentTarget.value;t=t.replace(/^0+/,""),""===t&&(e.currentTarget.value="0",this.handleChange("0",e.currentTarget.name))})),hp(this,"renderDimensionsFields",(e=>{const{top:t,right:s,bottom:i,left:n}=e||{top:"",bottom:"",left:"",right:""},a=e=>{let{currentTarget:{name:t,value:s=""}}=e,i=isNaN(parseFloat(s))?"0":s;""===s&&(i=""),this.handleChange(i,t)};return(0,ot.jsxs)("div",{className:"qx-dimensions",children:[(0,ot.jsx)("label",{onClick:this.handleFocus,className:"qx-handel qx-handel-left",children:(0,ot.jsx)("input",{onBlur:this.handleBlur,ref:this.leftInputRef,onChange:a,value:n,name:"left",placeholder:"-",type:"number"})}),(0,ot.jsx)("label",{onClick:this.handleFocus,className:"qx-handel qx-handel-top",children:(0,ot.jsx)("input",{onBlur:this.handleBlur,ref:this.topInputRef,onChange:a,value:t,name:"top",placeholder:"-",type:"number"})}),(0,ot.jsx)("label",{onClick:this.handleFocus,className:"qx-handel qx-handel-right",children:(0,ot.jsx)("input",{onBlur:this.handleBlur,ref:this.rightInputRef,onChange:a,value:s,name:"right",placeholder:"-",type:"number"})}),(0,ot.jsx)("label",{onClick:this.handleFocus,className:"qx-handel qx-handel-bottom",children:(0,ot.jsx)("input",{onBlur:this.handleBlur,ref:this.bottomInputRef,onChange:a,value:i,name:"bottom",placeholder:"-",type:"number"})}),(0,ot.jsx)("p",{ref:this.labelRef})]})})),hp(this,"handleFocus",(e=>{let{currentTarget:t}=e;const s=t.querySelector("input"),i=null==s?void 0:s.name,n=this.state.sync[this.props.device];this.labelRef.current.innerText=n?"".concat(this.props.label):"".concat(this.props.label,"-").concat(i)})),xd(this),this.state={responsive:"desktop"!==this.getTabName(),valueFor:this.getTabName(),tab:this.getTabName(),fillValue:0,value:null!==(t=e.value)&&void 0!==t?t:{},sync:{desktop:!1,tablet:!1,phone:!1}}}componentDidMount(){this.setFieldValues(),this.setState({value:this.props.value}),this.topInputRef.current.addEventListener("wheel",this.handleWheel,{passive:!1}),this.bottomInputRef.current.addEventListener("wheel",this.handleWheel,{passive:!1}),this.rightInputRef.current.addEventListener("wheel",this.handleWheel,{passive:!1}),this.leftInputRef.current.addEventListener("wheel",this.handleWheel,{passive:!1})}componentWillUnmount(){var e,t,s,i;null===(e=this.topInputRef.current)||void 0===e||e.removeEventListener("wheel",this.handleWheel),null===(t=this.bottomInputRef.current)||void 0===t||t.removeEventListener("wheel",this.handleWheel),null===(s=this.rightInputRef.current)||void 0===s||s.removeEventListener("wheel",this.handleWheel),null===(i=this.leftInputRef.current)||void 0===i||i.removeEventListener("wheel",this.handleWheel)}render(){var e;let{value:t,responsive:s,device:i}=this.props,n=null!==(e=this.state.value)&&void 0!==e?e:t;return s&&(n=n[i]),(0,ot.jsxs)(l.A,{children:[(0,ot.jsxs)(r.A,{className:"qx-flex qx-flex-between qx-flex-middle qx-margin-small-bottom",span:24,children:[this.getLabelMarkup({fontSize:14,fontWeight:500,color:"var(--txt-color-primary)"}),(0,ot.jsxs)("div",{style:{color:"var(--qx-text-color-dark-mode)"},className:"qx-flex qx-flex-middle",children:[this.getUnitMarkup({legacyStyle:!0}),this.renderSyncJsx()]})]}),(0,ot.jsx)(r.A,{span:24,children:this.renderDimensionsFields(n)})]})}})||op;xp.propTypes={},xp.defaultProps={responsive:!0};const gp=xp;var vp=s(70412),fp=s.n(vp);class yp extends d.Component{constructor(e){var t,s,i,n;super(e),t=this,s="shouldComponentUpdate",i=fn(),(s="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(s))?n:String(n))in t?Object.defineProperty(t,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[s]=i,this.state={id:Gt("quix-select-"),value:"",fallbackImageSrc:"/media/quixnxt/images/",options:[]},this.getImageUrl=this.getImageUrl.bind(this),this.getImageSrc=this.getImageSrc.bind(this),this.imageExists=this.imageExists.bind(this),this.handleChange=this.handleChange.bind(this),this.renderOption=this.renderOption.bind(this),this.getFallbackImageUrl=this.getFallbackImageUrl.bind(this),void 0===window.checkedImages&&(window.checkedImages=[])}componentDidMount(){this.props.value&&this.setState({value:this.props.value});let e=this.props.path+"/"+window.FORM.ELEMENT_SLUG+"/images/";this.props.options.length,this.props.options.map(((t,s)=>{this.getImageSrc(t.value,e).then((e=>{t.imgSrc=e;let i=this.state.options;i[s]=t,this.setState({options:i}),this.forceUpdate(),this.render()}),(e=>{t.imgSrc=e;let i=this.state.options;i[s]=t,this.setState({options:i}),this.forceUpdate(),this.render()}))})),this.bindImagePickerPlugin()}UNSAFE_componentWillReceiveProps(e){this.setState({value:e.value})}componentDidUpdate(e,t){this.bindImagePickerPlugin()}bindImagePickerPlugin(){var e=this;jQuery("#"+this.state.id).imagepicker({show_label:!0,changed:function(t,s,i){e.props.multiple?e.props.onChange(s):e.props.onChange(s[0]),e.setState({value:s})}})}imageExists(e,t){return new Promise(((s,i)=>{if(this.imageExistenceChecked(e,t))window.checkedImages[this.getImageUrl(e,t)]&&s(response.success),i(!response.success);else{const n=new XMLHttpRequest;n.open("GET","index.php?option=com_quix&view=pages&task=api.checkImage&path="+this.getImageUrl(e,t)),n.onreadystatechange=function(){try{let e=JSON.parse(this.responseText);e.success?s(e.success):i(!e.success)}catch(e){}},n.send()}}))}imageExistenceChecked(e,t){return void 0!==window.checkedImages[this.getImageUrl(e,t)]}getImageUrl(e,t){return t+this.props.name+"_"+e+".png"}getFallbackImageUrl(e){return this.state.fallbackImageSrc+this.props.name+"_"+e+".png"}getImageSrc(e,t){return new Promise(((s,i)=>{this.imageExists(e,t).then((i=>{s(this.getImageUrl(e,t))}),(t=>{i(this.getFallbackImageUrl(e))}))}))}handleChange(e){this.setState({value:e.target.value}),this.props.onChange(e.target.value)}render(){return(0,ot.jsx)("div",{className:this.props.name+" input-col qx-image-select",children:(0,ot.jsx)("select",{id:this.state.id,multiple:!!this.props.multiple&&"multiple",className:"image-picker",value:this.state.value,onChange:this.handleChange,children:this.state.options.map((e=>this.renderOption(e)))})})}renderOption(e){return(0,ot.jsxs)("option",{"data-img-src":window.jRoot+e.imgSrc,"data-img-class":"quix-select__image-picker","data-img-alt":e.value,value:e.value,children:["  ",e.label,"  "]},e.value)}}yp.propTypes={},yp.defaultProps={};const bp=yp;var wp;function jp(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const qp=da.default.Option,Cp={setDevice:dn};let Sp=(0,c.Ng)((e=>{let{nodes:{device:t}}=e;return{device:Fe(t,!0)}}),Cp)(wp=class extends fd{constructor(e){super(e),jp(this,"shouldComponentUpdate",fn()),jp(this,"initializeValue",(e=>{const{value:t,responsive:s}=e;return s?fp()(t,"desktop")?{...t}:{desktop:t,tablet:"",phone:""}:t})),jp(this,"preserveType",(e=>+e===e?+e:e)),jp(this,"getValue",(e=>{const{value:t}=this.state;return e?fp()(t,e)?t[e]:{desktop:t,tablet:"",phone:""}:fp()(t,"desktop")?t:{desktop:t,tablet:"",phone:""}})),jp(this,"handleChange",(e=>{const{multiple:t,responsive:s,device:i,onChange:n}=this.props;if(e=t?Me()(e)?e.map(this.preserveType):e.split(",").map(this.preserveType):this.preserveType(e),!s)return void this.setState({value:e},(()=>n(e)));let a;"desktop"===i?a=ud()(this.getValue(),{responsive_preview:!0,desktop:e}):"tablet"===i?a=ud()(this.getValue(),{responsive_preview:!0,tablet:e}):"phone"===i&&(a=ud()(this.getValue(),{responsive_preview:!0,phone:e})),this.setState({value:a},(()=>n(a)))})),jp(this,"onReset",(e=>{const{responsive:t,default:s,onChange:i}=this.props;if(!t)return void this.setState({value:s},(()=>i(s)));const n={};n[e]=void 0===s[e]?"":s[e];const a=ud()(this.state.value,n);this.setState({value:a,reset:!0},(()=>i(a)))})),jp(this,"getSelectView",((e,t,s,i)=>{let n=!1,{tags:a}=this.props;e.image&&(n=e.image);let o=(0,ot.jsx)(da.default,{showSearch:!0,mode:i?"multiple":a?"tags":"",optionFilterProp:"children",filterOption:(e,t)=>{if(void 0!==t.props.children)return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},value:t?i||a?t:t.toString():i||a?[]:"",onChange:this.handleChange,getPopupContainer:()=>window.document.body,popupClassName:"qxui-zi-l",isrequired:0,children:s.map(((e,t)=>{const{absoluteKey:s}=this.props,i=s?"absoluteKey":"key";return(0,ot.jsx)(qp,{value:e.value.toString(),children:Rs({[i]:s?e.name||e.label:"Option_val_"+e.value,label:e.label})},t)}))});return n&&(o=(0,ot.jsx)(bp,{onChange:this.handleChange,path:this.props.path,value:t,options:s,responsive:this.props.responsive,multiple:i,name:this.props.name})),o})),jp(this,"renderDeviceContent",(()=>{let e,{options:t,select:s,multiple:i,responsive:n,device:a}=this.props;return e=n?void 0===this.state.value[a]?this.state.value:this.state.value[a]:this.state.value,(0,ot.jsx)("div",{children:this.getSelectView(s,e,t,i)})})),xd(this),this.state={responsive:"desktop"!==this.getTabName(),reset:!1,value:this.initializeValue(e)}}render(){const e=this.props.inputFullWidth;return(0,ot.jsxs)(l.A,{align:"middle",className:"".concat(this.props.responsive?"hasResponsive":""," clearfix"),children:[(0,ot.jsx)(r.A,{span:e?24:10,children:this.getLabelMarkup()}),(0,ot.jsx)(r.A,{span:e?24:14,style:e?{marginTop:10}:{},children:this.renderDeviceContent()})]})}})||wp;Sp.defaultProps={responsive:!0,select:{}};const _p=Sp,Np=[{label:"None",value:"none"},{label:"Solid",value:"solid"},{label:"Double",value:"double"},{label:"Dotted",value:"dotted"},{label:"Dashed",value:"dashed"}];class kp extends d.Component{constructor(e){super(e),this.onChange=this.onChange.bind(this),this.borderType=this.borderType.bind(this),this.borderRadius=this.borderRadius.bind(this)}onChange(e){let t={state:{}},s="normal";"normal"===this.props.state&&(s="hover"),t.state[this.props.state]={properties:ud()(this.props.value.state[this.props.state].properties,e)},t.state[s]=this.props.value.state[s],this.props.onChange(ud()(this.props.value,t))}borderType(){const e=this.props.value.state[this.props.state].properties.border_type,t=this.props.default.state[this.props.state].properties.border_type;return(0,ot.jsx)(_p,{label:"Type",absoluteKey:!0,value:e,default:t,responsive:!1,onChange:e=>{this.onChange({border_type:e})},options:Np})}borderRadius(){const e=this.props.value.state[this.props.state].properties.border_radius,t=this.props.default.state[this.props.state].properties.border_radius;return(0,ot.jsx)(gp,{className:"quix-border-raduis",responsive:!1,default:t,value:e,label:"Radius",absoluteKey:!0,onChange:e=>{this.onChange({border_radius:e})},onReset:()=>{this.onChange({border_radius:t})},reset:!0,units:["px","em","%"]})}borderWidth(){const e=this.props.value.state[this.props.state].properties.border_width,t=this.props.default.state[this.props.state].properties.border_width;return"none"!=this.props.value.state[this.props.state].properties.border_type?(0,ot.jsx)(gp,{className:"quix-border-width",responsive:!1,default:t,value:e,label:"Width",absoluteKey:!0,onChange:e=>{this.onChange({border_width:e})},onReset:()=>{this.onChange({border_width:t})},reset:!0,units:["px","em"]}):null}borderColor(){const e=this.props.value.state[this.props.state].properties.border_color,t=this.props.default.state[this.props.state].properties.border_color;return"none"!=this.props.value.state[this.props.state].properties.border_type?(0,ot.jsx)(Pd,{onlyColorPicker:!0,label:"Color",absoluteKey:!0,value:e,onChange:e=>{this.onChange({border_color:e})},onReset:()=>{this.onChange({border_color:t})}}):null}boxShadow(){const e=this.props.value.state[this.props.state].properties.box_shadow,t=this.props.default.state[this.props.state].properties.box_shadow;return(0,ot.jsx)(ap,{label:this.props.label||"Box Shadow",name:this.props.name,value:e,absoluteKey:!this.props.name,default:t,customRender:this.hoverTransition(),onChange:e=>{this.onChange({box_shadow:e})}})}hoverTransition(){const e=this.props.value.state[this.props.state].properties.transition,t=this.props.default.state[this.props.state].properties.transition;return"hover"==this.props.state?(0,ot.jsx)(qd,{responsive:!1,label:"Transition",absoluteKey:!0,units:["s"],defaultUnit:"s",min:0,max:3,step:.1,value:e,onChange:e=>{this.onChange({transition:e})},onReset:()=>{this.onChange({transition:t})}}):null}render(){return(0,ot.jsxs)("div",{children:[this.borderType(),this.borderWidth(),this.borderColor(),this.borderRadius(),this.boxShadow()]})}}const Ep=kp;class Pp extends d.Component{constructor(e){super(e),this.state={state:"normal",visible:!1},this.onReset=this.onReset.bind(this),this.onTabChange=this.onTabChange.bind(this),this.getFields=this.getFields.bind(this)}onTabChange(e){this.setState({state:e})}onReset(){this.props.onChange(this.props.default)}getFields(){const e=[{key:"normal",label:Rs({absoluteKey:"Normal",label:"Normal"}),children:(0,ot.jsx)(Ep,{for:"normal",state:this.state.state,value:this.props.value,onChange:this.props.onChange,onReset:this.onReset,default:this.props.default})},{key:"hover",label:Rs({absoluteKey:"Hover",label:"Hover"}),children:(0,ot.jsx)(Ep,{for:"hover",state:this.state.state,value:this.props.value,onChange:this.props.onChange,onReset:this.onReset,default:this.props.default})}],{showInPopOver:t}=this.props;return(0,ot.jsxs)(ot.Fragment,{children:[(0,ot.jsx)("p",{className:"qxui-indicator-title qx-text-capitalize",children:Rs({key:this.props.name,label:this.props.label})}),(0,ot.jsx)("div",{style:{padding:t?"1rem":"0px"},className:"qx-fb-field-border",children:(0,ot.jsx)(ji.default,{defaultActiveKey:"normal",onChange:this.onTabChange,items:e})})]})}render(){return this.getFields()}}const Tp=Pp;var Ap;function Op(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Dp={setDevice:dn},Rp=(0,c.Ng)((e=>{let{nodes:{device:t}}=e;return{device:Fe(t,!0)}}),Dp)(Ap=class extends fd{constructor(e){super(e),Op(this,"handleChange",(e=>{let t=this.state.value;if(!1===this.props.responsive)return this.setState({value:e}),void this.props.onChange(e);t={...t,[this.props.device]:e},this.setState({value:t}),this.props.onChange(t)})),Op(this,"onReset",(e=>{if(!1===this.props.responsive)return this.setState({value:this.props.default}),void this.props.onReset();this.setState({value:this.props.default}),this.props.onChange(this.props.default)})),Op(this,"getValue",(e=>!1===this.props.responsive?at()(this.state.value)&&this.state.value.desktop?this.state.value.desktop:this.state.value:this.state.value[e])),Op(this,"renderDeviceContent",(()=>{const{device:e}=this.props;let t=at()(this.getValue(e))?this.getValue(e).value:this.getValue(e);return{close:this.state.responsive}[e]=!this.state.responsive,(0,ot.jsx)(Id.A,{onChange:this.handleChange,defaultValue:t,size:"small",block:!0,options:Vl()(this.props.options,((e,t)=>{var s;return{key:t,value:t,icon:(0,ot.jsx)(ai.default,{placement:"top",title:null!==(s=e.label)&&void 0!==s?s:t,children:e.icon?(0,ot.jsx)("span",{className:e.icon}):(0,ot.jsx)("span",{children:e.label})})}}))})})),xd(this),this.state={responsive:"desktop"!==this.getTabName(),reset:!1,value:e.value||{}}}render(){return(0,ot.jsxs)(l.A,{align:"middle",justify:"space-between",className:"".concat(this.props.responsive?"hasResponsive":""," clearfix"),children:[(0,ot.jsx)(r.A,{span:10,children:this.getLabelMarkup()}),(0,ot.jsx)(r.A,{span:14,children:this.renderDeviceContent()})]})}})||Ap;class Mp extends d.Component{createMarkup(e){return{__html:e}}render(){const{name:e,label:t,help:s}=this.props;let i="";return i=this.props.help&&this.props.label?(0,ot.jsxs)("p",{className:"qxui-indicator-title border-top-1",children:[Rs({key:e||t,label:t}),(0,ot.jsx)(ri.default,{content:(0,ot.jsx)("span",{dangerouslySetInnerHTML:this.createMarkup(Rs({key:"".concat(e||t,"_help"),help:s}))}),rootClassName:"qxui-popover-help",placement:"right",popupStyle:{width:"300px"},children:(0,ot.jsx)("i",{style:{paddingRight:"2px"},className:"qxuicon-question-circle"})})]}):this.props.help?(0,ot.jsx)("p",{className:"qx-text-muted qx-small",style:{margin:"-10px 0 0 0"},dangerouslySetInnerHTML:this.createMarkup(Rs({key:"".concat(e||t,"_help"),help:s}))}):(0,ot.jsx)("p",{className:"qxui-indicator-title border-top-1",children:Rs({key:e||t,label:t})}),i}}const Lp=Mp,Ip=()=>"",Fp={text_shadow:{color:"",blur:0,horizontal:0,vertical:0}};function Kp(e){const[t,s]=(0,d.useState)("google"),i={google:[{label:"Default",value:""},...e.fontFamilies.map((e=>({label:e,value:e,clearable:!1}))).map((e=>({value:e.value.toString(),label:e.label})))]};let n;return n=e.family?e.family.toString():"Font"===e.label?"Default":"",(0,ot.jsxs)(l.A,{style:e.style,align:"middle",children:[(0,ot.jsx)(r.A,{span:10,children:(0,ot.jsx)("span",{className:"qx-fb-field__label",children:e.label})}),(0,ot.jsx)(r.A,{span:14,children:(0,ot.jsx)(da.default,{defaultValue:n,onChange:e.onChange,allowClear:!1,showSearch:!0,value:n,style:{width:"100%"},prefixCls:"qxui-select",popupClassName:"qxui-zi-l",dropdownRender:e=>(0,ot.jsxs)("div",{children:[(0,ot.jsx)(Id.A,{style:{marginBottom:"1rem"},onChange:e=>s(e.toLowerCase()),block:!0,options:["Google"]}),e]}),options:i[t]})})]})}const Up=["100","200","300","400","500","600","700","800","900"];class zp extends d.Component{constructor(e){super(e),this.state={value:e.value,expand:!1,fontFamilies:[],weights:[],family:null,weight:{label:"",value:"",clearable:!0},visible:!1},this.handleChange=this.handleChange.bind(this),this.token=jQuery("#jform_token").attr("name"),this.getFields=this.getFields.bind(this),this.showPopover=this.showPopover.bind(this),this.onReset=this.onReset.bind(this)}UNSAFE_componentWillMount(){if(localStorage.getItem("qx-fonts"))this.setState(JSON.parse(localStorage.getItem("qx-fonts")));else{let e="".concat(ge(),"/index.php?option=com_quix&task=api.getWebFonts&").concat(this.token,"=1");De().get(e).then((e=>{const t=[],s={};e.data.items.forEach((e=>{t.push(e.family),s[e.family]=e.variants})),localStorage.setItem("qx-fonts",JSON.stringify({fontFamilies:t,weights:s})),this.setState({fontFamilies:t,weights:s})}))}}UNSAFE_componentWillReceiveProps(e,t){null!==e.value.family&&this.state.family!==e.value.family&&this.setState({family:e.value.family}),null===e.value.family&&this.props.onChange(ud()(e.value,{weight:{label:"",value:"",clearable:!0}}))}handleChange(e){let t=ud()(this.props.value,e);this.state=t,this.setState({value:t}),this.props.onChange(t)}getValue(){return this.state.value}getFontWeights(e){let t=[];return Le(e)?Up.map((e=>({label:e,value:e,clearable:!0}))):(this.state.weights[e]&&(t=this.state.weights[e].map((e=>({label:e,value:e,clearable:!0})))),t)}onReset(){this.props.onChange(this.props.default)}getFields(){var e,t,s,i,n;let{value:a}=this.props,{family:o,size:d,spacing:c,height:p,weight:u,transform:h,style:m,text_shadow:x,decoration:g}=a;return(0,ot.jsxs)("div",{style:{width:"100%"},children:[(0,ot.jsx)("p",{className:"qxui-indicator-title",children:Rs({key:this.props.name,label:this.props.label})}),(this.props.onlyTypo||!(null!==(e=a.preset)&&void 0!==e&&e.trim())||"default"===a.preset)&&(0,ot.jsxs)(ot.Fragment,{children:[(0,ot.jsx)(Kp,{label:Rs({absoluteKey:"Font Family",label:"Font Family"}),family:o,value:o,fontFamilies:this.state.fontFamilies,onChange:e=>this.handleChange({family:e})}),(0,ot.jsxs)(l.A,{align:"middle",children:[(0,ot.jsx)(r.A,{span:10,children:(0,ot.jsx)("span",{className:"qx-fb-field__label",children:Rs({absoluteKey:"Font Weight",label:"Font Weight"})})}),(0,ot.jsx)(r.A,{span:14,children:(0,ot.jsx)(da.default,{onChange:e=>this.handleChange({weight:e}),allowClear:!0,value:u||"regular",popupClassName:"qxui-zi-l",options:this.getFontWeights(o).map((e=>{let{label:t,value:s}=e;return{label:t,value:s.toString()}})),getPopupContainer:()=>window.document.body})})]}),(0,ot.jsx)(qd,{label:"Font Size",name:"Font Size",absoluteKey:!0,min:0,max:200,step:.1,value:d,units:["px","em","rem"],onChange:e=>this.handleChange({size:e}),responsive:!0}),(0,ot.jsx)(qd,{label:"Line Height",name:"Line Height",absoluteKey:!0,max:250,step:.1,value:p,units:["px","em","rem"],onChange:e=>this.handleChange({height:e}),responsive:!0}),(0,ot.jsx)(qd,{label:"Letter Spacing",name:"Letter Spacing",absoluteKey:!0,min:-5,max:10,step:.1,value:c,units:["px","em","rem"],onChange:e=>this.handleChange({spacing:e}),responsive:!0}),(0,ot.jsxs)(l.A,{align:"middle",children:[(0,ot.jsx)(r.A,{span:10,children:(0,ot.jsx)("span",{className:"qx-fb-field__label",children:Rs({absoluteKey:"Transform",label:"Transform"})})}),(0,ot.jsx)(r.A,{span:14,children:(0,ot.jsx)(da.default,{value:h.toString(),popupClassName:"qxui-zi-l",onChange:e=>this.handleChange({transform:e}),options:[{label:Rs({absoluteKey:"None",label:"None"}),value:""},{label:Rs({absoluteKey:"Uppercase",label:"Uppercase"}),value:"uppercase"},{label:Rs({absoluteKey:"Lowercase",label:"Lowercase"}),value:"lowercase"},{label:Rs({absoluteKey:"Capitalize",label:"Capitalize"}),value:"capitalize"}]})})]}),(0,ot.jsxs)(l.A,{align:"middle",children:[(0,ot.jsx)(r.A,{span:10,children:(0,ot.jsx)("span",{className:"qx-fb-field__label",children:Rs({absoluteKey:"Font Style",label:"Font Style"})})}),(0,ot.jsx)(r.A,{span:14,children:(0,ot.jsx)(Id.A,{value:null!=m&&null!==(t=m.toString())&&void 0!==t&&t.trim()?null==m||null===(s=m.toString())||void 0===s?void 0:s.trim():"normal",onChange:e=>this.handleChange({style:e}),size:"small",block:!0,options:[{label:"Aa",value:"normal",title:"Normal"},{label:(0,ot.jsx)("span",{style:{fontStyle:"italic"},children:"Aa"}),value:"italic",title:"Italic"},{label:(0,ot.jsx)("span",{style:{fontStyle:"oblique"},children:"Aa"}),value:"oblique",title:"Oblique"}]})})]}),(0,ot.jsxs)(l.A,{align:"middle",children:[(0,ot.jsx)(r.A,{span:10,children:(0,ot.jsx)("span",{className:"qx-fb-field__label",children:Rs({absoluteKey:"Decoration",label:"Decoration"})})}),(0,ot.jsx)(r.A,{span:14,children:(0,ot.jsx)(Id.A,{value:null!=g&&null!==(i=g.toString())&&void 0!==i&&i.trim()?null==g||null===(n=g.toString())||void 0===n?void 0:n.trim():"none",size:"small",block:!0,onChange:e=>this.handleChange({decoration:e}),options:[{label:"Aa",value:"none",title:Rs({absoluteKey:"None",label:"None"})},{label:(0,ot.jsx)("span",{style:{textDecoration:"overline"},children:"Aa"}),value:"overline",title:Rs({absoluteKey:"Overline",label:"Overline"})},{label:(0,ot.jsx)("span",{style:{textDecoration:"line-through"},children:"Aa"}),value:"line-through",title:Rs({absoluteKey:"Line Through",label:"Line Through"})},{label:(0,ot.jsx)("span",{style:{textDecoration:"underline"},children:"Aa"}),value:"underline",title:Rs({absoluteKey:"Underline",label:"Underline"})}]})})]})]}),!this.props.onlyTypo&&(0,ot.jsx)(ap,{label:"Text Shadow",name:"Text Shadow",absoluteKey:!0,value:x||(this.props.default.text_shadow?this.props.default.text_shadow:Fp.text_shadow),default:this.props.default.text_shadow?this.props.default.text_shadow:Fp.text_shadow,onChange:e=>this.handleChange({text_shadow:e})})]})}showPopover(){this.setState({visible:!this.state.visible})}render(){const e=!ui()(this.props.default,this.props.value);return this.props.popover?(0,ot.jsx)(ot.Fragment,{children:(0,ot.jsxs)(l.A,{align:"middle",children:[(0,ot.jsx)(r.A,{span:10,children:(0,ot.jsx)("span",{className:"qx-fb-field__label qx-flex qx-flex-between",children:this.props.label})}),(0,ot.jsx)(r.A,{span:14,children:(0,ot.jsx)(ri.default,{placement:"left",popupStyle:{width:290},content:this.getFields(),trigger:"click",rootClassName:"qxui-popover-help",children:(0,ot.jsx)(ci(),{size:"small",block:!0,className:e?"active":"",children:(0,ot.jsx)("i",{className:"qxuicon-font"})})})})]})}):this.getFields()}}zp.propTypes={},zp.defaultProps={};const Hp=zp;var Bp=s(91003),Wp=s.n(Bp);class Vp extends d.Component{constructor(e){super(e),this.state={},this.onChange=this.onChange.bind(this)}onChange(e){this.props.onChange({type:"video",properties:ud()(this.props.properties,e)})}render(){let{properties:e}=this.props;const t=this.props.default;return(0,ot.jsx)("div",{className:"qx-fb-field-background__image",children:(0,ot.jsx)("div",{className:"qx-fb-field",children:(0,ot.jsx)(Ld,{filters:"video",value:e.url,label:"",onChange:e=>{this.onChange({url:e})},onReset:this.onChange.bind(this,{url:t.url})})})})}}const Jp=Vp,Gp=[{label:"Center",value:"center"},{label:"Top Left",value:"top left"},{label:"Top",value:"top"},{label:"Top Right",value:"top right"},{label:"Right",value:"right"},{label:"Bottom",value:"bottom"},{label:"Bottom Left",value:"bottom left"},{label:"Bottom Right",value:"bottom right"},{label:"Left",value:"left"}];class Qp extends d.Component{constructor(e){super(e),this.state={},this.onChange=this.onChange.bind(this)}onChange(e){this.props.onChange({type:"classic",properties:rd()(this.props.properties,e)})}render(){let{properties:e}=this.props,t=e.color;const s=this.props.default,i=e.parallax?[{label:"CSS Based",value:"css"},{label:"JS Based",value:"js"}]:[{label:"CSS Based",value:"css"}],n=e.parallax?(0,ot.jsx)(_p,{label:"Parallax",absoluteKey:!0,help:"Define the method, used for the parallax effect. CSS used background-fixed properties while JS gives you the true parallax effect using javascript libaray.",helpKey:"parallax_select",value:e.parallax_method,default:"true_parallax",responsive:!1,onChange:e=>{this.onChange({parallax_method:e})},onReset:this.onChange.bind(this,{parallax_method:s.parallax_method}),options:i}):null,a="js"===e.parallax_method?(0,ot.jsxs)("div",{children:[(0,ot.jsxs)(l.A,{align:"middle",children:[(0,ot.jsx)(r.A,{span:10,children:(0,ot.jsx)("p",{className:"qx-fb-field__label",children:Rs({absoluteKey:"Y-Axis",label:"Y-Axis"})})}),(0,ot.jsx)(r.A,{span:14,children:(0,ot.jsx)(li.default,{default:0,value:e.js_parallax_y,prefixCls:"qxui-input",placeholder:"-50",onChange:e=>{this.onChange({js_parallax_y:e.target.value})}})})]}),(0,ot.jsxs)(l.A,{children:[(0,ot.jsx)(r.A,{span:10,children:(0,ot.jsx)("p",{className:"qx-fb-field__label",children:Rs({absoluteKey:"X-Axis",label:"X-Axis"})})}),(0,ot.jsx)(r.A,{span:14,children:(0,ot.jsx)(li.default,{value:e.js_parallax_x,placeholder:"-50",prefixCls:"qxui-input",onChange:e=>{this.onChange({js_parallax_x:e.target.value})}})})]})]}):null;return(0,ot.jsxs)("div",{className:"qx-fb-field-background__image",children:[(0,ot.jsx)(Pd,{onlyColorPicker:!0,label:"Color",absoluteKey:!0,value:t,onChange:e=>this.onChange({color:e}),onReset:this.onChange.bind(this,{color:s.color})}),(0,ot.jsx)("div",{className:"qx-fb-field",children:(0,ot.jsx)(Ld,{filters:"image",value:e.src,label:"",onChange:e=>{this.onChange({src:e})},onReset:this.onChange.bind(this,{src:s.src})})}),e.src&&e.required_parallax?(0,ot.jsx)(Kd,{label:"Use Parallax Effect",help:"If enabled, your background image will stay fixed as your scroll, creating a fun parallax-like effect.",name:"parallax",helpKey:"parallax_switch",absoluteKey:!0,checked:e.parallax,onChange:e=>{this.onChange({parallax:e})},onReset:this.onChange.bind(this,{parallax:s.size})}):null,e.required_parallax?n:null,e.required_parallax?a:null,(0,ot.jsxs)("div",{children:[e.src?(0,ot.jsx)(_p,{label:"Size",absoluteKey:!0,value:e.size,default:"initial",responsive:!1,onChange:e=>{this.onChange({size:e})},options:[{label:"Cover",value:"cover"},{label:"Fit",value:"contain"},{label:"Actual Size",value:"initial"}]}):null,e.src?(0,ot.jsx)("div",{className:"qx-margin-small-bottom",children:(0,ot.jsx)(_p,{label:"Position",absoluteKey:!0,value:e.position,default:"center",responsive:!1,onChange:e=>{this.onChange({position:e})},options:Gp})}):null,e.src?(0,ot.jsx)(_p,{label:"Repeat",absoluteKey:!0,value:e.repeat,default:"no-repeat",responsive:!1,onChange:e=>{this.onChange({repeat:e})},options:[{label:"No Repeat",value:"no-repeat"},{label:"Repeat",value:"repeat"},{label:"Repeat X ( Horizontal )",name:"repeat_x",value:"repeat-x"},{label:"Repeat Y ( Vertical )",name:"repeat_y",value:"repeat-y"},{label:"Space",value:"space"},{label:"Round",value:"round"}]}):null,e.src?(0,ot.jsx)(_p,{label:"Blend Mode",absoluteKey:!0,value:e.blend,default:"normal",responsive:!1,onChange:e=>{this.onChange({blend:e})},help:"Set background color in order to use blend mode properly",options:[{label:"Normal",value:"normal"},{label:"Multiply",value:"multiply"},{label:"Screen",value:"screen"},{label:"Overlay",value:"overlay"},{label:"Darken",value:"darken"},{label:"Lighten",value:"lighten"},{label:"Color Dodge",value:"color-dodge"},{label:"Saturation",value:"saturation"},{label:"Color",value:"color"},{label:"Luminosity",value:"luminosity"}]}):null]})]})}}Qp.type="qxuicon-paint-brush";const Yp=Qp;function Xp(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Zp=[{label:"Center Center",value:"center center"},{label:"Center left",value:"center left"},{label:"Center right",value:"center right"},{label:"Top Center",value:"top center"},{label:"Top left",value:"top left"},{label:"Top Right",value:"top right"},{label:"Bottom Center",value:"bottom center"},{label:"Bottom Left",value:"bottom left"},{label:"Bottom Right",value:"bottom right"}],$p=[{label:"Linear",value:"linear"},{label:"Radial",value:"radial"}];class eu extends d.Component{constructor(){super(...arguments),Xp(this,"onChange",(e=>{this.props.onChange({type:"gradient",properties:ud()(this.props.properties,e)})})),Xp(this,"onReset",(()=>{this.props.onChange({type:"gradient",properties:this.props.default}),this.props.onReset})),Xp(this,"renderDirection",(()=>{const{type:e}=this.props.properties;return"linear"===e?this.renderLinearDirection():this.renderRadialDirection()})),Xp(this,"renderLinearDirection",(()=>{var e;const{direction:t}=this.props.properties,s=up()(t)||up()(null==t?void 0:t.value)?null!==(e=null==t?void 0:t.value)&&void 0!==e?e:t:0;return(0,ot.jsx)(qd,{responsive:!1,default:0,units:["deg"],label:"Direction",absoluteKey:!0,value:s,max:360,onChange:e=>this.onChange({direction:e}),onReset:()=>this.onChange({direction:0})})})),Xp(this,"renderRadialDirection",(()=>{const{direction:e}=this.props.properties,t=up()(e)?"center center":e;return(0,ot.jsx)(_p,{label:"Direction",absoluteKey:!0,value:t,default:"center center",responsive:!1,onChange:e=>this.onChange({direction:e}),onReset:()=>this.onChange({direction:"center center"}),options:Zp})})),Xp(this,"getGradientPreview",(()=>{const{type:e="linear",color_1:t,color_2:s,start_position:i,end_position:n,direction:a}=this.props.properties,o=(null==t?void 0:t.trim())||"transparent",l=(null==s?void 0:s.trim())||"transparent",r={};return"linear"===e?r.backgroundImage="linear-gradient(".concat(a,"deg, ").concat(o," ").concat(i,"%, ").concat(l," ").concat(n,"%)"):"radial"===e&&(r.backgroundImage="radial-gradient(at ".concat(a,", ").concat(o," ").concat(i,"%, ").concat(l," ").concat(n,"%)")),(0,ot.jsx)("div",{className:"gradient-preview qx-box-shadow-medium qx-margin-small-bottom qx-height-small qx-position-relative qx-transition-toggle qx-border-rounded",style:r,children:(0,ot.jsx)(ci(),{className:"qx-position-top-right qx-transition-scale-up",type:"text",onClick:this.onReset,children:(0,ot.jsx)("span",{className:"qxuicon-trash-alt qx-blend-difference"})})})}))}render(){const{color_1:e,color_2:t,type:s,start_position:i,end_position:n}=this.props.properties;return(0,ot.jsxs)("div",{className:"qx-background__gradient",children:[this.getGradientPreview(),(0,ot.jsx)(Pd,{addonAfter:"Select",value:e||"",label:"Color 1",absoluteKey:!0,onChange:e=>this.onChange({color_1:e}),onReset:()=>this.onChange({color_1:""})}),(0,ot.jsx)(Pd,{addonAfter:"Select",value:t,label:"Color 2",absoluteKey:!0,onChange:e=>this.onChange({color_2:e}),onReset:()=>this.onChange({color_2:""})}),(0,ot.jsx)(_p,{value:s,default:"linear",responsive:!1,label:"Type",absoluteKey:!0,onChange:e=>{const t="radial"===e?"center center":0;this.onChange({type:e,direction:t})},onReset:()=>this.onChange({type:"linear",direction:0}),options:$p}),this.renderDirection(),(0,ot.jsx)(qd,{responsive:!1,default:0,label:"Start Position",absoluteKey:!0,units:null,value:i,onChange:e=>this.onChange({start_position:e}),onReset:()=>this.onChange({start_position:0})}),(0,ot.jsx)(qd,{responsive:!1,default:100,label:"End Position",absoluteKey:!0,units:null,value:n,onChange:e=>this.onChange({end_position:e}),onReset:()=>this.onChange({end_position:100})})]})}}Xp(eu,"propTypes",{onChange:oo().func.isRequired,onReset:oo().func,properties:oo().object.isRequired,default:oo().object}),Xp(eu,"defaultProps",{properties:{type:"linear",color_1:"",color_2:"",start_position:0,end_position:100,direction:0}}),eu.type="qxuicon-adjust";const tu=eu;function su(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class iu extends d.Component{constructor(){var e,t;super(...arguments),su(this,"state",{type:null!==(e=null==this||null===(t=this.props)||void 0===t||null===(t=t.value)||void 0===t||null===(t=t.state)||void 0===t||null===(t=t[this.props.state])||void 0===t?void 0:t.type)&&void 0!==e?e:"classic",types:{classic:"qxuicon-paint-brush",gradient:"qxuicon-adjust",video:"qxuicon-video"}}),su(this,"setType",(e=>{this.setState({type:e})})),su(this,"onChange",(e=>{let t={state:{}},s="normal";"normal"===this.props.state&&(s="hover"),t.state[this.props.state]=ud()(this.props.value.state[this.props.state],e),t.state[s]=this.props.value.state[s],this.props.onChange(ud()(this.props.value,t))})),su(this,"onReset",(()=>{this.props.onReset&&this.props.onReset()})),su(this,"onCommonPropertyChange",(e=>{let t=this.props.value.state[this.props.state];t=rd()(t,e);let s={state:{}};s.state[this.props.state]=t;let i="normal";"normal"===this.props.state&&(i="hover"),s.state[i]=this.props.value.state[i],this.props.onChange(ud()(this.props.value,s))})),su(this,"renderBackgroundType",(()=>(0,ot.jsxs)(l.A,{align:"middle",children:[(0,ot.jsx)(r.A,{span:10,children:(0,ot.jsx)("span",{className:"qx-fb-field__label",children:Rs({absoluteKey:"Type",label:"Type"})})}),(0,ot.jsx)(r.A,{span:14,children:(0,ot.jsx)(Id.A,{block:!0,size:"small",defaultValue:this.state.type,options:this.props.supportedTypes.map(((e,t)=>({value:e,title:e,label:(0,ot.jsx)("span",{children:(0,ot.jsx)("i",{className:this.state.types[e]})})}))),onChange:e=>this.setType(e)})})]}))),su(this,"renderBackgroundProperties",(()=>{let e={};switch(e=this.state.type===this.props.value.state[this.props.state].type?this.props.value.state[this.props.state].properties:this.props.types[this.state.type].properties,this.state.type){case"classic":return(0,ot.jsx)(Yp,{properties:e,default:this.props.types.classic.properties,onChange:this.onChange,onReset:this.onReset});case"gradient":return(0,ot.jsx)(tu,{properties:e,default:this.props.types.gradient.properties,onChange:this.onChange,onReset:this.onReset});case"video":return(0,ot.jsx)(Jp,{properties:e,default:this.props.types.video.properties,onChange:this.onChange,onReset:this.onReset});default:return""}})),su(this,"renderCommonProperties",(()=>{let e=this.props.value.state[this.props.state],t=this.props.default.state[this.props.for];return(0,ot.jsxs)("div",{children:[e.required_opacity?(0,ot.jsx)(qd,{units:!1,responsive:!1,label:"Opacity",absoluteKey:!0,min:0,max:1,step:.01,value:e.opacity,onChange:e=>this.onCommonPropertyChange({opacity:e}),onReset:()=>{let s={};s[this.props.state]=ud()(e,{opacity:t.opacity}),this.props.onReset(s)}}):null,"hover"===this.props.state&&e.required_transition?(0,ot.jsx)(qd,{units:!1,responsive:!1,label:"Transition",absoluteKey:!0,defaultUnit:"s",min:0,max:3,step:.1,value:e.transition,onChange:e=>this.onCommonPropertyChange({transition:e}),onReset:()=>{let s={};s[this.props.state]=ud()(e,{transition:t.transition}),this.props.onReset(s)}}):null]})}))}render(){return(0,ot.jsxs)("div",{children:[this.renderBackgroundType(),(0,ot.jsxs)("div",{className:"qx-fb-field-background__fields",children:[this.renderBackgroundProperties(),this.renderCommonProperties()]})]})}}const nu=iu;class au extends d.Component{constructor(e){super(e),this.state={state:"normal",visible:!1},this.onReset=this.onReset.bind(this),this.onTabChange=this.onTabChange.bind(this),this.getFields=this.getFields.bind(this),this.showPopover=this.showPopover.bind(this)}onTabChange(e){this.setState({state:e})}onReset(){this.props.onChange(this.props.default)}getFields(){const{tab:e}=this.props;if(Wp()(e))return(0,ot.jsx)(nu,{for:e,state:this.state.state,value:this.props.value,onChange:this.props.onChange,supportedTypes:this.props.supportedTypes,types:this.props.types,onReset:this.onReset,default:this.props.default});const t=[{key:"normal",label:Rs({absoluteKey:"Normal",label:"Normal"}),children:(0,ot.jsx)(nu,{for:"normal",state:this.state.state,value:this.props.value,onChange:this.props.onChange,supportedTypes:this.props.supportedTypes,types:this.props.types,onReset:this.onReset,default:this.props.default})},{key:"hover",label:Rs({absoluteKey:"Hover",label:"Hover"}),children:(0,ot.jsx)(nu,{for:"hover",state:this.state.state,value:this.props.value,onChange:this.props.onChange,supportedTypes:this.props.supportedTypes,types:this.props.types,onReset:this.onReset,default:this.props.default})}],{popover:s}=this.props;return(0,ot.jsx)("div",{style:{padding:s?"1rem":"0px"},className:"qx-fb-field-background",children:(0,ot.jsx)(ji.default,{defaultActiveKey:"normal",onChange:this.onTabChange,items:t})})}showPopover(){this.setState({visible:!this.state.visible})}render(){const e=!ui()(this.props.default,this.props.value),{name:t,label:s}=this.props;return this.props.popover?(0,ot.jsxs)(l.A,{align:"middle",children:[(0,ot.jsx)(r.A,{span:10,children:(0,ot.jsxs)("div",{className:"qx-fb-field__label qx-flex qx-flex-middle",children:[Rs({key:t||s,label:s}),e?(0,ot.jsx)("div",{"qx-tooltip":"Reset",onClick:this.onReset,className:"qx-reset-button",children:(0,ot.jsx)("span",{className:"qxio-close"})}):null]})}),(0,ot.jsx)(r.A,{span:14,children:(0,ot.jsx)(ri.default,{placement:this.props.placement||"left",popupStyle:{width:"350px"},content:this.getFields(),trigger:"click",children:(0,ot.jsx)(ci(),{block:!0,size:"small",className:e?"active":"",children:(0,ot.jsx)("i",{className:"qxuicon-paint-brush"})})})})]}):this.getFields()}}const ou=au;class lu extends d.Component{constructor(e){var t,s,i,n;super(e),t=this,i=()=>{{const e=je(),t="".concat(ge(),"/index.php?option=com_quix&task=api.getJoomlaModules&").concat(e,"=1");De().get(t).then((e=>{let t=e.data.data;t=t.map((e=>({label:e.title,value:e.id}))),this.setState({options:t})}))}},(s="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(s="getModuleList"))?n:String(n))in t?Object.defineProperty(t,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[s]=i,this.state={options:[]},this.getModuleList()}render(){let{label:e,value:t,name:s}=this.props;return(0,ot.jsx)(_p,{label:e,value:t,name:s,default:"",responsive:!1,onChange:e=>this.props.onChange(e),onReset:()=>this.props.onChange(""),options:this.state.options})}}const ru=lu;class du extends d.Component{constructor(e){var t,s,i,n;super(e),t=this,i=()=>{const e=je(),t="".concat(ge(),"/index.php?option=com_quix&task=api.getJoomlaCategories&").concat(e,"=1");De().get(t).then((e=>{let t=e.data.data;t=t.map((e=>({label:e.text,value:e.value}))),this.setState({options:t})}))},(s="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(s="getCategoryList"))?n:String(n))in t?Object.defineProperty(t,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[s]=i,this.state={options:[]},this.getCategoryList()}render(){let{label:e,value:t,name:s}=this.props;return(0,ot.jsx)(_p,{label:e,value:t,name:s,default:"",responsive:!1,onChange:e=>this.props.onChange(e),onReset:()=>this.props.onChange(""),options:this.state.options})}}const cu=du;class pu extends d.Component{constructor(e){var t,s,i,n;super(e),t=this,i=()=>{const e=je(),t="".concat(ge(),"/index.php?option=com_quix&task=api.getJoomlaArticles&").concat(e,"=1");De().get(t).then((e=>{let t=e.data.data;t=t.map((e=>({label:e.title,value:e.id}))),this.setState({options:t})}))},(s="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(s="getArticleList"))?n:String(n))in t?Object.defineProperty(t,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[s]=i,this.state={options:[]},this.getArticleList()}render(){let{label:e,value:t}=this.props;return(0,ot.jsx)(_p,{label:e,value:t,name:this.props.name,default:"",responsive:!1,onChange:e=>this.props.onChange(e),onReset:()=>this.props.onChange(""),options:this.state.options})}}const uu=pu;class hu extends d.Component{constructor(e){var t,s,i,n;super(e),t=this,i=()=>{let e=document.getElementById("jform_menutype").options,t=[],s=e.length,i=0;for(;i<s;i++){let s=[];s.value=e[i].value,s.label=e[i].text,t.push(s)}return t},(s="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(s="getApiData"))?n:String(n))in t?Object.defineProperty(t,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[s]=i,this.state={options:this.getApiData()}}render(){let{label:e,value:t,name:s}=this.props;return(0,ot.jsx)(_p,{label:e,name:s,value:t,absoluteLabel:!0,default:"",help:this.props.help,responsive:!1,onChange:e=>this.props.onChange(e),onReset:()=>this.props.onChange(""),options:this.state.options})}}const mu=hu;var xu=s(20472),gu=s(44700),vu=s.n(gu);function fu(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class yu extends d.Component{constructor(){super(...arguments),fu(this,"state",{open:!1}),fu(this,"getLabelMarkup",(()=>{let{label:e}=this.props;return(0,ot.jsxs)("p",{className:"qx-fb-field__label",children:[e," ",this.getHelpMarkup()," "]})})),fu(this,"getHelpMarkup",(()=>{let{help:e}=this.props;if(e)return(0,ot.jsx)(ri.default,{content:e,prefixCls:"qxui-popover",overlayClassName:"qxui-zi-l",rootClassName:"qxui-popover-help",placement:"right",popupStyle:{width:"350px"},children:(0,ot.jsx)("i",{className:"qxuicon-question-circle qx-fb-field__help"})})})),fu(this,"handleDateChange",(e=>{if(null!==e){var t;const s=e.format(null!==(t=this.props.format)&&void 0!==t?t:"YYYY-MM-DD HH:mm:ss");this.props.onChange(JSON.stringify({string:s}))}else this.props.onChange(JSON.stringify({}));this.setState({open:!1})}))}render(){let{value:e}=this.props,t=this.props.format||"YYYY-MM-DD HH:mm:ss";e=e?JSON.parse(e).string:"";const s=e?vu()("en",e,[t]):null;return(0,ot.jsxs)(l.A,{align:"middle",children:[(0,ot.jsx)(r.A,{span:10,children:this.getLabelMarkup()}),(0,ot.jsx)(r.A,{span:14,children:(0,ot.jsx)(xu.A,{showTime:!0,format:t,defaultValue:s,style:{width:"100%"},getPopupContainer:()=>window.document.body,open:this.state.open,onChange:this.handleDateChange,onOpenChange:e=>{this.state.open||this.setState({open:e})},onOk:e=>(this.setState({open:!1}),e)})})]})}}yu.propTypes={},yu.defaultProps={};const bu=yu;class wu extends d.Component{constructor(e){var t,s,i,n;super(e),t=this,i=()=>{let e=fe().map((e=>({label:e.title,value:e.id})));this.setState({options:e})},(s="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(s="getTemplateList"))?n:String(n))in t?Object.defineProperty(t,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[s]=i,this.state={options:[]}}componentDidMount(){this.getTemplateList()}render(){let{label:e,value:t}=this.props;return(0,ot.jsx)(_p,{label:e,value:t,name:this.props.name,default:"",responsive:!1,onChange:e=>this.props.onChange(e),onReset:()=>this.props.onChange(""),options:this.state.options})}}const ju=wu;var qu;function Cu(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let Su=(0,c.Ng)(((e,t)=>{let{form:{node:s}}=e,{control:i,path:n}=t,a=!0;if(i.depends&&Object.keys(i.depends).length>0){const e=Ht(s,["form",...[...n].slice(0,-1)]);for(const t in i.depends){if(!i.depends.hasOwnProperty(t))continue;const s=Ht(e,t.split(".")),n=i.depends[t];if("object"!=typeof n){if("*"===n){if(!s){a=!1;break}}else if(s!==i.depends[t]){a=!1;break}}else if(Array.isArray(n)&&!n.includes(s)){a=!1;break}}}return{shouldShow:a,value:i.value,nodeId:s.id}}))(qu=class extends d.Component{constructor(e){super(e),Cu(this,"onReset",(()=>{let{update:e,options:t}=this.props;e(t.default)})),Cu(this,"onChange",(e=>{this.setState({value:e}),this.bubbleChange(e)})),Cu(this,"bubbleChange",Ic()((e=>{let{update:t}=this.props;t(e)}),20)),this.state={value:e.value,parentValue:null}}componentDidUpdate(e,t,s){this.props.value!==this.state.parentValue&&this.setState({value:this.props.value,parentValue:this.props.value})}render(){let{hidden:e,shouldShow:t}=this.props;if(!t)return null;const s=this.state.value;let i,n,a=this.props.options,{help:o,name:l,label:r,type:d,placeholder:c,reset:p,advanced:u}=a;switch(d){case"border":n=(0,ot.jsx)(Tp,{name:l,label:r,help:o,value:s,onChange:this.onChange,onReset:this.onReset,reset:p,default:this.props.options.default,popover:a.popover});break;case"media":n=(0,ot.jsx)(Ld,{value:s,inputFullWidth:(null==u?void 0:u.input_full_width)||this.props.inputFullWidth,label:r,name:l,help:o,className:a.class,showstyle:a.showstyle,onChange:this.onChange,onReset:this.onReset,reset:p,filters:this.props.options.filters});break;case"date":n=(0,ot.jsx)(bu,{value:s,label:r,name:l,help:o,className:a.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"time":n=(0,ot.jsx)(TimePicker,{value:s,label:r,name:l,help:o,className:a.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"acl":n=(0,ot.jsx)(Uc,{value:s,label:r,name:l,help:o,default:this.props.options.default,select:this.props.options.select,className:a.class,onChange:this.onChange,onReset:this.onReset,proField:null==u?void 0:u.pro_field,reset:p});break;case"jmenu":n=(0,ot.jsx)(mu,{value:s,label:r,name:l,help:o,default:this.props.options.default,select:this.props.options.select,className:a.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"jmodule":n=(0,ot.jsx)(ru,{value:s,label:r,name:l,help:o,default:this.props.options.default,select:this.props.options.select,className:a.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"jcategory":n=(0,ot.jsx)(cu,{value:s,label:r,name:l,help:o,default:this.props.options.default,select:this.props.options.select,className:a.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"jarticle":n=(0,ot.jsx)(uu,{value:s,label:r,name:l,help:o,default:this.props.options.default,select:this.props.options.select,className:a.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"templates":n=(0,ot.jsx)(ju,{value:s,label:r,name:l,help:o,default:this.props.options.default,select:this.props.options.select,className:a.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"editor":n=(0,ot.jsx)(sp,{value:s,label:r,name:l,help:o,onChange:this.onChange,onReset:this.onReset,reset:p,className:a.class});break;case"color":n=(0,ot.jsx)(Pd,{value:s,label:r,name:l,help:o,className:a.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"slider":n=(0,ot.jsx)(qd,{name:l,value:s,default:this.props.options.default,units:this.props.options.units,responsive:this.props.options.responsive,inputFullWidth:(null==u?void 0:u.input_full_width)||this.props.inputFullWidth,label:r,help:o,step:a.step,min:a.min,max:a.max,suffix:a.suffix,className:a.class,onChange:this.onChange,onReset:this.onReset});break;case"typography":n=(0,ot.jsx)(Hp,{value:s,default:this.props.options.default,units:this.props.options.units,label:r,name:l,help:o,className:a.class,popover:a.popover,onChange:this.onChange,update:this.props.update,onReset:this.onReset,reset:p});break;case"dimensions":n=(0,ot.jsx)(gp,{name:l,className:a.class,default:this.props.options.default,units:this.props.options.units,value:s,label:r,help:o,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"link":n=(0,ot.jsx)(Vc,{name:l,label:r,help:o,text:s.text,url:s.url,target:s.target,nofollow:s.nofollow,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"select":n=(0,ot.jsx)(_p,{value:s,default:this.props.options.default,select:this.props.options.select,responsive:this.props.options.responsive,path:this.props.options.element_path,label:r,name:l,help:o,inputFullWidth:(null==u?void 0:u.input_full_width)||this.props.inputFullWidth,multiple:a.multiple,tags:a.tags,className:a.class,options:a.options,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"switch":n=(0,ot.jsx)(Kd,{name:l,label:r,help:o,checked:s,className:a.class,onChange:this.onChange,onReset:this.onReset,inputFullWidth:(null==u?void 0:u.input_full_width)||this.props.inputFullWidth,reset:p});break;case"text":n=(0,ot.jsx)(xi,{help:o,name:l,label:r,value:s,default:this.props.options.default,placeholder:c,className:a.class,onChange:this.onChange,onReset:this.onReset,reset:p,comingFromRepeater:this.props.comingFromRepeater,proField:null==u?void 0:u.pro_field,inputFullWidth:(null==u?void 0:u.input_full_width)||this.props.inputFullWidth,setGroupRepeaterActionToggler:this.props.setGroupRepeaterActionToggler,readOnly:"readonly"===a.advanced});break;case"textarea":n=(0,ot.jsx)(ad,{help:o,label:r,value:s,placeholder:c,rows:a.rows,className:a.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"divider":n=(0,ot.jsx)(Lp,{name:l,label:r,help:o,reset:p});break;case"hidden":n=(0,ot.jsx)(Ip,{});break;case"background":n=(0,ot.jsx)(ou,{name:l,label:r,help:o,value:s,onChange:this.onChange,onReset:this.onReset,reset:p,supportedTypes:this.props.options.supportedTypes,tab:this.props.options.tab,types:this.props.options.types,default:this.props.options.default,popover:a.popover});break;case"choose":n=(0,ot.jsx)(Rp,{name:l,label:r,help:o,value:s,onChange:this.onChange,onReset:this.onReset,reset:p,responsive:this.props.options.responsive,options:this.props.options.options,default:this.props.options.default});break;case"code":n=(0,ot.jsx)(ha,{name:l,label:r,help:o,value:s,onChange:this.onChange,onReset:this.onReset,reset:p,default:this.props.options.default})}return i=ce()("qx-fb-field",{hide:e}),(0,ot.jsx)("div",{className:i,children:n})}})||qu;Su.propTypes={options:oo().object,onChange:oo().func};const _u=Su;var Nu;const ku={updateNodeField:Wi};let Eu=(0,c.Ng)((e=>{let{form:{path:t}}=e;return{nodePath:t}}),ku)(Nu=class extends d.Component{constructor(){var e,t,s,i;super(...arguments),e=this,s=async e=>{const{nodePath:t,path:s,updateNodeField:i}=this.props;await i(t,s,e)},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t="updateNodeField"))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}shouldComponentUpdate(e,t,s){return this.props.control!==e.control}render(){let{control:e}=this.props;return e.hidden?null:(0,ot.jsx)(_u,{...this.props,options:e,update:this.updateNodeField})}})||Nu;Eu.propTypes={},Eu.defaultProps={};const Pu=Eu;var Tu;function Au(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Ou={updateNodeField:Wi,setGroupRepeaterActionToggler:oe};let Du=(0,c.Ng)((e=>{let{form:{path:t}}=e;return{nodePath:t}}),Ou)(Tu=class extends d.Component{constructor(){super(...arguments),Au(this,"isDragging",!1),Au(this,"moveNode",(async(e,t)=>{if(e===t)return;const{form:s,nodePath:i,path:n,updateNodeField:a,setGroupRepeaterActionToggler:o}=this.props,l=Jt(s),[r]=l.splice(e,1);l.splice(t,0,r),await a(i,n,l),await o()})),Au(this,"handleDragAttrSet",(e=>{"focus"===e.type&&(e.target.classList.contains("qxui-collapse-header")||e.target.classList.contains("qxui-collapse-item"))?e.currentTarget.setAttribute("draggable","true"):"blur"===e.type&&e.currentTarget.setAttribute("draggable","false")})),Au(this,"handleDragStart",(e=>{this.isDragging=!0,this.dragging=e.currentTarget})),Au(this,"handleDragOver",(e=>{this.isDragging&&(e.preventDefault(),this.draggedOver=e.currentTarget,this.dragging!==this.draggedOver&&this.draggedOver.classList.add("qx-drag-over"))})),Au(this,"handleDragLeave",(e=>{this.isDragging&&this.draggedOver.classList.remove("qx-drag-over")})),Au(this,"handleDrop",(e=>{if(!this.isDragging)return;this.dorpedElement=e.currentTarget;const t=parseInt(this.dragging.getAttribute("qx-index-path")),s=parseInt(this.draggedOver.getAttribute("qx-index-path"));this.moveNode(t,s),this.draggedOver.classList.remove("qx-drag-over"),this.changeRepeaterKey(),this.isDragging=!1})),Au(this,"handleDragEnd",(e=>{this.draggedOver.classList.remove("qx-drag-over"),this.isDragging=!1})),Au(this,"changeRepeaterKey",(()=>{window.CHANGE_REPEATER_KEY="yes"===window.CHANGE_REPEATER_KEY?"no":"yes"}))}async handleCopyClick(e,t){t.stopPropagation(),t.preventDefault();const{form:s,nodePath:i,path:n,updateNodeField:a,setGroupRepeaterActionToggler:o}=this.props,l=Jt(s[e]);l.title="".concat(l.title," (copy)");const r=Lt(s,e+1,l);this.changeRepeaterKey(),await a(i,n,r),await o()}async handleDeleteClick(e,t){t.stopPropagation(),t.preventDefault();const{form:s,nodePath:i,path:n,updateNodeField:a,setGroupRepeaterActionToggler:o}=this.props;if(1===s.length)return void dt.error("You can't remove the last item");const l=function(e,t){return[...e.slice(0,+t),...e.slice(+t+1)]}(s,e);this.changeRepeaterKey(),await a(i,n,l),await o()}renderGroup(e,t){var s;let{path:i,removeGroup:n,copyGroup:a,form:o}=this.props,l=null===(s=o[t])||void 0===s?void 0:s[Object.keys(o[t])[0]];const r=(0,ot.jsxs)("div",{style:{top:-3,backgroundColor:"color-mix(in oklab, var(--txt-clr-gray), transparent 95%)"},className:"qx-repeater-controls qx-transition-slide-right-small qx-position-right",children:[(0,ot.jsx)(ci(),{type:"text",size:"small",onClick:e=>this.handleCopyClick(t,e),children:(0,ot.jsx)("i",{style:{fontSize:12},className:"qxuicon-clone"})}),(0,ot.jsx)(ci(),{type:"text",size:"small",onClick:e=>this.handleDeleteClick(t,e),children:(0,ot.jsx)("i",{style:{fontSize:12},className:"qxuicon-trash-alt"})})]}),d=(0,ot.jsxs)("div",{className:"qx-transition-toggle qx-position-relative qx-overflow-hidden",children:[(0,ot.jsx)("div",{style:{width:200},className:"qx-text-truncate",children:l}),r]});return i=[...i,t],{key:i.join(),label:d,showArrow:!0,style:{paddingInline:"1rem"},onFocus:this.handleDragAttrSet,onBlur:this.handleDragAttrSet,onDragStart:this.handleDragStart,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,onDragEnd:this.handleDragEnd,"qx-index-path":t,children:(0,ot.jsx)(Vu,{index:t,path:i,control:e,fields:e,form:o[t],inputFullWidth:!0,setGroupRepeaterActionToggler:this.props.setGroupRepeaterActionToggler,comingFromRepeater:!0,copyGroup:a,removeGroup:n})}}render(){const e=this.props.groups.map(((e,t)=>this.renderGroup(e,t)));return(0,ot.jsx)(ra.default,{expandIconPosition:"end",accordion:!0,className:"qx-background-default qx-sortable","qx-sortable":"handle: .qx-drag",items:e,rootClassName:"qx-dNd-collapse"})}})||Tu;Du.propTypes={groups:oo().array.isRequired,path:oo().array.isRequired};const Ru=Du;var Mu;function Lu(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Iu={updateNodeField:Wi,setGroupRepeaterActionToggler:oe};let Fu=(0,c.Ng)((e=>{let{form:{path:t}}=e;return{nodePath:t}}),Iu)(Mu=class extends d.Component{constructor(){super(...arguments),Lu(this,"handleAddNewGroup",(async()=>{let{control:e,form:t,nodePath:s,path:i,updateNodeField:n,setGroupRepeaterActionToggler:a}=this.props;const o=Vt(e);await n(s,i,[...t,o[0]]),await a()})),Lu(this,"getMappedGroupForForm",(()=>{const{control:{value:e},form:t}=this.props,s=Jt(e[0]);return t.map((()=>s))}))}componentWillUnmount(){this.props.setGroupRepeaterActionToggler(!1)}render(){let{path:e,form:t}=this.props,s=this.getMappedGroupForForm();const i=window.CHANGE_REPEATER_KEY||"";return(0,ot.jsxs)("div",{className:"qx-fb-group-repeater",children:[(0,ot.jsx)(Ru,{groups:s,path:e,form:t},i),(0,ot.jsx)(ai.default,{title:"Add Item",children:(0,ot.jsx)(ci(),{type:"primary",shape:"circle",className:"qx-margin-small-top qx-margin-auto qx-display-block",style:{fontSize:"10px"},onClick:this.handleAddNewGroup,children:(0,ot.jsx)("i",{className:"qxuicon-plus"})})})]})}})||Mu;Fu.propTypes={control:oo().object.isRequired,path:oo().array.isRequired};const Ku=Fu;function Uu(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class zu extends d.Component{constructor(){super(...arguments),Uu(this,"shouldComponentUpdate",fn()),Uu(this,"renderField",((e,t,s,i)=>(0,ot.jsx)(zu,{index:t,className:"row",control:e,inputFullWidth:this.props.inputFullWidth,setGroupRepeaterActionToggler:this.props.setGroupRepeaterActionToggler,comingFromRepeater:this.props.comingFromRepeater,form:i[e.name],path:[...s,e.name]},t)))}render(){const{control:e,path:t,form:s}=this.props,i=e.ref,n=e.type;return 0===(null==e?void 0:e.schema.length)&&(void 0!==s?e.value=Jt(s):"object"==typeof e.value&&(e.value=Jt(e.value))),"group-repeater"===n?(0,ot.jsx)(Ku,{path:t,control:e,form:s},i):"fields-group"===n?e.value.map(((e,i)=>this.renderField(e,i,t,s))):(0,ot.jsx)(Pu,{hidden:e.hidden,control:e,path:t,inputFullWidth:this.props.inputFullWidth,setGroupRepeaterActionToggler:this.props.setGroupRepeaterActionToggler,comingFromRepeater:this.props.comingFromRepeater},i)}}Uu(zu,"propTypes",{control:oo().object.isRequired,path:oo().array.isRequired});const Hu=zu;function Bu(e,t,s){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Wu extends d.Component{constructor(){super(...arguments),Bu(this,"shouldComponentUpdate",fn()),Bu(this,"renderComponent",((e,t)=>{const{path:s,form:i}=this.props,n=[...s,e.name],a=[...n,t].join(","),o=(0,ot.jsx)(Hu,{control:e,form:i[e.name],index:t,inputFullWidth:this.props.inputFullWidth,setGroupRepeaterActionToggler:this.props.setGroupRepeaterActionToggler,comingFromRepeater:this.props.comingFromRepeater,path:n},a);return 1===s.length?{key:t,label:Rs({key:e.name,label:e.label}),children:o}:o}))}render(){let{fields:e,path:t}=this.props;return 1===t.length?(0,ot.jsx)(ra.default,{defaultActiveKey:["0"],ghost:!0,accordion:!0,expandIconPosition:"end",items:e.map(this.renderComponent)}):(0,ot.jsx)(ot.Fragment,{children:e.map(this.renderComponent)})}}Wu.propTypes={path:oo().array.isRequired};const Vu=Wu,Ju=e=>{var t,s,i;let{tabs:n=[],tabValue:a=""}=e;const o=n.includes(a)?a:null!==(t=n[0])&&void 0!==t?t:"general",l="abcdefghijklmnopqrstuvwxyz",r=(0,c.wA)(),{formReducer:p,id:u,isSetFromHistory:h}=(0,c.d4)((e=>{let{form:t,trackActions:{groupRepeaterAction:s,action:i}}=e;const n="SET_STATE_FROM_HISTORY"===i;return{formReducer:t,id:n?t.node.id+(l.charAt(Math.floor(26*Math.random()))+l.charAt(Math.floor(26*Math.random()))):t.node.id,groupRepeaterAction:s,isSetFromHistory:n}}),((e,t)=>!t.isSetFromHistory&&e.groupRepeaterAction===t.groupRepeaterAction&&e.id===t.id));(0,d.useEffect)((async()=>{h&&await r(ae("DONE_SETTING_STATE_FROM_HISTORY"))}),[h]);const m=null==p||null===(s=p.schema)||void 0===s||null===(s=s.form)||void 0===s?void 0:s[o],x=null==p||null===(i=p.node)||void 0===i||null===(i=i.form)||void 0===i?void 0:i[o];return(0,ot.jsx)(ot.Fragment,{children:x&&m&&(0,ot.jsx)("div",{"data-simplebar":!0,children:(0,ot.jsx)(Vu,{fields:m,path:[o],form:x})},u)})};class Gu extends d.Component{render(){return(0,ot.jsx)(Dn,{children:(0,ot.jsxs)("div",{className:"qx-form-settings slide-in-from-right",style:{width:"100%"},children:[(0,ot.jsx)(Mc,{}),(0,ot.jsx)(gn.default,{style:{marginBottom:0}}),(0,ot.jsx)("div",{className:"qxui-form-collapse",children:(0,ot.jsx)(Qu,{})})]})})}}function Qu(){var e;const{tabs:t,slug:s}=(0,c.d4)((e=>{let{form:{node:t,schema:s}}=e;return{tabs:Object.keys((null==t?void 0:t.form)||{}),slug:null==s?void 0:s.slug}}),((e,t)=>e.tabs.length===t.tabs.length&&e.tabs.every(((e,s)=>e===t.tabs[s])))),[i,n]=(0,d.useState)(null!==(e=t[0])&&void 0!==e?e:"general");return(0,d.useEffect)((()=>{var e;null!==(e=window)&&void 0!==e&&null!==(e=e.QUIX)&&void 0!==e&&e.formTab?window.QUIX.formTab=i:window.QUIX={...window.QUIX||{},formTab:i}}),[]),(0,d.useEffect)((async()=>{var e;if("general"!==((null===(e=window)||void 0===e||null===(e=e.QUIX)||void 0===e?void 0:e.formTab)||"general")||t.length>3){const e=rs("qx-right-side-bar"),s=getComputedStyle(e);t.length>3?await _s(!1,"22.5rem"):"275.188px"!==s.width&&await _s("minWidth")}}),[t]),(0,ot.jsxs)(ot.Fragment,{children:[(0,ot.jsx)("div",{style:{paddingInline:12,marginBlock:12},children:(0,ot.jsx)(Rc,{options:t.map((e=>({key:e,value:e,label:Rs({absoluteKey:"advanced"===e?e:"".concat(s,"_").concat(s,"_").concat(e),label:e})}))),defaultValue:null!=i?i:t[0],handelChange:e=>{n(e),window.QUIX.formTab=e}})}),(0,ot.jsx)(Ju,{tabs:t,tabValue:i})]})}const Yu=Gu;function Xu(){const e=(0,c.d4)((e=>{let{nodes:{nodes:t}}=e;return 0===(null==t?void 0:t.length)}),c.bN),t=(0,c.wA)();async function s(){const e=[0,"children",0,"children"];return await t(Ji()),await t(Gi([0,"children"],0)),await t(Qi(e,[1])),[...e,0,"children"]}return(0,d.useEffect)((()=>{e&&t(Is(s))}),[e]),(0,ot.jsx)(ot.Fragment,{})}const Zu=()=>{const e=(0,c.d4)((e=>{let{form:t}=e;return t.showForm}),c.bN),t={form:(0,ot.jsx)(Yu,{}),empty:""},s=e?"form":"empty";return(0,ot.jsxs)("div",{unselectable:"on",style:{position:"relative",paddingBottom:"10rem"},children:[t[s],(0,ot.jsx)(Xu,{})]})},$u=e=>getComputedStyle(document.body).getPropertyValue(e),eh=()=>({token:{colorPrimary:$u("--clr-color-primary"),colorBgContainer:$u("--txt-bgc-gray"),fontFamily:'"Inter", sans-serif,system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", Segoe UI Symbol'},components:{Button:{colorPrimary:$u("--clr-color-primary"),controlHeightSM:28,borderRadius:4,borderRadiusSM:4},Divider:{marginLG:15,colorSplit:$u("--txt-clr-gray")},Drawer:{colorText:"var(--qx-text-color-dark-mode, #000)"},Dropdown:{colorText:$u("--txt-accent-color-dark"),controlItemBgHover:$u("--clr-color-primary"),fontSize:12},Input:{hoverBorderColor:"transparent",fontSize:12,borderRadius:4},Modal:{contentBg:"var(--clr-plain-background-primary)",footerBg:"var(--clr-plain-background-primary)",headerBg:"var(--clr-plain-background-primary)",titleColor:"var(--qx-text-color-dark-mode, #000)"},Segmented:{itemSelectedColor:$u("--clr-color-primary"),itemSelectedBg:"var(--qx-bg-color-1, #ffffff)",trackBg:"#e5e7eb",fontSize:12,borderRadiusSM:4,borderRadiusXS:4},Select:{fontSize:12,borderRadius:4,hoverBorderColor:"transparent"},Slider:{dotSize:4,controlSize:5},Tabs:{itemColor:"var(--qx-text-color-dark-mode, #000)"}}}),th=()=>{const e=(0,d.useRef)(null),t=()=>{const t=e.current;t.querySelector(".qx-guide-container").style.scale="0",t.style.opacity="0",t.setAttribute("data-guide-showing","false"),localStorage.setItem("qx-guid-shown","true"),setTimeout((()=>{t.style.display="none"}),300)};return(0,ot.jsxs)(ot.Fragment,{children:[(0,ot.jsxs)("div",{id:"canvas-dynamic-content","data-preview":"desktop",children:[(0,ot.jsxs)("div",{id:"canvas-dynamic-content-overlay",children:[(0,ot.jsx)("img",{src:ye()+"/media/quixnxt/images/loading-animation.gif",alt:"Loading animation"}),(0,ot.jsx)("p",{children:"Be patient. Good things take time."})]}),(0,ot.jsx)("iframe",{title:"quixFrame",unselectable:"on",onSelect:()=>!1,name:"quixFrame",id:"quix-iframe-wrapper",sandbox:"allow-top-navigation-by-user-activation allow-forms allow-popups allow-modals allow-pointer-lock allow-same-origin allow-scripts",allowFullScreen:"allowfullscreen",allow:"clipboard-read; clipboard-write",src:window.QUIX_IFRAME_URL})]}),(0,ot.jsx)("div",{ref:e,"data-guide-showing":"false",id:"qx-guide-modal",children:(0,ot.jsxs)("div",{className:"qx-guide-container",children:[(0,ot.jsxs)("div",{className:"qx-guide-header",children:[(0,ot.jsxs)("span",{className:"qx-flex qx-flex-middle",children:[(0,ot.jsx)("img",{className:"qx-logo",alt:"quix-5 log",src:ye()+"/media/quixnxt/images/quix5-logo.png"}),(0,ot.jsx)("span",{className:"qx-guide-title",children:"Quix"})]}),(0,ot.jsx)("span",{onClick:t,className:"qxio-close"})]}),(0,ot.jsx)("img",{alt:"quix-5 builder preview",style:{background:"black"},className:"qx-logo",src:ye()+"/media/quixnxt/images/quix-5-builder.png"}),(0,ot.jsxs)("div",{className:"qx-guide-content",children:[(0,ot.jsx)("h3",{children:"Welcome to Quix 5"}),(0,ot.jsx)("p",{children:"Bring your creative ideas to life. Take your business to the next level with the most powerful tools."}),(0,ot.jsxs)("div",{style:{width:"50%",marginLeft:"auto",display:"flex",gap:10},children:[(0,ot.jsx)(ci(),{onClick:t,block:!0,size:"large",type:"default",children:"Close"}),(0,ot.jsx)(ci(),{style:{backgroundColor:"#521fe3"},block:!0,onClick:()=>window.open("https://www.youtube.com/watch?v=f5QniFn9lxQ&t=1s","_blank"),size:"large",type:"primary",children:"Watch overview video"})]})]})]})})]})};window.qxUIkit=s(87681);const sh=async e=>{const t=()=>(0,ot.jsx)(c.Kq,{store:e,children:(0,ot.jsx)(n.default,{prefixCls:"qxui",theme:eh(),children:(0,ot.jsx)(Dc,{})})}),s=()=>(0,ot.jsx)(c.Kq,{store:e,children:(0,ot.jsx)(n.default,{prefixCls:"qxui",theme:eh(),children:(0,ot.jsx)(Zu,{})})});return(0,fc.render)((0,ot.jsx)(t,{}),rs("qx-left-side-bar")),(0,fc.render)((0,ot.jsx)(s,{}),rs("qx-right-side-bar")),"DONE RENDERING SIDE BARS"},ih=async e=>{const t=()=>(0,ot.jsx)(c.Kq,{store:e,children:(0,ot.jsx)(n.default,{theme:eh(),prefixCls:"qxui",children:(0,ot.jsx)(so,{})})});return jQuery("#loaderMessage").addClass("step2").html("Preparing Assets"),window.loadedQuixComponentBuilder=!0,(0,fc.render)((0,ot.jsx)(t,{}),rs("qx-fb-frame-toolbar")),"DONE RENDERING THE TOOL BAR"},nh=async e=>{const t=()=>(0,ot.jsx)(c.Kq,{store:e,children:(0,ot.jsx)(n.default,{theme:eh(),prefixCls:"qxui",children:(0,ot.jsx)(vc,{})})});return new Promise(((e,s)=>{let i=!1;const n=setInterval((async function(){try{const s=await new Promise(((e,t)=>{if(ts.mount_node)return ts.document.addEventListener("keydown",es),e({node:ts.mount_node,doc:ts.document});ts.onLoad.push((()=>{e(ts.mount_node)}))}));if(s){const{node:a,doc:o}=s;i=!!a,i&&(clearInterval(n),(0,fc.render)((0,ot.jsx)(t,{}),a),setTimeout((async()=>{window.newSectionAdded=!0;const t=o.querySelector(".qx-section-settings");t&&"0"===(null==t?void 0:t.getAttribute("data-index"))&&t.click(),rs("canvas-dynamic-content-overlay").style.display="none";const s=localStorage.getItem("qx-guid-shown");s&&"false"!==s||(()=>{const e=document.getElementById("qx-guide-modal");e.style.display="flex",e.style.opacity="1",e.setAttribute("data-guide-showing","true"),setTimeout((()=>{e.querySelector(".qx-guide-container").style.scale="1"}),220)})(),e()}),100))}}catch(e){}}),2e3);setTimeout((()=>{clearInterval(n),i||s("Something went wrong please refresh the page again.")}),6e4)}))},ah=async()=>{const e=await ss();e.addEventListener("click",(e=>{e.target.closest(".contextMenu-dropdown")||ls.click()})),e.addEventListener("contextmenu",(e=>{e.target.closest("#qx-fb-mount")||ls.click()})),window.document.addEventListener("contextmenu",(()=>{ls.click()}))},oh=()=>{jQuery((function(){setTimeout((()=>{Le(document.getElementById("jform_template_type"))||["editor","section","page","article","header","footer","mainbody"].includes(document.getElementById("jform_template_type").value)&&0===window.quix_initial_nodes_size&&o.emit("SHOW_TEMPLATE_MODAL",{path:null,tab:"Sections"})}),3e3)}))};async function lh(e){try{await $t.prepare(),await new Promise(((e,t)=>{const s=[],i=Ye();for(const e of i)s.push(new Promise((t=>Promise.all([et(e.slug),tt(e.slug)]).then((s=>t({slug:e.slug,schema:s[0],node:s[1]}))))));Promise.all(s).then((t=>{for(const e of t)wt.push(e.schema),jt.push(e.node),qt.push(e.slug);e()})).catch(t)})),await nh(e),await ih(e),await sh(e),document.querySelectorAll('link[disabled="true"]').forEach((e=>e.removeAttribute("disabled"))),await ah(),await oh()}catch(e){alert(e),console.error("An error occurred while booting up Quix",e)}}async function rh(){await async function(){}();const e=await(0,yc.y$)(Tc,Ac((0,yc.Tw)(Qs,bc.A)));await(async e=>{const t=()=>{const[t,s]=i.Ay.useNotification({placement:"bottomRight",duration:5,bottom:50,getContainer:()=>window.document.body}),a=e.dispatch;return window.Notification=t,d.useEffect((()=>{const e=localStorage.getItem("qx-theme");if(!e||"true"===localStorage.getItem("qx-system-theme")){const t=Os();e!==t&&(localStorage.setItem("qx-system-theme","true"),a(Bs(t)))}}),[]),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>{if("false"===localStorage.getItem("qx-system-theme"))return;const t=e.matches?"dark":"light";a(Bs(t))})),(0,ot.jsx)(c.Kq,{store:e,children:(0,ot.jsxs)(n.default,{theme:eh(),prefixCls:"qxui",children:[s,(0,ot.jsx)(th,{})]})})};(0,fc.render)((0,ot.jsx)(t,{}),rs("qxui-preview-content"));const s=setInterval((()=>{window.parent.postMessage({event:"iframe-loaded"},window.origin)}),1e3);return setTimeout((()=>{clearInterval(s)}),12e4),"DONE RENDERING THE CANVAS"})(e);try{await(Je=Jt(window.qx_elements),delete window.qx_elements,new Promise(((e,t)=>{Promise.all(Je.map((e=>new Promise(((t,s)=>{var i;(i="".concat(e.slug,"-schema"),new Promise(((e,t)=>Be().getItem(i).then((t=>e(!!t))).catch(t)))).then((s=>{t({key:e.slug,loaded:s})})).catch(s)}))))).then((s=>{const i=s.filter((e=>!e.loaded)).map((e=>e.key));i.length>0?t(i):e()})).catch(t)}))),await st(),await lh(e)}catch(t){try{const s=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=e.length,s=(Math.ceil(t/3),function(e,t){let s=[];for(let t=0;t<3;t++){const i=Math.ceil(t*e.length/3),n=Math.ceil((t+1)*e.length/3);s.push(e.slice(i,n))}return s}(e)),i=e=>De().get("".concat(ge(),"/index.php?option=com_quix&task=element.getElements&elements=").concat(e.join(",")));try{const e=[];for(const t of s)e.push(await i(t));return new Promise((t=>{t(e.reduce(((e,t)=>{var s;if("string"==typeof t.data){const e=t.data.indexOf("{"),s=t.data.substring(e);t.data=JSON.parse(s)}const i=(null==t||null===(s=t.data)||void 0===s?void 0:s.data)||{};for(const t in i)"js"===t||"css"===t?e[t]=[...e[t]||[],...i[t]]:i.hasOwnProperty(t)&&(e[t]={...e[t],...i[t]});return e}),{}))}))}catch(e){throw console.error("Error loading elements:",e),e}}(t);for(const e in s.elements)s.elements.hasOwnProperty(e)&&(s.elements[e].default_node=JSON.parse(s.elements[e].default_node),s.elements[e].schema=JSON.parse(s.elements[e].schema));await st();try{await Promise.all([Qe(s.elements),Qe(s.special),Qe({js:s.js,css:s.css})]),await lh(e)}catch(e){console.error(e)}}catch(e){console.error(e)}}}window.addEventListener("DOMContentLoaded",(async()=>{if("true"===localStorage.getItem("clean-qx-cash"))return await async function(){const e=localStorage.getItem("qx-system-theme"),t=localStorage.getItem("qx-theme"),s=localStorage.getItem("qx-guid-shown");return localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach((e=>{document.cookie=e.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date(0).toUTCString()+";path=/")})),"caches"in window&&caches.keys().then((e=>{e.forEach((e=>caches.delete(e)))})),localStorage.setItem("qx-system-theme",e),localStorage.setItem("qx-theme",t),localStorage.setItem("qx-guid-shown",s),"DONE CLEARING THE CACHE"}(),window.location.reload();await rh()})),window.addEventListener("load",(()=>{window.document.body.style.height="100vh",window.document.body.style.overflow="hidden",window.document.body.querySelector("form.qx-fb")})),window.addEventListener("keydown",es),window.addEventListener("closeContextMenu",(e=>{const t=new CustomEvent("closeContextMenu");if(e.eventFromIframe&&!window.openedContextMenuId)return!1;const s=".".concat(window.openedContextMenuId||"none"),i=document.querySelector(s);i&&i.dispatchEvent(t)})),window.dispatchCloseContextMenuEvent=()=>{const e=new CustomEvent("closeContextMenu");window.dispatchEvent(e)}},30251:(e,t,s)=>{window.pkg_quix_public_path=`${window.quix.url}/index.php?version=${window.quix.version}&quix-asset=`,s.p=pkg_quix_public_path},34654:()=>{},34149:()=>{},89780:()=>{},14600:()=>{},99926:()=>{},90124:()=>{},71220:()=>{},38854:()=>{},63677:()=>{}},n={};function a(e){var t=n[e];if(void 0!==t)return t.exports;var s=n[e]={id:e,loaded:!1,exports:{}};return i[e].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}a.m=i,e=[],a.O=(t,s,i,n)=>{if(!s){var o=1/0;for(c=0;c<e.length;c++){for(var[s,i,n]=e[c],l=!0,r=0;r<s.length;r++)(!1&n||o>=n)&&Object.keys(a.O).every((e=>a.O[e](s[r])))?s.splice(r--,1):(l=!1,n<o&&(o=n));if(l){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[s,i,n]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},s=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(e,i){if(1&i&&(e=this(e)),8&i)return e;if("object"==typeof e&&e){if(4&i&&e.__esModule)return e;if(16&i&&"function"==typeof e.then)return e}var n=Object.create(null);a.r(n);var o={};t=t||[null,s({}),s([]),s(s)];for(var l=2&i&&e;"object"==typeof l&&!~t.indexOf(l);l=s(l))Object.getOwnPropertyNames(l).forEach((t=>o[t]=()=>e[t]));return o.default=()=>e,a.d(n,o),n},a.d=(e,t)=>{for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},a.e=()=>Promise.resolve(),a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.j=682,a.p="/",(()=>{var e={682:0};a.O.j=t=>0===e[t];var t=(t,s)=>{var i,n,[o,l,r]=s,d=0;if(o.some((t=>0!==e[t]))){for(i in l)a.o(l,i)&&(a.m[i]=l[i]);if(r)var c=r(a)}for(t&&t(s);d<o.length;d++)n=o[d],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(c)},s=self.webpackChunkpkg_quix=self.webpackChunkpkg_quix||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),a.O(void 0,[577],(()=>a(30251))),a.O(void 0,[577],(()=>a(54001)));var o=a.O(void 0,[577],(()=>a(76551)));o=a.O(o)})();